/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if ((from && typeof from === "object") || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, {
          get: () => from[key],
          enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable,
        });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (
  (target = mod != null ? __create(__getProtoOf(mod)) : {}),
  __copyProps(
    isNodeMode || !mod || !mod.__esModule
      ? __defProp(target, "default", { value: mod, enumerable: true })
      : target,
    mod
  )
);
var __toCommonJS = (mod) =>
  __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => VCCopilotPlugin,
  gpt_3_latest: () => gpt_3_latest,
  gpt_4_latest: () => gpt_4_latest2,
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/utils.ts
var import_obsidian = require("obsidian");
var url_affinity_organizations = "https://api.affinity.co/organizations";
var url_affinity_note = "https://api.affinity.co/notes";
var url_affinity_persons = "https://api.affinity.co/persons";
var url_affinity_field_values = "https://api.affinity.co/field-values";
var url_affinity_list = "https://api.affinity.co/lists";
function affinity_authorization(affinityAPIKey2) {
  let username = "";
  let pwd = affinityAPIKey2;
  let auth = "Basic " + Buffer.from(username + ":" + pwd).toString("base64");
  let headers = { Authorization: auth, "Content-Type": "application/json" };
  return headers;
}
async function add_notes_to_company(startup, note, affinityAPIKey2) {
  let headers = affinity_authorization(affinityAPIKey2);
  let organization_ids = [startup["id"]];
  console.log(organization_ids);
  console.log(note);
  let note_data = { organization_ids: [startup["id"]], content: note };
  let r = await (0, import_obsidian.request)({
    url: url_affinity_note,
    method: "POST",
    headers,
    body: JSON.stringify(note_data),
  })
    .then((data) => console.log(data))
    .catch((error) => {
      console.error(error);
      if (error) {
        return null;
      }
    });
  return "Success";
}
async function get_startup_by_name(
  affinityAPIKey2,
  owner_value2,
  startup_name
) {
  let subnames = startup_name.split(" ");
  let search_term = subnames[0];
  if (subnames.length > 1) {
    for (let name of subnames.slice(1)) {
      search_term = search_term + "+" + name;
    }
  }
  console.log(search_term);
  let next_page_token = null;
  let headers = affinity_authorization(affinityAPIKey2);
  while (true) {
    let full_url =
      url_affinity_organizations +
      "?term=" +
      search_term +
      "&with_interaction_dates=true&with_interaction_persons=true";
    if (next_page_token != null) {
      full_url += "&page_token=" + next_page_token;
    }
    let r = await (0, import_obsidian.request)({
      url: full_url,
      method: "GET",
      headers,
    });
    let response = JSON.parse(r);
    let organizations = response["organizations"];
    next_page_token = response["next_page_token"];
    for (let organization of organizations) {
      if (organization["interactions"]) {
        for (let [interaction_name, interaction_data] of Object.entries(
          organization["interactions"]
        )) {
          if (interaction_data) {
            let people_involved = interaction_data["person_ids"].toString();
            if (people_involved.includes(owner_value2)) {
              return organization;
            }
          } else {
            break;
          }
        }
      }
    }
    if (next_page_token == null) {
      return null;
    }
  }
}
async function get_person_by_name(affinityAPIKey2, person_name) {
  let names = person_name.split(" ");
  if (names.length > 1) {
    let next_page_token = null;
    let headers = affinity_authorization(affinityAPIKey2);
    let first_name = names[0];
    let last_name = names[1];
    while (true) {
      let full_url = url_affinity_persons + "?term=" + last_name;
      if (next_page_token != null) {
        full_url += "&page_token=" + next_page_token;
      }
      let r = await (0, import_obsidian.request)({
        url: full_url,
        method: "GET",
        headers,
      });
      let response = JSON.parse(r);
      let people = response["persons"];
      next_page_token = response["next_page_token"];
      for (let person of people) {
        if (
          person["first_name"] == first_name &&
          person["last_name"] == last_name
        ) {
          return person;
        }
      }
      if (next_page_token == null) {
        break;
      }
    }
    return null;
  } else {
    return null;
  }
  return null;
}
async function get_person_details(affinityAPIKey2, person_id) {
  let full_url = url_affinity_persons + "/" + person_id.toString();
  let headers = affinity_authorization(affinityAPIKey2);
  let r = await (0, import_obsidian.request)({
    url: full_url,
    method: "GET",
    headers,
  });
  let response = JSON.parse(r);
  return response;
}
async function is_person_in_venture_network(
  affinityAPIKey2,
  person_details,
  venture_network_list_id
) {
  let list_entries = person_details["list_entries"];
  for (let entry of list_entries) {
    if (entry["list_id"].toString() == venture_network_list_id.toString()) {
      return entry["id"];
    }
  }
  return null;
}
async function add_entry_to_list(affinityAPIKey2, list_id, entity_id) {
  let headers = affinity_authorization(affinityAPIKey2);
  let full_url = url_affinity_list + "/" + list_id + "/list-entries";
  let data = { entity_id };
  let r = await (0, import_obsidian.request)({
    url: full_url,
    method: "POST",
    headers,
    body: JSON.stringify(data),
  })
    .then((data2) => console.log(data2))
    .catch((error) => {
      console.error(error);
      if (error) {
        return null;
      }
    });
  return "Success";
}
async function add_field_value(
  affinityAPIKey2,
  field_id,
  entity_id,
  value,
  list_entry_id
) {
  let headers = affinity_authorization(affinityAPIKey2);
  let full_url = url_affinity_field_values;
  let data = {
    field_id,
    entity_id,
    value,
    list_entry_id,
  };
  let r = await (0, import_obsidian.request)({
    url: full_url,
    method: "POST",
    headers,
    body: JSON.stringify(data),
  })
    .then((data2) => console.log(data2))
    .catch((error) => {
      console.error(error);
      if (error) {
        return null;
      }
    });
  return "Success";
}
async function add_notes_to_person(affinityAPIKey2, person_id, notes) {
  let full_url = url_affinity_note;
  let headers = affinity_authorization(affinityAPIKey2);
  let data = { person_ids: [person_id], content: notes };
  let r = await (0, import_obsidian.request)({
    url: full_url,
    method: "POST",
    headers,
    body: JSON.stringify(data),
  })
    .then((data2) => console.log(data2))
    .catch((error) => {
      console.error(error);
      if (error) {
        return null;
      }
    });
  return "Success";
}
function startup_ready_for_affinity(file_content) {
  return (
    file_content.includes("#startups/screened") &&
    file_content.includes("#Affinity")
  );
}
function extract_title_and_note(text) {
  let pattern = /^# .*\n/gm;
  let matches = text.match(pattern);
  let title = "";
  if (matches) {
    title = matches[0];
  }
  let substrings = text.split(pattern);
  console.log(`Title: ${title}`);
  console.log(substrings);
  return [title, substrings];
}
function clean_text(startup_name) {
  startup_name = startup_name.replace(/[^A-Za-z0-9\s.]/g, "");
  startup_name = startup_name.trim();
  return startup_name;
}
function is_summarizable(file_content) {
  return (
    file_content.includes("#network/connected") &&
    (file_content.includes("#Entity/VC") ||
      file_content.includes("#Person/VC")) &&
    file_content.includes("#gpt_summarized") != true &&
    file_content.includes("dataview") != true
  );
}
function vc_ready_for_affinity(file_content) {
  return (
    file_content.includes("#gpt_summarized") &&
    file_content.includes("#Affinity")
  );
}
function countWords(str2) {
  let words = str2.match(/\b[a-z\d]+\b/gi);
  return words ? words.length : 0;
}

// src/modal.ts
var import_obsidian2 = require("obsidian");
var TextInputModal = class extends import_obsidian2.Modal {
  constructor(app2, type, onsubmit) {
    super(app2);
    this.onsubmit = onsubmit;
    this.type = type;
  }
  onOpen() {
    const { contentEl } = this;
    let title = "";
    if (this.type == "market-research") {
      title = "What industry do you want to research?";
    }
    if (this.type == "defensibility") {
      title = "Describe the startup whose defensibility is to be evaluated";
    }
    if (this.type == "evaluate") {
      title = "Describe the startup to be evaluated";
    }
    if (this.type == "url-research") {
      title = "Enter url to investigate";
    }
    if (this.type == "fireflies-summary") {
      title =
        "Insert the name of the fireflies recording/meeting you would like to summarize";
    }
    if (this.type == "competition") {
      title = "Describe the startup or industry for competition research";
    }
    contentEl.createEl("h2", { text: title });
    const inputEl = contentEl.createEl("textarea");
    inputEl.addEventListener("input", (event) => {
      event.stopPropagation();
    });
    const submitButton = contentEl.createEl("button", { text: "Submit" });
    submitButton.style.position = "absolute";
    submitButton.style.bottom = "0";
    submitButton.style.right = "0";
    submitButton.addEventListener("click", () => {
      this.onsubmit(inputEl.value);
      this.close();
    });
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};
var MultipleTextInputModal = class extends import_obsidian2.Modal {
  constructor(app2, type, onsubmit) {
    super(app2);
    this.onsubmit = onsubmit;
    this.type = type;
  }
  onOpen() {
    const { contentEl } = this;
    let title = "What topic would you like to research today?";
    contentEl.createEl("h2", { text: title });
    let query = new import_obsidian2.Setting(contentEl)
      .setName("Search Query")
      .addText((text) =>
        text.onChange((value) => {
          this.query = value;
        })
      );
    let web = new import_obsidian2.Setting(contentEl)
      .setName("Website to Search")
      .addText((text) =>
        text.onChange((value) => {
          this.website = value;
        })
      );
    new import_obsidian2.Setting(contentEl)
      .setName("Task to do")
      .addDropdown((menu) => {
        menu.addOption("competition", "Find & Analyze competitors");
        menu.addOption("market-research", "Investor Summary");
        menu.setValue("....");
        menu.onChange((value) => {
          this.task = value;
        });
      });
    let button = new import_obsidian2.Setting(contentEl).addButton((btn) => {
      btn
        .setButtonText("Submit")
        .setCta()
        .onClick(() => {
          this.close();
          this.onsubmit(this.website + ", " + this.query + ", " + this.task);
        });
    });
  }
};
var PDFModal = class extends import_obsidian2.FuzzySuggestModal {
  constructor(app2, onsubmit) {
    super(app2);
    this.onsubmit = onsubmit;
  }
  getItems() {
    return this.app.vault
      .getFiles()
      .filter((file) => file.extension.includes("pdf"));
  }
  getItemText(file) {
    return file.name;
  }
  onChooseItem(file, evt) {
    this.onsubmit(file.path);
  }
};

// node_modules/openai/version.mjs
var VERSION = "4.20.0";

// node_modules/openai/_shims/registry.mjs
var auto = false;
var kind = void 0;
var fetch2 = void 0;
var Request2 = void 0;
var Response2 = void 0;
var Headers2 = void 0;
var FormData2 = void 0;
var Blob2 = void 0;
var File2 = void 0;
var ReadableStream2 = void 0;
var getMultipartRequestOptions = void 0;
var getDefaultAgent = void 0;
var fileFromPath = void 0;
var isFsReadStream = void 0;
function setShims(shims, options = { auto: false }) {
  if (auto) {
    throw new Error(
      `you must \`import 'openai/shims/${shims.kind}'\` before importing anything else from openai`
    );
  }
  if (kind) {
    throw new Error(
      `can't \`import 'openai/shims/${shims.kind}'\` after \`import 'openai/shims/${kind}'\``
    );
  }
  auto = options.auto;
  kind = shims.kind;
  fetch2 = shims.fetch;
  Request2 = shims.Request;
  Response2 = shims.Response;
  Headers2 = shims.Headers;
  FormData2 = shims.FormData;
  Blob2 = shims.Blob;
  File2 = shims.File;
  ReadableStream2 = shims.ReadableStream;
  getMultipartRequestOptions = shims.getMultipartRequestOptions;
  getDefaultAgent = shims.getDefaultAgent;
  fileFromPath = shims.fileFromPath;
  isFsReadStream = shims.isFsReadStream;
}

// node_modules/openai/_shims/MultipartBody.mjs
var MultipartBody = class {
  constructor(body) {
    this.body = body;
  }
  get [Symbol.toStringTag]() {
    return "MultipartBody";
  }
};

// node_modules/openai/_shims/web-runtime.mjs
function getRuntime({ manuallyImported } = {}) {
  const recommendation = manuallyImported
    ? `You may need to use polyfills`
    : `Add one of these imports before your first \`import \u2026 from 'openai'\`:
- \`import 'openai/shims/node'\` (if you're running on Node)
- \`import 'openai/shims/web'\` (otherwise)
`;
  let _fetch, _Request, _Response, _Headers;
  try {
    _fetch = fetch;
    _Request = Request;
    _Response = Response;
    _Headers = Headers;
  } catch (error) {
    throw new Error(
      `this environment is missing the following Web Fetch API type: ${error.message}. ${recommendation}`
    );
  }
  return {
    kind: "web",
    fetch: _fetch,
    Request: _Request,
    Response: _Response,
    Headers: _Headers,
    FormData:
      typeof FormData !== "undefined"
        ? FormData
        : class FormData {
            constructor() {
              throw new Error(
                `file uploads aren't supported in this environment yet as 'FormData' is undefined. ${recommendation}`
              );
            }
          },
    Blob:
      typeof Blob !== "undefined"
        ? Blob
        : class Blob {
            constructor() {
              throw new Error(
                `file uploads aren't supported in this environment yet as 'Blob' is undefined. ${recommendation}`
              );
            }
          },
    File:
      typeof File !== "undefined"
        ? File
        : class File {
            constructor() {
              throw new Error(
                `file uploads aren't supported in this environment yet as 'File' is undefined. ${recommendation}`
              );
            }
          },
    ReadableStream:
      typeof ReadableStream !== "undefined"
        ? ReadableStream
        : class ReadableStream {
            constructor() {
              throw new Error(
                `streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${recommendation}`
              );
            }
          },
    getMultipartRequestOptions: async (form, opts) => ({
      ...opts,
      body: new MultipartBody(form),
    }),
    getDefaultAgent: (url) => void 0,
    fileFromPath: () => {
      throw new Error(
        "The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads"
      );
    },
    isFsReadStream: (value) => false,
  };
}

// node_modules/openai/_shims/index.mjs
if (!kind) setShims(getRuntime(), { auto: true });

// node_modules/openai/error.mjs
var error_exports = {};
__export(error_exports, {
  APIConnectionError: () => APIConnectionError,
  APIConnectionTimeoutError: () => APIConnectionTimeoutError,
  APIError: () => APIError,
  APIUserAbortError: () => APIUserAbortError,
  AuthenticationError: () => AuthenticationError,
  BadRequestError: () => BadRequestError,
  ConflictError: () => ConflictError,
  InternalServerError: () => InternalServerError,
  NotFoundError: () => NotFoundError,
  OpenAIError: () => OpenAIError,
  PermissionDeniedError: () => PermissionDeniedError,
  RateLimitError: () => RateLimitError,
  UnprocessableEntityError: () => UnprocessableEntityError,
});
var OpenAIError = class extends Error {};
var APIError = class extends OpenAIError {
  constructor(status, error, message, headers) {
    super(`${APIError.makeMessage(status, error, message)}`);
    this.status = status;
    this.headers = headers;
    const data = error;
    this.error = data;
    this.code = data == null ? void 0 : data["code"];
    this.param = data == null ? void 0 : data["param"];
    this.type = data == null ? void 0 : data["type"];
  }
  static makeMessage(status, error, message) {
    const msg = (error == null ? void 0 : error.message)
      ? typeof error.message === "string"
        ? error.message
        : JSON.stringify(error.message)
      : error
      ? JSON.stringify(error)
      : message;
    if (status && msg) {
      return `${status} ${msg}`;
    }
    if (status) {
      return `${status} status code (no body)`;
    }
    if (msg) {
      return msg;
    }
    return "(no status code or body)";
  }
  static generate(status, errorResponse, message, headers) {
    if (!status) {
      return new APIConnectionError({ cause: castToError(errorResponse) });
    }
    const error = errorResponse == null ? void 0 : errorResponse["error"];
    if (status === 400) {
      return new BadRequestError(status, error, message, headers);
    }
    if (status === 401) {
      return new AuthenticationError(status, error, message, headers);
    }
    if (status === 403) {
      return new PermissionDeniedError(status, error, message, headers);
    }
    if (status === 404) {
      return new NotFoundError(status, error, message, headers);
    }
    if (status === 409) {
      return new ConflictError(status, error, message, headers);
    }
    if (status === 422) {
      return new UnprocessableEntityError(status, error, message, headers);
    }
    if (status === 429) {
      return new RateLimitError(status, error, message, headers);
    }
    if (status >= 500) {
      return new InternalServerError(status, error, message, headers);
    }
    return new APIError(status, error, message, headers);
  }
};
var APIUserAbortError = class extends APIError {
  constructor({ message } = {}) {
    super(void 0, void 0, message || "Request was aborted.", void 0);
    this.status = void 0;
  }
};
var APIConnectionError = class extends APIError {
  constructor({ message, cause }) {
    super(void 0, void 0, message || "Connection error.", void 0);
    this.status = void 0;
    if (cause) this.cause = cause;
  }
};
var APIConnectionTimeoutError = class extends APIConnectionError {
  constructor({ message } = {}) {
    super({ message: message != null ? message : "Request timed out." });
  }
};
var BadRequestError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 400;
  }
};
var AuthenticationError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 401;
  }
};
var PermissionDeniedError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 403;
  }
};
var NotFoundError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 404;
  }
};
var ConflictError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 409;
  }
};
var UnprocessableEntityError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 422;
  }
};
var RateLimitError = class extends APIError {
  constructor() {
    super(...arguments);
    this.status = 429;
  }
};
var InternalServerError = class extends APIError {};

// node_modules/openai/streaming.mjs
var Stream = class {
  constructor(iterator, controller) {
    this.iterator = iterator;
    this.controller = controller;
  }
  static fromSSEResponse(response, controller) {
    let consumed = false;
    const decoder = new SSEDecoder();
    async function* iterMessages() {
      if (!response.body) {
        controller.abort();
        throw new OpenAIError(
          `Attempted to iterate over a response with no body`
        );
      }
      const lineDecoder = new LineDecoder();
      const iter = readableStreamAsyncIterable(response.body);
      for await (const chunk of iter) {
        for (const line of lineDecoder.decode(chunk)) {
          const sse = decoder.decode(line);
          if (sse) yield sse;
        }
      }
      for (const line of lineDecoder.flush()) {
        const sse = decoder.decode(line);
        if (sse) yield sse;
      }
    }
    async function* iterator() {
      if (consumed) {
        throw new Error(
          "Cannot iterate over a consumed stream, use `.tee()` to split the stream."
        );
      }
      consumed = true;
      let done = false;
      try {
        for await (const sse of iterMessages()) {
          if (done) continue;
          if (sse.data.startsWith("[DONE]")) {
            done = true;
            continue;
          }
          if (sse.event === null) {
            let data;
            try {
              data = JSON.parse(sse.data);
            } catch (e) {
              console.error(`Could not parse message into JSON:`, sse.data);
              console.error(`From chunk:`, sse.raw);
              throw e;
            }
            if (data && data.error) {
              throw new APIError(void 0, data.error, void 0, void 0);
            }
            yield data;
          }
        }
        done = true;
      } catch (e) {
        if (e instanceof Error && e.name === "AbortError") return;
        throw e;
      } finally {
        if (!done) controller.abort();
      }
    }
    return new Stream(iterator, controller);
  }
  static fromReadableStream(readableStream, controller) {
    let consumed = false;
    async function* iterLines() {
      const lineDecoder = new LineDecoder();
      const iter = readableStreamAsyncIterable(readableStream);
      for await (const chunk of iter) {
        for (const line of lineDecoder.decode(chunk)) {
          yield line;
        }
      }
      for (const line of lineDecoder.flush()) {
        yield line;
      }
    }
    async function* iterator() {
      if (consumed) {
        throw new Error(
          "Cannot iterate over a consumed stream, use `.tee()` to split the stream."
        );
      }
      consumed = true;
      let done = false;
      try {
        for await (const line of iterLines()) {
          if (done) continue;
          if (line) yield JSON.parse(line);
        }
        done = true;
      } catch (e) {
        if (e instanceof Error && e.name === "AbortError") return;
        throw e;
      } finally {
        if (!done) controller.abort();
      }
    }
    return new Stream(iterator, controller);
  }
  [Symbol.asyncIterator]() {
    return this.iterator();
  }
  tee() {
    const left = [];
    const right = [];
    const iterator = this.iterator();
    const teeIterator = (queue) => {
      return {
        next: () => {
          if (queue.length === 0) {
            const result = iterator.next();
            left.push(result);
            right.push(result);
          }
          return queue.shift();
        },
      };
    };
    return [
      new Stream(() => teeIterator(left), this.controller),
      new Stream(() => teeIterator(right), this.controller),
    ];
  }
  toReadableStream() {
    const self = this;
    let iter;
    const encoder = new TextEncoder();
    return new ReadableStream2({
      async start() {
        iter = self[Symbol.asyncIterator]();
      },
      async pull(ctrl) {
        try {
          const { value, done } = await iter.next();
          if (done) return ctrl.close();
          const bytes = encoder.encode(JSON.stringify(value) + "\n");
          ctrl.enqueue(bytes);
        } catch (err) {
          ctrl.error(err);
        }
      },
      async cancel() {
        var _a2;
        await ((_a2 = iter.return) == null ? void 0 : _a2.call(iter));
      },
    });
  }
};
var SSEDecoder = class {
  constructor() {
    this.event = null;
    this.data = [];
    this.chunks = [];
  }
  decode(line) {
    if (line.endsWith("\r")) {
      line = line.substring(0, line.length - 1);
    }
    if (!line) {
      if (!this.event && !this.data.length) return null;
      const sse = {
        event: this.event,
        data: this.data.join("\n"),
        raw: this.chunks,
      };
      this.event = null;
      this.data = [];
      this.chunks = [];
      return sse;
    }
    this.chunks.push(line);
    if (line.startsWith(":")) {
      return null;
    }
    let [fieldname, _, value] = partition(line, ":");
    if (value.startsWith(" ")) {
      value = value.substring(1);
    }
    if (fieldname === "event") {
      this.event = value;
    } else if (fieldname === "data") {
      this.data.push(value);
    }
    return null;
  }
};
var LineDecoder = class {
  constructor() {
    this.buffer = [];
    this.trailingCR = false;
  }
  decode(chunk) {
    let text = this.decodeText(chunk);
    if (this.trailingCR) {
      text = "\r" + text;
      this.trailingCR = false;
    }
    if (text.endsWith("\r")) {
      this.trailingCR = true;
      text = text.slice(0, -1);
    }
    if (!text) {
      return [];
    }
    const trailingNewline = LineDecoder.NEWLINE_CHARS.has(
      text[text.length - 1] || ""
    );
    let lines = text.split(LineDecoder.NEWLINE_REGEXP);
    if (lines.length === 1 && !trailingNewline) {
      this.buffer.push(lines[0]);
      return [];
    }
    if (this.buffer.length > 0) {
      lines = [this.buffer.join("") + lines[0], ...lines.slice(1)];
      this.buffer = [];
    }
    if (!trailingNewline) {
      this.buffer = [lines.pop() || ""];
    }
    return lines;
  }
  decodeText(bytes) {
    var _a2;
    if (bytes == null) return "";
    if (typeof bytes === "string") return bytes;
    if (typeof Buffer !== "undefined") {
      if (bytes instanceof Buffer) {
        return bytes.toString();
      }
      if (bytes instanceof Uint8Array) {
        return Buffer.from(bytes).toString();
      }
      throw new OpenAIError(
        `Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`
      );
    }
    if (typeof TextDecoder !== "undefined") {
      if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {
        (_a2 = this.textDecoder) != null
          ? _a2
          : (this.textDecoder = new TextDecoder("utf8"));
        return this.textDecoder.decode(bytes);
      }
      throw new OpenAIError(
        `Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`
      );
    }
    throw new OpenAIError(
      `Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`
    );
  }
  flush() {
    if (!this.buffer.length && !this.trailingCR) {
      return [];
    }
    const lines = [this.buffer.join("")];
    this.buffer = [];
    this.trailingCR = false;
    return lines;
  }
};
LineDecoder.NEWLINE_CHARS = /* @__PURE__ */ new Set([
  "\n",
  "\r",
  "\v",
  "\f",
  "",
  "",
  "",
  "\x85",
  "\u2028",
  "\u2029",
]);
LineDecoder.NEWLINE_REGEXP = /\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;
function partition(str2, delimiter) {
  const index = str2.indexOf(delimiter);
  if (index !== -1) {
    return [
      str2.substring(0, index),
      delimiter,
      str2.substring(index + delimiter.length),
    ];
  }
  return [str2, "", ""];
}
function readableStreamAsyncIterable(stream) {
  if (stream[Symbol.asyncIterator]) return stream;
  const reader = stream.getReader();
  return {
    async next() {
      try {
        const result = await reader.read();
        if (result == null ? void 0 : result.done) reader.releaseLock();
        return result;
      } catch (e) {
        reader.releaseLock();
        throw e;
      }
    },
    async return() {
      const cancelPromise = reader.cancel();
      reader.releaseLock();
      await cancelPromise;
      return { done: true, value: void 0 };
    },
    [Symbol.asyncIterator]() {
      return this;
    },
  };
}

// node_modules/openai/uploads.mjs
var isResponseLike = (value) =>
  value != null &&
  typeof value === "object" &&
  typeof value.url === "string" &&
  typeof value.blob === "function";
var isFileLike = (value) =>
  value != null &&
  typeof value === "object" &&
  typeof value.name === "string" &&
  typeof value.lastModified === "number" &&
  isBlobLike(value);
var isBlobLike = (value) =>
  value != null &&
  typeof value === "object" &&
  typeof value.size === "number" &&
  typeof value.type === "string" &&
  typeof value.text === "function" &&
  typeof value.slice === "function" &&
  typeof value.arrayBuffer === "function";
var isUploadable = (value) => {
  return isFileLike(value) || isResponseLike(value) || isFsReadStream(value);
};
async function toFile(value, name, options = {}) {
  var _a2, _b, _c;
  value = await value;
  if (isResponseLike(value)) {
    const blob = await value.blob();
    name ||
      (name =
        (_a2 = new URL(value.url).pathname.split(/[\\/]/).pop()) != null
          ? _a2
          : "unknown_file");
    return new File2([blob], name, options);
  }
  const bits = await getBytes(value);
  name || (name = (_b = getName(value)) != null ? _b : "unknown_file");
  if (!options.type) {
    const type = (_c = bits[0]) == null ? void 0 : _c.type;
    if (typeof type === "string") {
      options = { ...options, type };
    }
  }
  return new File2(bits, name, options);
}
async function getBytes(value) {
  var _a2;
  let parts = [];
  if (
    typeof value === "string" ||
    ArrayBuffer.isView(value) ||
    value instanceof ArrayBuffer
  ) {
    parts.push(value);
  } else if (isBlobLike(value)) {
    parts.push(await value.arrayBuffer());
  } else if (isAsyncIterableIterator(value)) {
    for await (const chunk of value) {
      parts.push(chunk);
    }
  } else {
    throw new Error(
      `Unexpected data type: ${typeof value}; constructor: ${
        (_a2 = value == null ? void 0 : value.constructor) == null
          ? void 0
          : _a2.name
      }; props: ${propsForError(value)}`
    );
  }
  return parts;
}
function propsForError(value) {
  const props = Object.getOwnPropertyNames(value);
  return `[${props.map((p) => `"${p}"`).join(", ")}]`;
}
function getName(value) {
  var _a2;
  return (
    getStringFromMaybeBuffer(value.name) ||
    getStringFromMaybeBuffer(value.filename) ||
    ((_a2 = getStringFromMaybeBuffer(value.path)) == null
      ? void 0
      : _a2.split(/[\\/]/).pop())
  );
}
var getStringFromMaybeBuffer = (x) => {
  if (typeof x === "string") return x;
  if (typeof Buffer !== "undefined" && x instanceof Buffer) return String(x);
  return void 0;
};
var isAsyncIterableIterator = (value) =>
  value != null &&
  typeof value === "object" &&
  typeof value[Symbol.asyncIterator] === "function";
var isMultipartBody = (body) =>
  body &&
  typeof body === "object" &&
  body.body &&
  body[Symbol.toStringTag] === "MultipartBody";
var multipartFormRequestOptions = async (opts) => {
  const form = await createForm(opts.body);
  return getMultipartRequestOptions(form, opts);
};
var createForm = async (body) => {
  const form = new FormData2();
  await Promise.all(
    Object.entries(body || {}).map(([key, value]) =>
      addFormValue(form, key, value)
    )
  );
  return form;
};
var addFormValue = async (form, key, value) => {
  if (value === void 0) return;
  if (value == null) {
    throw new TypeError(
      `Received null for "${key}"; to pass null in FormData, you must use the string 'null'`
    );
  }
  if (
    typeof value === "string" ||
    typeof value === "number" ||
    typeof value === "boolean"
  ) {
    form.append(key, String(value));
  } else if (isUploadable(value)) {
    const file = await toFile(value);
    form.append(key, file);
  } else if (Array.isArray(value)) {
    await Promise.all(
      value.map((entry) => addFormValue(form, key + "[]", entry))
    );
  } else if (typeof value === "object") {
    await Promise.all(
      Object.entries(value).map(([name, prop]) =>
        addFormValue(form, `${key}[${name}]`, prop)
      )
    );
  } else {
    throw new TypeError(
      `Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`
    );
  }
};

// node_modules/openai/core.mjs
var __classPrivateFieldSet = function (receiver, state, value, kind2, f) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a setter");
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  )
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it"
    );
  return (
    kind2 === "a"
      ? f.call(receiver, value)
      : f
      ? (f.value = value)
      : state.set(receiver, value),
    value
  );
};
var __classPrivateFieldGet = function (receiver, state, kind2, f) {
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a getter");
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  )
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it"
    );
  return kind2 === "m"
    ? f
    : kind2 === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _AbstractPage_client;
async function defaultParseResponse(props) {
  const { response } = props;
  if (props.options.stream) {
    debug(
      "response",
      response.status,
      response.url,
      response.headers,
      response.body
    );
    return Stream.fromSSEResponse(response, props.controller);
  }
  if (response.status === 204) {
    return null;
  }
  if (props.options.__binaryResponse) {
    return response;
  }
  const contentType = response.headers.get("content-type");
  if (contentType == null ? void 0 : contentType.includes("application/json")) {
    const json = await response.json();
    debug("response", response.status, response.url, response.headers, json);
    return json;
  }
  const text = await response.text();
  debug("response", response.status, response.url, response.headers, text);
  return text;
}
var APIPromise = class extends Promise {
  constructor(responsePromise, parseResponse = defaultParseResponse) {
    super((resolve) => {
      resolve(null);
    });
    this.responsePromise = responsePromise;
    this.parseResponse = parseResponse;
  }
  _thenUnwrap(transform) {
    return new APIPromise(this.responsePromise, async (props) =>
      transform(await this.parseResponse(props))
    );
  }
  asResponse() {
    return this.responsePromise.then((p) => p.response);
  }
  async withResponse() {
    const [data, response] = await Promise.all([
      this.parse(),
      this.asResponse(),
    ]);
    return { data, response };
  }
  parse() {
    if (!this.parsedPromise) {
      this.parsedPromise = this.responsePromise.then(this.parseResponse);
    }
    return this.parsedPromise;
  }
  then(onfulfilled, onrejected) {
    return this.parse().then(onfulfilled, onrejected);
  }
  catch(onrejected) {
    return this.parse().catch(onrejected);
  }
  finally(onfinally) {
    return this.parse().finally(onfinally);
  }
};
var APIClient = class {
  constructor({
    baseURL,
    maxRetries = 2,
    timeout = 6e5,
    httpAgent,
    fetch: overridenFetch,
  }) {
    this.baseURL = baseURL;
    this.maxRetries = validatePositiveInteger("maxRetries", maxRetries);
    this.timeout = validatePositiveInteger("timeout", timeout);
    this.httpAgent = httpAgent;
    this.fetch = overridenFetch != null ? overridenFetch : fetch2;
  }
  authHeaders(opts) {
    return {};
  }
  defaultHeaders(opts) {
    return {
      Accept: "application/json",
      "Content-Type": "application/json",
      "User-Agent": this.getUserAgent(),
      ...getPlatformHeaders(),
      ...this.authHeaders(opts),
    };
  }
  validateHeaders(headers, customHeaders) {}
  defaultIdempotencyKey() {
    return `stainless-node-retry-${uuid4()}`;
  }
  get(path, opts) {
    return this.methodRequest("get", path, opts);
  }
  post(path, opts) {
    return this.methodRequest("post", path, opts);
  }
  patch(path, opts) {
    return this.methodRequest("patch", path, opts);
  }
  put(path, opts) {
    return this.methodRequest("put", path, opts);
  }
  delete(path, opts) {
    return this.methodRequest("delete", path, opts);
  }
  methodRequest(method, path, opts) {
    return this.request(
      Promise.resolve(opts).then((opts2) => ({ method, path, ...opts2 }))
    );
  }
  getAPIList(path, Page2, opts) {
    return this.requestAPIList(Page2, { method: "get", path, ...opts });
  }
  calculateContentLength(body) {
    if (typeof body === "string") {
      if (typeof Buffer !== "undefined") {
        return Buffer.byteLength(body, "utf8").toString();
      }
      if (typeof TextEncoder !== "undefined") {
        const encoder = new TextEncoder();
        const encoded = encoder.encode(body);
        return encoded.length.toString();
      }
    }
    return null;
  }
  buildRequest(options) {
    var _a2, _b, _c, _d, _e, _f;
    const { method, path, query, headers = {} } = options;
    const body = isMultipartBody(options.body)
      ? options.body.body
      : options.body
      ? JSON.stringify(options.body, null, 2)
      : null;
    const contentLength = this.calculateContentLength(body);
    const url = this.buildURL(path, query);
    if ("timeout" in options)
      validatePositiveInteger("timeout", options.timeout);
    const timeout = (_a2 = options.timeout) != null ? _a2 : this.timeout;
    const httpAgent =
      (_c = (_b = options.httpAgent) != null ? _b : this.httpAgent) != null
        ? _c
        : getDefaultAgent(url);
    const minAgentTimeout = timeout + 1e3;
    if (
      typeof ((_d = httpAgent == null ? void 0 : httpAgent.options) == null
        ? void 0
        : _d.timeout) === "number" &&
      minAgentTimeout > ((_e = httpAgent.options.timeout) != null ? _e : 0)
    ) {
      httpAgent.options.timeout = minAgentTimeout;
    }
    if (this.idempotencyHeader && method !== "get") {
      if (!options.idempotencyKey)
        options.idempotencyKey = this.defaultIdempotencyKey();
      headers[this.idempotencyHeader] = options.idempotencyKey;
    }
    const reqHeaders = {
      ...(contentLength && { "Content-Length": contentLength }),
      ...this.defaultHeaders(options),
      ...headers,
    };
    if (isMultipartBody(options.body) && kind !== "node") {
      delete reqHeaders["Content-Type"];
    }
    Object.keys(reqHeaders).forEach(
      (key) => reqHeaders[key] === null && delete reqHeaders[key]
    );
    const req = {
      method,
      ...(body && { body }),
      headers: reqHeaders,
      ...(httpAgent && { agent: httpAgent }),
      signal: (_f = options.signal) != null ? _f : null,
    };
    this.validateHeaders(reqHeaders, headers);
    return { req, url, timeout };
  }
  async prepareRequest(request4, { url, options }) {}
  parseHeaders(headers) {
    return !headers
      ? {}
      : Symbol.iterator in headers
      ? Object.fromEntries(Array.from(headers).map((header) => [...header]))
      : { ...headers };
  }
  makeStatusError(status, error, message, headers) {
    return APIError.generate(status, error, message, headers);
  }
  request(options, remainingRetries = null) {
    return new APIPromise(this.makeRequest(options, remainingRetries));
  }
  async makeRequest(optionsInput, retriesRemaining) {
    var _a2, _b, _c;
    const options = await optionsInput;
    if (retriesRemaining == null) {
      retriesRemaining =
        (_a2 = options.maxRetries) != null ? _a2 : this.maxRetries;
    }
    const { req, url, timeout } = this.buildRequest(options);
    await this.prepareRequest(req, { url, options });
    debug("request", url, options, req.headers);
    if ((_b = options.signal) == null ? void 0 : _b.aborted) {
      throw new APIUserAbortError();
    }
    const controller = new AbortController();
    const response = await this.fetchWithTimeout(
      url,
      req,
      timeout,
      controller
    ).catch(castToError);
    if (response instanceof Error) {
      if ((_c = options.signal) == null ? void 0 : _c.aborted) {
        throw new APIUserAbortError();
      }
      if (retriesRemaining) {
        return this.retryRequest(options, retriesRemaining);
      }
      if (response.name === "AbortError") {
        throw new APIConnectionTimeoutError();
      }
      throw new APIConnectionError({ cause: response });
    }
    const responseHeaders = createResponseHeaders(response.headers);
    if (!response.ok) {
      if (retriesRemaining && this.shouldRetry(response)) {
        return this.retryRequest(options, retriesRemaining, responseHeaders);
      }
      const errText = await response
        .text()
        .catch((e) => castToError(e).message);
      const errJSON = safeJSON(errText);
      const errMessage = errJSON ? void 0 : errText;
      debug("response", response.status, url, responseHeaders, errMessage);
      const err = this.makeStatusError(
        response.status,
        errJSON,
        errMessage,
        responseHeaders
      );
      throw err;
    }
    return { response, options, controller };
  }
  requestAPIList(Page2, options) {
    const request4 = this.makeRequest(options, null);
    return new PagePromise(this, request4, Page2);
  }
  buildURL(path, query) {
    const url = isAbsoluteURL(path)
      ? new URL(path)
      : new URL(
          this.baseURL +
            (this.baseURL.endsWith("/") && path.startsWith("/")
              ? path.slice(1)
              : path)
        );
    const defaultQuery = this.defaultQuery();
    if (!isEmptyObj(defaultQuery)) {
      query = { ...defaultQuery, ...query };
    }
    if (query) {
      url.search = this.stringifyQuery(query);
    }
    return url.toString();
  }
  stringifyQuery(query) {
    return Object.entries(query)
      .filter(([_, value]) => typeof value !== "undefined")
      .map(([key, value]) => {
        if (
          typeof value === "string" ||
          typeof value === "number" ||
          typeof value === "boolean"
        ) {
          return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;
        }
        if (value === null) {
          return `${encodeURIComponent(key)}=`;
        }
        throw new OpenAIError(
          `Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`
        );
      })
      .join("&");
  }
  async fetchWithTimeout(url, init, ms, controller) {
    const { signal, ...options } = init || {};
    if (signal) signal.addEventListener("abort", () => controller.abort());
    const timeout = setTimeout(() => controller.abort(), ms);
    return this.getRequestClient()
      .fetch.call(void 0, url, { signal: controller.signal, ...options })
      .finally(() => {
        clearTimeout(timeout);
      });
  }
  getRequestClient() {
    return { fetch: this.fetch };
  }
  shouldRetry(response) {
    const shouldRetryHeader = response.headers.get("x-should-retry");
    if (shouldRetryHeader === "true") return true;
    if (shouldRetryHeader === "false") return false;
    if (response.status === 408) return true;
    if (response.status === 409) return true;
    if (response.status === 429) return true;
    if (response.status >= 500) return true;
    return false;
  }
  async retryRequest(options, retriesRemaining, responseHeaders) {
    var _a2;
    let timeoutMillis;
    const retryAfterHeader =
      responseHeaders == null ? void 0 : responseHeaders["retry-after"];
    if (retryAfterHeader) {
      const timeoutSeconds = parseInt(retryAfterHeader);
      if (!Number.isNaN(timeoutSeconds)) {
        timeoutMillis = timeoutSeconds * 1e3;
      } else {
        timeoutMillis = Date.parse(retryAfterHeader) - Date.now();
      }
    }
    if (
      !timeoutMillis ||
      !Number.isInteger(timeoutMillis) ||
      timeoutMillis <= 0 ||
      timeoutMillis > 60 * 1e3
    ) {
      const maxRetries =
        (_a2 = options.maxRetries) != null ? _a2 : this.maxRetries;
      timeoutMillis = this.calculateDefaultRetryTimeoutMillis(
        retriesRemaining,
        maxRetries
      );
    }
    await sleep(timeoutMillis);
    return this.makeRequest(options, retriesRemaining - 1);
  }
  calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {
    const initialRetryDelay = 0.5;
    const maxRetryDelay = 8;
    const numRetries = maxRetries - retriesRemaining;
    const sleepSeconds = Math.min(
      initialRetryDelay * Math.pow(2, numRetries),
      maxRetryDelay
    );
    const jitter = 1 - Math.random() * 0.25;
    return sleepSeconds * jitter * 1e3;
  }
  getUserAgent() {
    return `${this.constructor.name}/JS ${VERSION}`;
  }
};
var AbstractPage = class {
  constructor(client, response, body, options) {
    _AbstractPage_client.set(this, void 0);
    __classPrivateFieldSet(this, _AbstractPage_client, client, "f");
    this.options = options;
    this.response = response;
    this.body = body;
  }
  hasNextPage() {
    const items = this.getPaginatedItems();
    if (!items.length) return false;
    return this.nextPageInfo() != null;
  }
  async getNextPage() {
    const nextInfo = this.nextPageInfo();
    if (!nextInfo) {
      throw new OpenAIError(
        "No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`."
      );
    }
    const nextOptions = { ...this.options };
    if ("params" in nextInfo) {
      nextOptions.query = { ...nextOptions.query, ...nextInfo.params };
    } else if ("url" in nextInfo) {
      const params = [
        ...Object.entries(nextOptions.query || {}),
        ...nextInfo.url.searchParams.entries(),
      ];
      for (const [key, value] of params) {
        nextInfo.url.searchParams.set(key, value);
      }
      nextOptions.query = void 0;
      nextOptions.path = nextInfo.url.toString();
    }
    return await __classPrivateFieldGet(
      this,
      _AbstractPage_client,
      "f"
    ).requestAPIList(this.constructor, nextOptions);
  }
  async *iterPages() {
    let page = this;
    yield page;
    while (page.hasNextPage()) {
      page = await page.getNextPage();
      yield page;
    }
  }
  async *[((_AbstractPage_client = /* @__PURE__ */ new WeakMap()),
  Symbol.asyncIterator)]() {
    for await (const page of this.iterPages()) {
      for (const item of page.getPaginatedItems()) {
        yield item;
      }
    }
  }
};
var PagePromise = class extends APIPromise {
  constructor(client, request4, Page2) {
    super(
      request4,
      async (props) =>
        new Page2(
          client,
          props.response,
          await defaultParseResponse(props),
          props.options
        )
    );
  }
  async *[Symbol.asyncIterator]() {
    const page = await this;
    for await (const item of page) {
      yield item;
    }
  }
};
var createResponseHeaders = (headers) => {
  return new Proxy(Object.fromEntries(headers.entries()), {
    get(target, name) {
      const key = name.toString();
      return target[key.toLowerCase()] || target[key];
    },
  });
};
var requestOptionsKeys = {
  method: true,
  path: true,
  query: true,
  body: true,
  headers: true,
  maxRetries: true,
  stream: true,
  timeout: true,
  httpAgent: true,
  signal: true,
  idempotencyKey: true,
  __binaryResponse: true,
};
var isRequestOptions = (obj) => {
  return (
    typeof obj === "object" &&
    obj !== null &&
    !isEmptyObj(obj) &&
    Object.keys(obj).every((k) => hasOwn(requestOptionsKeys, k))
  );
};
var getPlatformProperties = () => {
  if (typeof Deno !== "undefined" && Deno.build != null) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(Deno.build.os),
      "X-Stainless-Arch": normalizeArch(Deno.build.arch),
      "X-Stainless-Runtime": "deno",
      "X-Stainless-Runtime-Version": Deno.version,
    };
  }
  if (typeof EdgeRuntime !== "undefined") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": `other:${EdgeRuntime}`,
      "X-Stainless-Runtime": "edge",
      "X-Stainless-Runtime-Version": process.version,
    };
  }
  if (
    Object.prototype.toString.call(
      typeof process !== "undefined" ? process : 0
    ) === "[object process]"
  ) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(process.platform),
      "X-Stainless-Arch": normalizeArch(process.arch),
      "X-Stainless-Runtime": "node",
      "X-Stainless-Runtime-Version": process.version,
    };
  }
  const browserInfo = getBrowserInfo();
  if (browserInfo) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": "unknown",
      "X-Stainless-Runtime": `browser:${browserInfo.browser}`,
      "X-Stainless-Runtime-Version": browserInfo.version,
    };
  }
  return {
    "X-Stainless-Lang": "js",
    "X-Stainless-Package-Version": VERSION,
    "X-Stainless-OS": "Unknown",
    "X-Stainless-Arch": "unknown",
    "X-Stainless-Runtime": "unknown",
    "X-Stainless-Runtime-Version": "unknown",
  };
};
function getBrowserInfo() {
  if (typeof navigator === "undefined" || !navigator) {
    return null;
  }
  const browserPatterns = [
    { key: "edge", pattern: /Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "chrome", pattern: /Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "firefox", pattern: /Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    {
      key: "safari",
      pattern:
        /(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/,
    },
  ];
  for (const { key, pattern } of browserPatterns) {
    const match = pattern.exec(navigator.userAgent);
    if (match) {
      const major = match[1] || 0;
      const minor = match[2] || 0;
      const patch = match[3] || 0;
      return { browser: key, version: `${major}.${minor}.${patch}` };
    }
  }
  return null;
}
var normalizeArch = (arch) => {
  if (arch === "x32") return "x32";
  if (arch === "x86_64" || arch === "x64") return "x64";
  if (arch === "arm") return "arm";
  if (arch === "aarch64" || arch === "arm64") return "arm64";
  if (arch) return `other:${arch}`;
  return "unknown";
};
var normalizePlatform = (platform) => {
  platform = platform.toLowerCase();
  if (platform.includes("ios")) return "iOS";
  if (platform === "android") return "Android";
  if (platform === "darwin") return "MacOS";
  if (platform === "win32") return "Windows";
  if (platform === "freebsd") return "FreeBSD";
  if (platform === "openbsd") return "OpenBSD";
  if (platform === "linux") return "Linux";
  if (platform) return `Other:${platform}`;
  return "Unknown";
};
var _platformHeaders;
var getPlatformHeaders = () => {
  return _platformHeaders != null
    ? _platformHeaders
    : (_platformHeaders = getPlatformProperties());
};
var safeJSON = (text) => {
  try {
    return JSON.parse(text);
  } catch (err) {
    return void 0;
  }
};
var startsWithSchemeRegexp = new RegExp("^(?:[a-z]+:)?//", "i");
var isAbsoluteURL = (url) => {
  return startsWithSchemeRegexp.test(url);
};
var sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));
var validatePositiveInteger = (name, n) => {
  if (typeof n !== "number" || !Number.isInteger(n)) {
    throw new OpenAIError(`${name} must be an integer`);
  }
  if (n < 0) {
    throw new OpenAIError(`${name} must be a positive integer`);
  }
  return n;
};
var castToError = (err) => {
  if (err instanceof Error) return err;
  return new Error(err);
};
var readEnv = (env) => {
  var _a2, _b, _c, _d;
  if (typeof process !== "undefined") {
    return (_b = (_a2 = process.env) == null ? void 0 : _a2[env]) != null
      ? _b
      : void 0;
  }
  if (typeof Deno !== "undefined") {
    return (_d = (_c = Deno.env) == null ? void 0 : _c.get) == null
      ? void 0
      : _d.call(_c, env);
  }
  return void 0;
};
function isEmptyObj(obj) {
  if (!obj) return true;
  for (const _k in obj) return false;
  return true;
}
function hasOwn(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
}
function debug(action, ...args) {
  if (typeof process !== "undefined" && process.env["DEBUG"] === "true") {
    console.log(`OpenAI:DEBUG:${action}`, ...args);
  }
}
var uuid4 = () => {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (c) => {
    const r = (Math.random() * 16) | 0;
    const v = c === "x" ? r : (r & 3) | 8;
    return v.toString(16);
  });
};
var isRunningInBrowser = () => {
  return (
    typeof window !== "undefined" &&
    typeof window.document !== "undefined" &&
    typeof navigator !== "undefined"
  );
};

// node_modules/openai/pagination.mjs
var Page = class extends AbstractPage {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data;
    this.object = body.object;
  }
  getPaginatedItems() {
    return this.data;
  }
  nextPageParams() {
    return null;
  }
  nextPageInfo() {
    return null;
  }
};
var CursorPage = class extends AbstractPage {
  constructor(client, response, body, options) {
    super(client, response, body, options);
    this.data = body.data;
  }
  getPaginatedItems() {
    return this.data;
  }
  nextPageParams() {
    const info = this.nextPageInfo();
    if (!info) return null;
    if ("params" in info) return info.params;
    const params = Object.fromEntries(info.url.searchParams);
    if (!Object.keys(params).length) return null;
    return params;
  }
  nextPageInfo() {
    var _a2, _b;
    if (!((_a2 = this.data) == null ? void 0 : _a2.length)) {
      return null;
    }
    const next =
      (_b = this.data[this.data.length - 1]) == null ? void 0 : _b.id;
    if (!next) return null;
    return { params: { after: next } };
  }
};

// node_modules/openai/resource.mjs
var APIResource = class {
  constructor(client) {
    this._client = client;
  }
};

// node_modules/openai/resources/chat/completions.mjs
var Completions = class extends APIResource {
  create(body, options) {
    var _a2;
    return this._client.post("/chat/completions", {
      body,
      ...options,
      stream: (_a2 = body.stream) != null ? _a2 : false,
    });
  }
};
(function (Completions4) {})(Completions || (Completions = {}));

// node_modules/openai/resources/chat/chat.mjs
var Chat = class extends APIResource {
  constructor() {
    super(...arguments);
    this.completions = new Completions(this._client);
  }
};
(function (Chat3) {
  Chat3.Completions = Completions;
})(Chat || (Chat = {}));

// node_modules/openai/resources/audio/speech.mjs
var Speech = class extends APIResource {
  create(body, options) {
    return this._client.post("/audio/speech", {
      body,
      ...options,
      __binaryResponse: true,
    });
  }
};
(function (Speech2) {})(Speech || (Speech = {}));

// node_modules/openai/resources/audio/transcriptions.mjs
var Transcriptions = class extends APIResource {
  create(body, options) {
    return this._client.post(
      "/audio/transcriptions",
      multipartFormRequestOptions({ body, ...options })
    );
  }
};
(function (Transcriptions2) {})(Transcriptions || (Transcriptions = {}));

// node_modules/openai/resources/audio/translations.mjs
var Translations = class extends APIResource {
  create(body, options) {
    return this._client.post(
      "/audio/translations",
      multipartFormRequestOptions({ body, ...options })
    );
  }
};
(function (Translations2) {})(Translations || (Translations = {}));

// node_modules/openai/resources/audio/audio.mjs
var Audio = class extends APIResource {
  constructor() {
    super(...arguments);
    this.transcriptions = new Transcriptions(this._client);
    this.translations = new Translations(this._client);
    this.speech = new Speech(this._client);
  }
};
(function (Audio2) {
  Audio2.Transcriptions = Transcriptions;
  Audio2.Translations = Translations;
  Audio2.Speech = Speech;
})(Audio || (Audio = {}));

// node_modules/openai/resources/beta/assistants/files.mjs
var Files = class extends APIResource {
  create(assistantId, body, options) {
    return this._client.post(`/assistants/${assistantId}/files`, {
      body,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  retrieve(assistantId, fileId, options) {
    return this._client.get(`/assistants/${assistantId}/files/${fileId}`, {
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  list(assistantId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(assistantId, {}, query);
    }
    return this._client.getAPIList(
      `/assistants/${assistantId}/files`,
      AssistantFilesPage,
      {
        query,
        ...options,
        headers: {
          "OpenAI-Beta": "assistants=v1",
          ...(options == null ? void 0 : options.headers),
        },
      }
    );
  }
  del(assistantId, fileId, options) {
    return this._client.delete(`/assistants/${assistantId}/files/${fileId}`, {
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
};
var AssistantFilesPage = class extends CursorPage {};
(function (Files4) {
  Files4.AssistantFilesPage = AssistantFilesPage;
})(Files || (Files = {}));

// node_modules/openai/resources/beta/assistants/assistants.mjs
var Assistants = class extends APIResource {
  constructor() {
    super(...arguments);
    this.files = new Files(this._client);
  }
  create(body, options) {
    return this._client.post("/assistants", {
      body,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  retrieve(assistantId, options) {
    return this._client.get(`/assistants/${assistantId}`, {
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  update(assistantId, body, options) {
    return this._client.post(`/assistants/${assistantId}`, {
      body,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/assistants", AssistantsPage, {
      query,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  del(assistantId, options) {
    return this._client.delete(`/assistants/${assistantId}`, {
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
};
var AssistantsPage = class extends CursorPage {};
(function (Assistants2) {
  Assistants2.AssistantsPage = AssistantsPage;
  Assistants2.Files = Files;
  Assistants2.AssistantFilesPage = AssistantFilesPage;
})(Assistants || (Assistants = {}));

// node_modules/openai/lib/RunnableFunction.mjs
function isRunnableFunctionWithParse(fn) {
  return typeof fn.parse === "function";
}

// node_modules/openai/lib/chatCompletionUtils.mjs
var isAssistantMessage = (message) => {
  return (message == null ? void 0 : message.role) === "assistant";
};
var isFunctionMessage = (message) => {
  return (message == null ? void 0 : message.role) === "function";
};
var isToolMessage = (message) => {
  return (message == null ? void 0 : message.role) === "tool";
};

// node_modules/openai/lib/AbstractChatCompletionRunner.mjs
var __classPrivateFieldSet2 = function (receiver, state, value, kind2, f) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a setter");
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  )
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it"
    );
  return (
    kind2 === "a"
      ? f.call(receiver, value)
      : f
      ? (f.value = value)
      : state.set(receiver, value),
    value
  );
};
var __classPrivateFieldGet2 = function (receiver, state, kind2, f) {
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a getter");
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  )
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it"
    );
  return kind2 === "m"
    ? f
    : kind2 === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _AbstractChatCompletionRunner_instances;
var _AbstractChatCompletionRunner_connectedPromise;
var _AbstractChatCompletionRunner_resolveConnectedPromise;
var _AbstractChatCompletionRunner_rejectConnectedPromise;
var _AbstractChatCompletionRunner_endPromise;
var _AbstractChatCompletionRunner_resolveEndPromise;
var _AbstractChatCompletionRunner_rejectEndPromise;
var _AbstractChatCompletionRunner_listeners;
var _AbstractChatCompletionRunner_ended;
var _AbstractChatCompletionRunner_errored;
var _AbstractChatCompletionRunner_aborted;
var _AbstractChatCompletionRunner_catchingPromiseCreated;
var _AbstractChatCompletionRunner_getFinalContent;
var _AbstractChatCompletionRunner_getFinalMessage;
var _AbstractChatCompletionRunner_getFinalFunctionCall;
var _AbstractChatCompletionRunner_getFinalFunctionCallResult;
var _AbstractChatCompletionRunner_calculateTotalUsage;
var _AbstractChatCompletionRunner_handleError;
var _AbstractChatCompletionRunner_validateParams;
var _AbstractChatCompletionRunner_stringifyFunctionCallResult;
var DEFAULT_MAX_CHAT_COMPLETIONS = 10;
var AbstractChatCompletionRunner = class {
  constructor() {
    _AbstractChatCompletionRunner_instances.add(this);
    this.controller = new AbortController();
    _AbstractChatCompletionRunner_connectedPromise.set(this, void 0);
    _AbstractChatCompletionRunner_resolveConnectedPromise.set(this, () => {});
    _AbstractChatCompletionRunner_rejectConnectedPromise.set(this, () => {});
    _AbstractChatCompletionRunner_endPromise.set(this, void 0);
    _AbstractChatCompletionRunner_resolveEndPromise.set(this, () => {});
    _AbstractChatCompletionRunner_rejectEndPromise.set(this, () => {});
    _AbstractChatCompletionRunner_listeners.set(this, {});
    this._chatCompletions = [];
    this.messages = [];
    _AbstractChatCompletionRunner_ended.set(this, false);
    _AbstractChatCompletionRunner_errored.set(this, false);
    _AbstractChatCompletionRunner_aborted.set(this, false);
    _AbstractChatCompletionRunner_catchingPromiseCreated.set(this, false);
    _AbstractChatCompletionRunner_handleError.set(this, (error) => {
      __classPrivateFieldSet2(
        this,
        _AbstractChatCompletionRunner_errored,
        true,
        "f"
      );
      if (error instanceof Error && error.name === "AbortError") {
        error = new APIUserAbortError();
      }
      if (error instanceof APIUserAbortError) {
        __classPrivateFieldSet2(
          this,
          _AbstractChatCompletionRunner_aborted,
          true,
          "f"
        );
        return this._emit("abort", error);
      }
      if (error instanceof OpenAIError) {
        return this._emit("error", error);
      }
      if (error instanceof Error) {
        const openAIError = new OpenAIError(error.message);
        openAIError.cause = error;
        return this._emit("error", openAIError);
      }
      return this._emit("error", new OpenAIError(String(error)));
    });
    __classPrivateFieldSet2(
      this,
      _AbstractChatCompletionRunner_connectedPromise,
      new Promise((resolve, reject) => {
        __classPrivateFieldSet2(
          this,
          _AbstractChatCompletionRunner_resolveConnectedPromise,
          resolve,
          "f"
        );
        __classPrivateFieldSet2(
          this,
          _AbstractChatCompletionRunner_rejectConnectedPromise,
          reject,
          "f"
        );
      }),
      "f"
    );
    __classPrivateFieldSet2(
      this,
      _AbstractChatCompletionRunner_endPromise,
      new Promise((resolve, reject) => {
        __classPrivateFieldSet2(
          this,
          _AbstractChatCompletionRunner_resolveEndPromise,
          resolve,
          "f"
        );
        __classPrivateFieldSet2(
          this,
          _AbstractChatCompletionRunner_rejectEndPromise,
          reject,
          "f"
        );
      }),
      "f"
    );
    __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_connectedPromise,
      "f"
    ).catch(() => {});
    __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_endPromise,
      "f"
    ).catch(() => {});
  }
  _run(executor) {
    setTimeout(() => {
      executor().then(() => {
        this._emitFinal();
        this._emit("end");
      }, __classPrivateFieldGet2(this, _AbstractChatCompletionRunner_handleError, "f"));
    }, 0);
  }
  _addChatCompletion(chatCompletion) {
    var _a2;
    this._chatCompletions.push(chatCompletion);
    this._emit("chatCompletion", chatCompletion);
    const message =
      (_a2 = chatCompletion.choices[0]) == null ? void 0 : _a2.message;
    if (message) this._addMessage(message);
    return chatCompletion;
  }
  _addMessage(message, emit = true) {
    this.messages.push(message);
    if (emit) {
      this._emit("message", message);
      if (
        (isFunctionMessage(message) || isToolMessage(message)) &&
        message.content
      ) {
        this._emit("functionCallResult", message.content);
      } else if (isAssistantMessage(message) && message.function_call) {
        this._emit("functionCall", message.function_call);
      } else if (isAssistantMessage(message) && message.tool_calls) {
        for (const tool_call of message.tool_calls) {
          if (tool_call.type === "function") {
            this._emit("functionCall", tool_call.function);
          }
        }
      }
    }
  }
  _connected() {
    if (this.ended) return;
    __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_resolveConnectedPromise,
      "f"
    ).call(this);
    this._emit("connect");
  }
  get ended() {
    return __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_ended,
      "f"
    );
  }
  get errored() {
    return __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_errored,
      "f"
    );
  }
  get aborted() {
    return __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_aborted,
      "f"
    );
  }
  abort() {
    this.controller.abort();
  }
  on(event, listener) {
    const listeners =
      __classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_listeners,
        "f"
      )[event] ||
      (__classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_listeners,
        "f"
      )[event] = []);
    listeners.push({ listener });
    return this;
  }
  off(event, listener) {
    const listeners = __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_listeners,
      "f"
    )[event];
    if (!listeners) return this;
    const index = listeners.findIndex((l) => l.listener === listener);
    if (index >= 0) listeners.splice(index, 1);
    return this;
  }
  once(event, listener) {
    const listeners =
      __classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_listeners,
        "f"
      )[event] ||
      (__classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_listeners,
        "f"
      )[event] = []);
    listeners.push({ listener, once: true });
    return this;
  }
  emitted(event) {
    return new Promise((resolve, reject) => {
      __classPrivateFieldSet2(
        this,
        _AbstractChatCompletionRunner_catchingPromiseCreated,
        true,
        "f"
      );
      if (event !== "error") this.once("error", reject);
      this.once(event, resolve);
    });
  }
  async done() {
    __classPrivateFieldSet2(
      this,
      _AbstractChatCompletionRunner_catchingPromiseCreated,
      true,
      "f"
    );
    await __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_endPromise,
      "f"
    );
  }
  async finalChatCompletion() {
    await this.done();
    const completion = this._chatCompletions[this._chatCompletions.length - 1];
    if (!completion)
      throw new OpenAIError("stream ended without producing a ChatCompletion");
    return completion;
  }
  async finalContent() {
    await this.done();
    return __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_instances,
      "m",
      _AbstractChatCompletionRunner_getFinalContent
    ).call(this);
  }
  async finalMessage() {
    await this.done();
    return __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_instances,
      "m",
      _AbstractChatCompletionRunner_getFinalMessage
    ).call(this);
  }
  async finalFunctionCall() {
    await this.done();
    return __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_instances,
      "m",
      _AbstractChatCompletionRunner_getFinalFunctionCall
    ).call(this);
  }
  async finalFunctionCallResult() {
    await this.done();
    return __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_instances,
      "m",
      _AbstractChatCompletionRunner_getFinalFunctionCallResult
    ).call(this);
  }
  async totalUsage() {
    await this.done();
    return __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_instances,
      "m",
      _AbstractChatCompletionRunner_calculateTotalUsage
    ).call(this);
  }
  allChatCompletions() {
    return [...this._chatCompletions];
  }
  _emit(event, ...args) {
    if (__classPrivateFieldGet2(this, _AbstractChatCompletionRunner_ended, "f"))
      return;
    if (event === "end") {
      __classPrivateFieldSet2(
        this,
        _AbstractChatCompletionRunner_ended,
        true,
        "f"
      );
      __classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_resolveEndPromise,
        "f"
      ).call(this);
    }
    const listeners = __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_listeners,
      "f"
    )[event];
    if (listeners) {
      __classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_listeners,
        "f"
      )[event] = listeners.filter((l) => !l.once);
      listeners.forEach(({ listener }) => listener(...args));
    }
    if (event === "abort") {
      const error = args[0];
      if (
        !__classPrivateFieldGet2(
          this,
          _AbstractChatCompletionRunner_catchingPromiseCreated,
          "f"
        ) &&
        !(listeners == null ? void 0 : listeners.length)
      ) {
        Promise.reject(error);
      }
      __classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_rejectConnectedPromise,
        "f"
      ).call(this, error);
      __classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_rejectEndPromise,
        "f"
      ).call(this, error);
      this._emit("end");
      return;
    }
    if (event === "error") {
      const error = args[0];
      if (
        !__classPrivateFieldGet2(
          this,
          _AbstractChatCompletionRunner_catchingPromiseCreated,
          "f"
        ) &&
        !(listeners == null ? void 0 : listeners.length)
      ) {
        Promise.reject(error);
      }
      __classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_rejectConnectedPromise,
        "f"
      ).call(this, error);
      __classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_rejectEndPromise,
        "f"
      ).call(this, error);
      this._emit("end");
    }
  }
  _emitFinal() {
    const completion = this._chatCompletions[this._chatCompletions.length - 1];
    if (completion) this._emit("finalChatCompletion", completion);
    const finalMessage = this.messages[this.messages.length - 1];
    if (finalMessage) this._emit("finalMessage", finalMessage);
    const finalContent = __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_instances,
      "m",
      _AbstractChatCompletionRunner_getFinalContent
    ).call(this);
    if (finalContent) this._emit("finalContent", finalContent);
    const finalFunctionCall = __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_instances,
      "m",
      _AbstractChatCompletionRunner_getFinalFunctionCall
    ).call(this);
    if (finalFunctionCall) this._emit("finalFunctionCall", finalFunctionCall);
    const finalFunctionCallResult = __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_instances,
      "m",
      _AbstractChatCompletionRunner_getFinalFunctionCallResult
    ).call(this);
    if (finalFunctionCallResult != null)
      this._emit("finalFunctionCallResult", finalFunctionCallResult);
    if (this._chatCompletions.some((c) => c.usage)) {
      this._emit(
        "totalUsage",
        __classPrivateFieldGet2(
          this,
          _AbstractChatCompletionRunner_instances,
          "m",
          _AbstractChatCompletionRunner_calculateTotalUsage
        ).call(this)
      );
    }
  }
  async _createChatCompletion(completions, params, options) {
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted) this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet2(
      this,
      _AbstractChatCompletionRunner_instances,
      "m",
      _AbstractChatCompletionRunner_validateParams
    ).call(this, params);
    const chatCompletion = await completions.create(
      { ...params, stream: false },
      { ...options, signal: this.controller.signal }
    );
    this._connected();
    return this._addChatCompletion(chatCompletion);
  }
  async _runChatCompletion(completions, params, options) {
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    return await this._createChatCompletion(completions, params, options);
  }
  async _runFunctions(completions, params, options) {
    var _a2;
    const role = "function";
    const { function_call = "auto", stream, ...restParams } = params;
    const singleFunctionToCall =
      typeof function_call !== "string" &&
      (function_call == null ? void 0 : function_call.name);
    const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};
    const functionsByName = {};
    for (const f of params.functions) {
      functionsByName[f.name || f.function.name] = f;
    }
    const functions = params.functions.map((f) => ({
      name: f.name || f.function.name,
      parameters: f.parameters,
      description: f.description,
    }));
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    for (let i = 0; i < maxChatCompletions; ++i) {
      const chatCompletion = await this._createChatCompletion(
        completions,
        {
          ...restParams,
          function_call,
          functions,
          messages: [...this.messages],
        },
        options
      );
      const message =
        (_a2 = chatCompletion.choices[0]) == null ? void 0 : _a2.message;
      if (!message) {
        throw new OpenAIError(`missing message in ChatCompletion response`);
      }
      if (!message.function_call) return;
      const { name, arguments: args } = message.function_call;
      const fn = functionsByName[name];
      if (!fn) {
        const content2 = `Invalid function_call: ${JSON.stringify(
          name
        )}. Available options are: ${functions
          .map((f) => JSON.stringify(f.name))
          .join(", ")}. Please try again`;
        this._addMessage({ role, name, content: content2 });
        continue;
      } else if (singleFunctionToCall && singleFunctionToCall !== name) {
        const content2 = `Invalid function_call: ${JSON.stringify(
          name
        )}. ${JSON.stringify(
          singleFunctionToCall
        )} requested. Please try again`;
        this._addMessage({ role, name, content: content2 });
        continue;
      }
      let parsed;
      try {
        parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;
      } catch (error) {
        this._addMessage({
          role,
          name,
          content: error instanceof Error ? error.message : String(error),
        });
        continue;
      }
      const rawContent = await fn.function(parsed, this);
      const content = __classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_instances,
        "m",
        _AbstractChatCompletionRunner_stringifyFunctionCallResult
      ).call(this, rawContent);
      this._addMessage({ role, name, content });
      if (singleFunctionToCall) return;
    }
  }
  async _runTools(completions, params, options) {
    var _a2, _b;
    const role = "tool";
    const { tool_choice = "auto", stream, ...restParams } = params;
    const singleFunctionToCall =
      typeof tool_choice !== "string" &&
      ((_a2 = tool_choice == null ? void 0 : tool_choice.function) == null
        ? void 0
        : _a2.name);
    const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};
    const functionsByName = {};
    for (const f of params.tools) {
      if (f.type === "function") {
        functionsByName[f.function.name || f.function.function.name] =
          f.function;
      }
    }
    const tools =
      "tools" in params
        ? params.tools.map((t) =>
            t.type === "function"
              ? {
                  type: "function",
                  function: {
                    name: t.function.name || t.function.function.name,
                    parameters: t.function.parameters,
                    description: t.function.description,
                  },
                }
              : t
          )
        : void 0;
    for (const message of params.messages) {
      this._addMessage(message, false);
    }
    for (let i = 0; i < maxChatCompletions; ++i) {
      const chatCompletion = await this._createChatCompletion(
        completions,
        {
          ...restParams,
          tool_choice,
          tools,
          messages: [...this.messages],
        },
        options
      );
      const message =
        (_b = chatCompletion.choices[0]) == null ? void 0 : _b.message;
      if (!message) {
        throw new OpenAIError(`missing message in ChatCompletion response`);
      }
      if (!message.tool_calls) return;
      for (const tool_call of message.tool_calls) {
        if (tool_call.type !== "function") continue;
        const tool_call_id = tool_call.id;
        const { name, arguments: args } = tool_call.function;
        const fn = functionsByName[name];
        if (!fn) {
          const content2 = `Invalid tool_call: ${JSON.stringify(
            name
          )}. Available options are: ${tools
            .map((f) => JSON.stringify(f.function.name))
            .join(", ")}. Please try again`;
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        } else if (singleFunctionToCall && singleFunctionToCall !== name) {
          const content2 = `Invalid tool_call: ${JSON.stringify(
            name
          )}. ${JSON.stringify(
            singleFunctionToCall
          )} requested. Please try again`;
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        }
        let parsed;
        try {
          parsed = isRunnableFunctionWithParse(fn)
            ? await fn.parse(args)
            : args;
        } catch (error) {
          const content2 =
            error instanceof Error ? error.message : String(error);
          this._addMessage({ role, tool_call_id, content: content2 });
          continue;
        }
        const rawContent = await fn.function(parsed, this);
        const content = __classPrivateFieldGet2(
          this,
          _AbstractChatCompletionRunner_instances,
          "m",
          _AbstractChatCompletionRunner_stringifyFunctionCallResult
        ).call(this, rawContent);
        this._addMessage({ role, tool_call_id, content });
        if (singleFunctionToCall) return;
      }
    }
  }
};
(_AbstractChatCompletionRunner_connectedPromise =
  /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_resolveConnectedPromise =
    /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_rejectConnectedPromise =
    /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_endPromise = /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_resolveEndPromise =
    /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_rejectEndPromise =
    /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_listeners = /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_ended = /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_errored = /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_aborted = /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_catchingPromiseCreated =
    /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_handleError = /* @__PURE__ */ new WeakMap()),
  (_AbstractChatCompletionRunner_instances = /* @__PURE__ */ new WeakSet()),
  (_AbstractChatCompletionRunner_getFinalContent =
    function _AbstractChatCompletionRunner_getFinalContent2() {
      return __classPrivateFieldGet2(
        this,
        _AbstractChatCompletionRunner_instances,
        "m",
        _AbstractChatCompletionRunner_getFinalMessage
      ).call(this).content;
    }),
  (_AbstractChatCompletionRunner_getFinalMessage =
    function _AbstractChatCompletionRunner_getFinalMessage2() {
      let i = this.messages.length;
      while (i-- > 0) {
        const message = this.messages[i];
        if (isAssistantMessage(message)) {
          return message;
        }
      }
      throw new OpenAIError(
        "stream ended without producing a ChatCompletionMessage with role=assistant"
      );
    }),
  (_AbstractChatCompletionRunner_getFinalFunctionCall =
    function _AbstractChatCompletionRunner_getFinalFunctionCall2() {
      for (let i = this.messages.length - 1; i >= 0; i--) {
        const message = this.messages[i];
        if (
          isAssistantMessage(message) &&
          (message == null ? void 0 : message.function_call)
        ) {
          return message.function_call;
        }
      }
      return;
    }),
  (_AbstractChatCompletionRunner_getFinalFunctionCallResult =
    function _AbstractChatCompletionRunner_getFinalFunctionCallResult2() {
      for (let i = this.messages.length - 1; i >= 0; i--) {
        const message = this.messages[i];
        if (isFunctionMessage(message) && message.content != null) {
          return message.content;
        }
      }
      return;
    }),
  (_AbstractChatCompletionRunner_calculateTotalUsage =
    function _AbstractChatCompletionRunner_calculateTotalUsage2() {
      const total = {
        completion_tokens: 0,
        prompt_tokens: 0,
        total_tokens: 0,
      };
      for (const { usage } of this._chatCompletions) {
        if (usage) {
          total.completion_tokens += usage.completion_tokens;
          total.prompt_tokens += usage.prompt_tokens;
          total.total_tokens += usage.total_tokens;
        }
      }
      return total;
    }),
  (_AbstractChatCompletionRunner_validateParams =
    function _AbstractChatCompletionRunner_validateParams2(params) {
      if (params.n != null && params.n > 1) {
        throw new OpenAIError(
          "ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly."
        );
      }
    }),
  (_AbstractChatCompletionRunner_stringifyFunctionCallResult =
    function _AbstractChatCompletionRunner_stringifyFunctionCallResult2(
      rawContent
    ) {
      return typeof rawContent === "string"
        ? rawContent
        : rawContent === void 0
        ? "undefined"
        : JSON.stringify(rawContent);
    });

// node_modules/openai/lib/ChatCompletionRunner.mjs
var ChatCompletionRunner = class extends AbstractChatCompletionRunner {
  static runFunctions(completions, params, options) {
    const runner = new ChatCompletionRunner();
    runner._run(() => runner._runFunctions(completions, params, options));
    return runner;
  }
  static runTools(completions, params, options) {
    const runner = new ChatCompletionRunner();
    runner._run(() => runner._runTools(completions, params, options));
    return runner;
  }
  _addMessage(message) {
    super._addMessage(message);
    if (isAssistantMessage(message) && message.content) {
      this._emit("content", message.content);
    }
  }
};

// node_modules/openai/lib/ChatCompletionStream.mjs
var __classPrivateFieldGet3 = function (receiver, state, kind2, f) {
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a getter");
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  )
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it"
    );
  return kind2 === "m"
    ? f
    : kind2 === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var __classPrivateFieldSet3 = function (receiver, state, value, kind2, f) {
  if (kind2 === "m") throw new TypeError("Private method is not writable");
  if (kind2 === "a" && !f)
    throw new TypeError("Private accessor was defined without a setter");
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  )
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it"
    );
  return (
    kind2 === "a"
      ? f.call(receiver, value)
      : f
      ? (f.value = value)
      : state.set(receiver, value),
    value
  );
};
var _ChatCompletionStream_instances;
var _ChatCompletionStream_currentChatCompletionSnapshot;
var _ChatCompletionStream_beginRequest;
var _ChatCompletionStream_addChunk;
var _ChatCompletionStream_endRequest;
var _ChatCompletionStream_accumulateChatCompletion;
var ChatCompletionStream = class extends AbstractChatCompletionRunner {
  constructor() {
    super(...arguments);
    _ChatCompletionStream_instances.add(this);
    _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);
  }
  get currentChatCompletionSnapshot() {
    return __classPrivateFieldGet3(
      this,
      _ChatCompletionStream_currentChatCompletionSnapshot,
      "f"
    );
  }
  static fromReadableStream(stream) {
    const runner = new ChatCompletionStream();
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  static createChatCompletion(completions, params, options) {
    const runner = new ChatCompletionStream();
    runner._run(() =>
      runner._runChatCompletion(
        completions,
        { ...params, stream: true },
        {
          ...options,
          headers: {
            ...(options == null ? void 0 : options.headers),
            "X-Stainless-Helper-Method": "stream",
          },
        }
      )
    );
    return runner;
  }
  async _createChatCompletion(completions, params, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted) this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet3(
      this,
      _ChatCompletionStream_instances,
      "m",
      _ChatCompletionStream_beginRequest
    ).call(this);
    const stream = await completions.create(
      { ...params, stream: true },
      { ...options, signal: this.controller.signal }
    );
    this._connected();
    for await (const chunk of stream) {
      __classPrivateFieldGet3(
        this,
        _ChatCompletionStream_instances,
        "m",
        _ChatCompletionStream_addChunk
      ).call(this, chunk);
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addChatCompletion(
      __classPrivateFieldGet3(
        this,
        _ChatCompletionStream_instances,
        "m",
        _ChatCompletionStream_endRequest
      ).call(this)
    );
  }
  async _fromReadableStream(readableStream, options) {
    var _a2;
    const signal = options == null ? void 0 : options.signal;
    if (signal) {
      if (signal.aborted) this.controller.abort();
      signal.addEventListener("abort", () => this.controller.abort());
    }
    __classPrivateFieldGet3(
      this,
      _ChatCompletionStream_instances,
      "m",
      _ChatCompletionStream_beginRequest
    ).call(this);
    this._connected();
    const stream = Stream.fromReadableStream(readableStream, this.controller);
    let chatId;
    for await (const chunk of stream) {
      if (chatId && chatId !== chunk.id) {
        this._addChatCompletion(
          __classPrivateFieldGet3(
            this,
            _ChatCompletionStream_instances,
            "m",
            _ChatCompletionStream_endRequest
          ).call(this)
        );
      }
      __classPrivateFieldGet3(
        this,
        _ChatCompletionStream_instances,
        "m",
        _ChatCompletionStream_addChunk
      ).call(this, chunk);
      chatId = chunk.id;
    }
    if ((_a2 = stream.controller.signal) == null ? void 0 : _a2.aborted) {
      throw new APIUserAbortError();
    }
    return this._addChatCompletion(
      __classPrivateFieldGet3(
        this,
        _ChatCompletionStream_instances,
        "m",
        _ChatCompletionStream_endRequest
      ).call(this)
    );
  }
  [((_ChatCompletionStream_currentChatCompletionSnapshot =
    /* @__PURE__ */ new WeakMap()),
  (_ChatCompletionStream_instances = /* @__PURE__ */ new WeakSet()),
  (_ChatCompletionStream_beginRequest =
    function _ChatCompletionStream_beginRequest2() {
      if (this.ended) return;
      __classPrivateFieldSet3(
        this,
        _ChatCompletionStream_currentChatCompletionSnapshot,
        void 0,
        "f"
      );
    }),
  (_ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk2(
    chunk
  ) {
    var _a2, _b, _c;
    if (this.ended) return;
    const completion = __classPrivateFieldGet3(
      this,
      _ChatCompletionStream_instances,
      "m",
      _ChatCompletionStream_accumulateChatCompletion
    ).call(this, chunk);
    this._emit("chunk", chunk, completion);
    const delta =
      (_b = (_a2 = chunk.choices[0]) == null ? void 0 : _a2.delta) == null
        ? void 0
        : _b.content;
    const snapshot = (_c = completion.choices[0]) == null ? void 0 : _c.message;
    if (
      delta != null &&
      (snapshot == null ? void 0 : snapshot.role) === "assistant" &&
      (snapshot == null ? void 0 : snapshot.content)
    ) {
      this._emit("content", delta, snapshot.content);
    }
  }),
  (_ChatCompletionStream_endRequest =
    function _ChatCompletionStream_endRequest2() {
      if (this.ended) {
        throw new OpenAIError(`stream has ended, this shouldn't happen`);
      }
      const snapshot = __classPrivateFieldGet3(
        this,
        _ChatCompletionStream_currentChatCompletionSnapshot,
        "f"
      );
      if (!snapshot) {
        throw new OpenAIError(`request ended without sending any chunks`);
      }
      __classPrivateFieldSet3(
        this,
        _ChatCompletionStream_currentChatCompletionSnapshot,
        void 0,
        "f"
      );
      return finalizeChatCompletion(snapshot);
    }),
  (_ChatCompletionStream_accumulateChatCompletion =
    function _ChatCompletionStream_accumulateChatCompletion2(chunk) {
      var _a3, _b2, _c;
      var _a2, _b;
      let snapshot = __classPrivateFieldGet3(
        this,
        _ChatCompletionStream_currentChatCompletionSnapshot,
        "f"
      );
      const { choices, ...rest } = chunk;
      if (!snapshot) {
        snapshot = __classPrivateFieldSet3(
          this,
          _ChatCompletionStream_currentChatCompletionSnapshot,
          {
            ...rest,
            choices: [],
          },
          "f"
        );
      } else {
        Object.assign(snapshot, rest);
      }
      for (const { delta, finish_reason, index, ...other } of chunk.choices) {
        let choice = snapshot.choices[index];
        if (!choice) {
          snapshot.choices[index] = {
            finish_reason,
            index,
            message: delta,
            ...other,
          };
          continue;
        }
        if (finish_reason) choice.finish_reason = finish_reason;
        Object.assign(choice, other);
        if (!delta) continue;
        const { content, function_call, role, tool_calls } = delta;
        if (content)
          choice.message.content = (choice.message.content || "") + content;
        if (role) choice.message.role = role;
        if (function_call) {
          if (!choice.message.function_call) {
            choice.message.function_call = function_call;
          } else {
            if (function_call.name)
              choice.message.function_call.name = function_call.name;
            if (function_call.arguments) {
              (_a3 = (_a2 = choice.message.function_call).arguments) != null
                ? _a3
                : (_a2.arguments = "");
              choice.message.function_call.arguments += function_call.arguments;
            }
          }
        }
        if (tool_calls) {
          if (!choice.message.tool_calls) choice.message.tool_calls = [];
          for (const { index: index2, id, type, function: fn } of tool_calls) {
            const tool_call =
              (_b2 = (_b = choice.message.tool_calls)[index2]) != null
                ? _b2
                : (_b[index2] = {});
            if (id) tool_call.id = id;
            if (type) tool_call.type = type;
            if (fn)
              (_c = tool_call.function) != null
                ? _c
                : (tool_call.function = { arguments: "" });
            if (fn == null ? void 0 : fn.name)
              tool_call.function.name = fn.name;
            if (fn == null ? void 0 : fn.arguments)
              tool_call.function.arguments += fn.arguments;
          }
        }
      }
      return snapshot;
    }),
  Symbol.asyncIterator)]() {
    const pushQueue = [];
    const readQueue = [];
    let done = false;
    this.on("chunk", (chunk) => {
      const reader = readQueue.shift();
      if (reader) {
        reader(chunk);
      } else {
        pushQueue.push(chunk);
      }
    });
    this.on("end", () => {
      done = true;
      for (const reader of readQueue) {
        reader(void 0);
      }
      readQueue.length = 0;
    });
    return {
      next: async () => {
        if (!pushQueue.length) {
          if (done) {
            return { value: void 0, done: true };
          }
          return new Promise((resolve) => readQueue.push(resolve)).then(
            (chunk2) =>
              chunk2
                ? { value: chunk2, done: false }
                : { value: void 0, done: true }
          );
        }
        const chunk = pushQueue.shift();
        return { value: chunk, done: false };
      },
    };
  }
  toReadableStream() {
    const stream = new Stream(
      this[Symbol.asyncIterator].bind(this),
      this.controller
    );
    return stream.toReadableStream();
  }
};
function finalizeChatCompletion(snapshot) {
  const { id, choices, created, model } = snapshot;
  return {
    id,
    choices: choices.map(({ message, finish_reason, index }) => {
      if (!finish_reason)
        throw new OpenAIError(`missing finish_reason for choice ${index}`);
      const { content = null, function_call, tool_calls } = message;
      const role = message.role;
      if (!role) throw new OpenAIError(`missing role for choice ${index}`);
      if (function_call) {
        const { arguments: args, name } = function_call;
        if (args == null)
          throw new OpenAIError(
            `missing function_call.arguments for choice ${index}`
          );
        if (!name)
          throw new OpenAIError(
            `missing function_call.name for choice ${index}`
          );
        return {
          message: { content, function_call: { arguments: args, name }, role },
          finish_reason,
          index,
        };
      }
      if (tool_calls) {
        return {
          index,
          finish_reason,
          message: {
            role,
            content,
            tool_calls: tool_calls.map((tool_call, i) => {
              const { function: fn, type, id: id2 } = tool_call;
              const { arguments: args, name } = fn || {};
              if (id2 == null)
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].id
${str(snapshot)}`);
              if (type == null)
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].type
${str(snapshot)}`);
              if (name == null)
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].function.name
${str(snapshot)}`);
              if (args == null)
                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].function.arguments
${str(snapshot)}`);
              return { id: id2, type, function: { name, arguments: args } };
            }),
          },
        };
      }
      return { message: { content, role }, finish_reason, index };
    }),
    created,
    model,
    object: "chat.completion",
  };
}
function str(x) {
  return JSON.stringify(x);
}

// node_modules/openai/lib/ChatCompletionStreamingRunner.mjs
var ChatCompletionStreamingRunner = class extends ChatCompletionStream {
  static fromReadableStream(stream) {
    const runner = new ChatCompletionStreamingRunner();
    runner._run(() => runner._fromReadableStream(stream));
    return runner;
  }
  static runFunctions(completions, params, options) {
    const runner = new ChatCompletionStreamingRunner();
    runner._run(() =>
      runner._runFunctions(completions, params, {
        ...options,
        headers: {
          ...(options == null ? void 0 : options.headers),
          "X-Stainless-Helper-Method": "runFunctions",
        },
      })
    );
    return runner;
  }
  static runTools(completions, params, options) {
    const runner = new ChatCompletionStreamingRunner();
    runner._run(() =>
      runner._runTools(completions, params, {
        ...options,
        headers: {
          ...(options == null ? void 0 : options.headers),
          "X-Stainless-Helper-Method": "runTools",
        },
      })
    );
    return runner;
  }
};

// node_modules/openai/resources/beta/chat/completions.mjs
var Completions2 = class extends APIResource {
  runFunctions(body, options) {
    if (body.stream) {
      return ChatCompletionStreamingRunner.runFunctions(
        this._client.chat.completions,
        body,
        options
      );
    }
    return ChatCompletionRunner.runFunctions(
      this._client.chat.completions,
      body,
      options
    );
  }
  runTools(body, options) {
    if (body.stream) {
      return ChatCompletionStreamingRunner.runTools(
        this._client.chat.completions,
        body,
        options
      );
    }
    return ChatCompletionRunner.runTools(
      this._client.chat.completions,
      body,
      options
    );
  }
  stream(body, options) {
    return ChatCompletionStream.createChatCompletion(
      this._client.chat.completions,
      body,
      options
    );
  }
};

// node_modules/openai/resources/beta/chat/chat.mjs
var Chat2 = class extends APIResource {
  constructor() {
    super(...arguments);
    this.completions = new Completions2(this._client);
  }
};
(function (Chat3) {
  Chat3.Completions = Completions2;
})(Chat2 || (Chat2 = {}));

// node_modules/openai/resources/beta/threads/messages/files.mjs
var Files2 = class extends APIResource {
  retrieve(threadId, messageId, fileId, options) {
    return this._client.get(
      `/threads/${threadId}/messages/${messageId}/files/${fileId}`,
      {
        ...options,
        headers: {
          "OpenAI-Beta": "assistants=v1",
          ...(options == null ? void 0 : options.headers),
        },
      }
    );
  }
  list(threadId, messageId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, messageId, {}, query);
    }
    return this._client.getAPIList(
      `/threads/${threadId}/messages/${messageId}/files`,
      MessageFilesPage,
      {
        query,
        ...options,
        headers: {
          "OpenAI-Beta": "assistants=v1",
          ...(options == null ? void 0 : options.headers),
        },
      }
    );
  }
};
var MessageFilesPage = class extends CursorPage {};
(function (Files4) {
  Files4.MessageFilesPage = MessageFilesPage;
})(Files2 || (Files2 = {}));

// node_modules/openai/resources/beta/threads/messages/messages.mjs
var Messages = class extends APIResource {
  constructor() {
    super(...arguments);
    this.files = new Files2(this._client);
  }
  create(threadId, body, options) {
    return this._client.post(`/threads/${threadId}/messages`, {
      body,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  retrieve(threadId, messageId, options) {
    return this._client.get(`/threads/${threadId}/messages/${messageId}`, {
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  update(threadId, messageId, body, options) {
    return this._client.post(`/threads/${threadId}/messages/${messageId}`, {
      body,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  list(threadId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, {}, query);
    }
    return this._client.getAPIList(
      `/threads/${threadId}/messages`,
      ThreadMessagesPage,
      {
        query,
        ...options,
        headers: {
          "OpenAI-Beta": "assistants=v1",
          ...(options == null ? void 0 : options.headers),
        },
      }
    );
  }
};
var ThreadMessagesPage = class extends CursorPage {};
(function (Messages2) {
  Messages2.ThreadMessagesPage = ThreadMessagesPage;
  Messages2.Files = Files2;
  Messages2.MessageFilesPage = MessageFilesPage;
})(Messages || (Messages = {}));

// node_modules/openai/resources/beta/threads/runs/steps.mjs
var Steps = class extends APIResource {
  retrieve(threadId, runId, stepId, options) {
    return this._client.get(
      `/threads/${threadId}/runs/${runId}/steps/${stepId}`,
      {
        ...options,
        headers: {
          "OpenAI-Beta": "assistants=v1",
          ...(options == null ? void 0 : options.headers),
        },
      }
    );
  }
  list(threadId, runId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, runId, {}, query);
    }
    return this._client.getAPIList(
      `/threads/${threadId}/runs/${runId}/steps`,
      RunStepsPage,
      {
        query,
        ...options,
        headers: {
          "OpenAI-Beta": "assistants=v1",
          ...(options == null ? void 0 : options.headers),
        },
      }
    );
  }
};
var RunStepsPage = class extends CursorPage {};
(function (Steps2) {
  Steps2.RunStepsPage = RunStepsPage;
})(Steps || (Steps = {}));

// node_modules/openai/resources/beta/threads/runs/runs.mjs
var Runs = class extends APIResource {
  constructor() {
    super(...arguments);
    this.steps = new Steps(this._client);
  }
  create(threadId, body, options) {
    return this._client.post(`/threads/${threadId}/runs`, {
      body,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  retrieve(threadId, runId, options) {
    return this._client.get(`/threads/${threadId}/runs/${runId}`, {
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  update(threadId, runId, body, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}`, {
      body,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  list(threadId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list(threadId, {}, query);
    }
    return this._client.getAPIList(`/threads/${threadId}/runs`, RunsPage, {
      query,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  cancel(threadId, runId, options) {
    return this._client.post(`/threads/${threadId}/runs/${runId}/cancel`, {
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  submitToolOutputs(threadId, runId, body, options) {
    return this._client.post(
      `/threads/${threadId}/runs/${runId}/submit_tool_outputs`,
      {
        body,
        ...options,
        headers: {
          "OpenAI-Beta": "assistants=v1",
          ...(options == null ? void 0 : options.headers),
        },
      }
    );
  }
};
var RunsPage = class extends CursorPage {};
(function (Runs2) {
  Runs2.RunsPage = RunsPage;
  Runs2.Steps = Steps;
  Runs2.RunStepsPage = RunStepsPage;
})(Runs || (Runs = {}));

// node_modules/openai/resources/beta/threads/threads.mjs
var Threads = class extends APIResource {
  constructor() {
    super(...arguments);
    this.runs = new Runs(this._client);
    this.messages = new Messages(this._client);
  }
  create(body = {}, options) {
    if (isRequestOptions(body)) {
      return this.create({}, body);
    }
    return this._client.post("/threads", {
      body,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  retrieve(threadId, options) {
    return this._client.get(`/threads/${threadId}`, {
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  update(threadId, body, options) {
    return this._client.post(`/threads/${threadId}`, {
      body,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  del(threadId, options) {
    return this._client.delete(`/threads/${threadId}`, {
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  createAndRun(body, options) {
    return this._client.post("/threads/runs", {
      body,
      ...options,
      headers: {
        "OpenAI-Beta": "assistants=v1",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
};
(function (Threads2) {
  Threads2.Runs = Runs;
  Threads2.RunsPage = RunsPage;
  Threads2.Messages = Messages;
  Threads2.ThreadMessagesPage = ThreadMessagesPage;
})(Threads || (Threads = {}));

// node_modules/openai/resources/beta/beta.mjs
var Beta = class extends APIResource {
  constructor() {
    super(...arguments);
    this.chat = new Chat2(this._client);
    this.assistants = new Assistants(this._client);
    this.threads = new Threads(this._client);
  }
};
(function (Beta2) {
  Beta2.Chat = Chat2;
  Beta2.Assistants = Assistants;
  Beta2.AssistantsPage = AssistantsPage;
  Beta2.Threads = Threads;
})(Beta || (Beta = {}));

// node_modules/openai/resources/completions.mjs
var Completions3 = class extends APIResource {
  create(body, options) {
    var _a2;
    return this._client.post("/completions", {
      body,
      ...options,
      stream: (_a2 = body.stream) != null ? _a2 : false,
    });
  }
};
(function (Completions4) {})(Completions3 || (Completions3 = {}));

// node_modules/openai/resources/embeddings.mjs
var Embeddings = class extends APIResource {
  create(body, options) {
    return this._client.post("/embeddings", { body, ...options });
  }
};
(function (Embeddings2) {})(Embeddings || (Embeddings = {}));

// node_modules/openai/resources/edits.mjs
var Edits = class extends APIResource {
  create(body, options) {
    return this._client.post("/edits", { body, ...options });
  }
};
(function (Edits2) {})(Edits || (Edits = {}));

// node_modules/openai/resources/files.mjs
var Files3 = class extends APIResource {
  create(body, options) {
    return this._client.post(
      "/files",
      multipartFormRequestOptions({ body, ...options })
    );
  }
  retrieve(fileId, options) {
    return this._client.get(`/files/${fileId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/files", FileObjectsPage, {
      query,
      ...options,
    });
  }
  del(fileId, options) {
    return this._client.delete(`/files/${fileId}`, options);
  }
  content(fileId, options) {
    return this._client.get(`/files/${fileId}/content`, {
      ...options,
      __binaryResponse: true,
    });
  }
  retrieveContent(fileId, options) {
    return this._client.get(`/files/${fileId}/content`, {
      ...options,
      headers: {
        Accept: "application/json",
        ...(options == null ? void 0 : options.headers),
      },
    });
  }
  async waitForProcessing(
    id,
    { pollInterval = 5e3, maxWait = 30 * 60 * 1e3 } = {}
  ) {
    const TERMINAL_STATES = /* @__PURE__ */ new Set([
      "processed",
      "error",
      "deleted",
    ]);
    const start = Date.now();
    let file = await this.retrieve(id);
    while (!file.status || !TERMINAL_STATES.has(file.status)) {
      await sleep(pollInterval);
      file = await this.retrieve(id);
      if (Date.now() - start > maxWait) {
        throw new APIConnectionTimeoutError({
          message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`,
        });
      }
    }
    return file;
  }
};
var FileObjectsPage = class extends Page {};
(function (Files4) {
  Files4.FileObjectsPage = FileObjectsPage;
})(Files3 || (Files3 = {}));

// node_modules/openai/resources/fine-tunes.mjs
var FineTunes = class extends APIResource {
  create(body, options) {
    return this._client.post("/fine-tunes", { body, ...options });
  }
  retrieve(fineTuneId, options) {
    return this._client.get(`/fine-tunes/${fineTuneId}`, options);
  }
  list(options) {
    return this._client.getAPIList("/fine-tunes", FineTunesPage, options);
  }
  cancel(fineTuneId, options) {
    return this._client.post(`/fine-tunes/${fineTuneId}/cancel`, options);
  }
  listEvents(fineTuneId, query, options) {
    var _a2;
    return this._client.get(`/fine-tunes/${fineTuneId}/events`, {
      query,
      timeout: 864e5,
      ...options,
      stream:
        (_a2 = query == null ? void 0 : query.stream) != null ? _a2 : false,
    });
  }
};
var FineTunesPage = class extends Page {};
(function (FineTunes2) {
  FineTunes2.FineTunesPage = FineTunesPage;
})(FineTunes || (FineTunes = {}));

// node_modules/openai/resources/fine-tuning/jobs.mjs
var Jobs = class extends APIResource {
  create(body, options) {
    return this._client.post("/fine_tuning/jobs", { body, ...options });
  }
  retrieve(fineTuningJobId, options) {
    return this._client.get(`/fine_tuning/jobs/${fineTuningJobId}`, options);
  }
  list(query = {}, options) {
    if (isRequestOptions(query)) {
      return this.list({}, query);
    }
    return this._client.getAPIList("/fine_tuning/jobs", FineTuningJobsPage, {
      query,
      ...options,
    });
  }
  cancel(fineTuningJobId, options) {
    return this._client.post(
      `/fine_tuning/jobs/${fineTuningJobId}/cancel`,
      options
    );
  }
  listEvents(fineTuningJobId, query = {}, options) {
    if (isRequestOptions(query)) {
      return this.listEvents(fineTuningJobId, {}, query);
    }
    return this._client.getAPIList(
      `/fine_tuning/jobs/${fineTuningJobId}/events`,
      FineTuningJobEventsPage,
      {
        query,
        ...options,
      }
    );
  }
};
var FineTuningJobsPage = class extends CursorPage {};
var FineTuningJobEventsPage = class extends CursorPage {};
(function (Jobs2) {
  Jobs2.FineTuningJobsPage = FineTuningJobsPage;
  Jobs2.FineTuningJobEventsPage = FineTuningJobEventsPage;
})(Jobs || (Jobs = {}));

// node_modules/openai/resources/fine-tuning/fine-tuning.mjs
var FineTuning = class extends APIResource {
  constructor() {
    super(...arguments);
    this.jobs = new Jobs(this._client);
  }
};
(function (FineTuning2) {
  FineTuning2.Jobs = Jobs;
  FineTuning2.FineTuningJobsPage = FineTuningJobsPage;
  FineTuning2.FineTuningJobEventsPage = FineTuningJobEventsPage;
})(FineTuning || (FineTuning = {}));

// node_modules/openai/resources/images.mjs
var Images = class extends APIResource {
  createVariation(body, options) {
    return this._client.post(
      "/images/variations",
      multipartFormRequestOptions({ body, ...options })
    );
  }
  edit(body, options) {
    return this._client.post(
      "/images/edits",
      multipartFormRequestOptions({ body, ...options })
    );
  }
  generate(body, options) {
    return this._client.post("/images/generations", { body, ...options });
  }
};
(function (Images2) {})(Images || (Images = {}));

// node_modules/openai/resources/models.mjs
var Models = class extends APIResource {
  retrieve(model, options) {
    return this._client.get(`/models/${model}`, options);
  }
  list(options) {
    return this._client.getAPIList("/models", ModelsPage, options);
  }
  del(model, options) {
    return this._client.delete(`/models/${model}`, options);
  }
};
var ModelsPage = class extends Page {};
(function (Models2) {
  Models2.ModelsPage = ModelsPage;
})(Models || (Models = {}));

// node_modules/openai/resources/moderations.mjs
var Moderations = class extends APIResource {
  create(body, options) {
    return this._client.post("/moderations", { body, ...options });
  }
};
(function (Moderations2) {})(Moderations || (Moderations = {}));

// node_modules/openai/index.mjs
var _a;
var OpenAI = class extends APIClient {
  constructor({
    apiKey = readEnv("OPENAI_API_KEY"),
    organization = ((_a2) =>
      (_a2 = readEnv("OPENAI_ORG_ID")) != null ? _a2 : null)(),
    ...opts
  } = {}) {
    var _a3, _b;
    if (apiKey === void 0) {
      throw new OpenAIError(
        "The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' })."
      );
    }
    const options = {
      apiKey,
      organization,
      ...opts,
      baseURL: (_a3 = opts.baseURL) != null ? _a3 : `https://api.openai.com/v1`,
    };
    if (!options.dangerouslyAllowBrowser && isRunningInBrowser()) {
      throw new OpenAIError(
        "It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n"
      );
    }
    super({
      baseURL: options.baseURL,
      timeout: (_b = options.timeout) != null ? _b : 6e5,
      httpAgent: options.httpAgent,
      maxRetries: options.maxRetries,
      fetch: options.fetch,
    });
    this.completions = new Completions3(this);
    this.chat = new Chat(this);
    this.edits = new Edits(this);
    this.embeddings = new Embeddings(this);
    this.files = new Files3(this);
    this.images = new Images(this);
    this.audio = new Audio(this);
    this.moderations = new Moderations(this);
    this.models = new Models(this);
    this.fineTuning = new FineTuning(this);
    this.fineTunes = new FineTunes(this);
    this.beta = new Beta(this);
    this._options = options;
    this.apiKey = apiKey;
    this.organization = organization;
  }
  defaultQuery() {
    return this._options.defaultQuery;
  }
  defaultHeaders(opts) {
    return {
      ...super.defaultHeaders(opts),
      "OpenAI-Organization": this.organization,
      ...this._options.defaultHeaders,
    };
  }
  authHeaders(opts) {
    return { Authorization: `Bearer ${this.apiKey}` };
  }
};
_a = OpenAI;
OpenAI.OpenAI = _a;
OpenAI.OpenAIError = OpenAIError;
OpenAI.APIError = APIError;
OpenAI.APIConnectionError = APIConnectionError;
OpenAI.APIConnectionTimeoutError = APIConnectionTimeoutError;
OpenAI.APIUserAbortError = APIUserAbortError;
OpenAI.NotFoundError = NotFoundError;
OpenAI.ConflictError = ConflictError;
OpenAI.RateLimitError = RateLimitError;
OpenAI.BadRequestError = BadRequestError;
OpenAI.AuthenticationError = AuthenticationError;
OpenAI.InternalServerError = InternalServerError;
OpenAI.PermissionDeniedError = PermissionDeniedError;
OpenAI.UnprocessableEntityError = UnprocessableEntityError;
var {
  OpenAIError: OpenAIError2,
  APIError: APIError2,
  APIConnectionError: APIConnectionError2,
  APIConnectionTimeoutError: APIConnectionTimeoutError2,
  APIUserAbortError: APIUserAbortError2,
  NotFoundError: NotFoundError2,
  ConflictError: ConflictError2,
  RateLimitError: RateLimitError2,
  BadRequestError: BadRequestError2,
  AuthenticationError: AuthenticationError2,
  InternalServerError: InternalServerError2,
  PermissionDeniedError: PermissionDeniedError2,
  UnprocessableEntityError: UnprocessableEntityError2,
} = error_exports;
var toFile2 = toFile;
(function (OpenAI2) {
  OpenAI2.toFile = toFile;
  OpenAI2.fileFromPath = fileFromPath;
  OpenAI2.Page = Page;
  OpenAI2.CursorPage = CursorPage;
  OpenAI2.Completions = Completions3;
  OpenAI2.Chat = Chat;
  OpenAI2.Edits = Edits;
  OpenAI2.Embeddings = Embeddings;
  OpenAI2.Files = Files3;
  OpenAI2.FileObjectsPage = FileObjectsPage;
  OpenAI2.Images = Images;
  OpenAI2.Audio = Audio;
  OpenAI2.Moderations = Moderations;
  OpenAI2.Models = Models;
  OpenAI2.ModelsPage = ModelsPage;
  OpenAI2.FineTuning = FineTuning;
  OpenAI2.FineTunes = FineTunes;
  OpenAI2.FineTunesPage = FineTunesPage;
  OpenAI2.Beta = Beta;
})(OpenAI || (OpenAI = {}));
var openai_default = OpenAI;

// src/main.ts
var fs = __toESM(require("fs"));

// src/formatter.js
function format_url_text(final_text, url) {
  final_text =
    `## ${url} Research
` + final_text;
  final_text = final_text.replace(
    "Problem to be solved:",
    "#### Problem to be solved"
  );
  final_text = final_text.replace("Product:", "#### Product");
  final_text = final_text.replace("Features:", "#### Features");
  final_text = final_text.replace("Business Model:", "#### Business Model");
  final_text = final_text.replace("Competition:", "#### Competition");
  final_text = final_text.replace("Vision:", "#### Vision");
  final_text = final_text.replace("Extras:", "#### Extras");
  return final_text;
}

// src/search.ts
var import_obsidian3 = require("obsidian");
async function specific_web_research(
  task,
  website,
  search_query,
  openai2,
  editor
) {
  let presentation_prompt = "Summarize the following paragraphs.";
  let title = "New Section";
  if (task.toLowerCase() == "competition") {
    title = "Competition Research";
    presentation_prompt = `Highlight the most important facts for an investor from the following paragraphs. If there are none, say "Nothing". Otherwise always respond in the following format: 
            - Problems to be solved
            - Product and Technology
            - Money raised
            - Team
            - Other important points`;
  } else if (task.toLowerCase() == "market-research") {
    title = "Market Research";
    let industry = search_query.split("industry market")[0];
    presentation_prompt = `What facts about the ${industry} market can an investor learn from the following paragraphs? If there are no facts to learn simply output "Nothing"`;
  }
  let message = await execute_search_task(
    title,
    website,
    search_query,
    presentation_prompt,
    openai2,
    editor
  );
  return message;
}
async function execute_search_task(
  task,
  website,
  search_query,
  presentation_prompt,
  openai2,
  editor
) {
  try {
    let website_name = "";
    if (website == "") {
      website_name = "general research";
    } else {
      website_name = website.split(".")[0];
    }
    let message = `#### ${task} through ${website_name}
`;
    let summaries = [];
    let sources = [];
    let query = `site:${website} ${search_query}`;
    let result = await you_research(query);
    let counter = 0;
    let user_prompt = presentation_prompt;
    for (let element of result) {
      let snippets = element["snippets"];
      let title = element["title"];
      let url = element["url"];
      let summary = "";
      let paragraphs = snippets;
      paragraphs[0] = "- " + paragraphs[0];
      let string_paragraphs = paragraphs.join("\n\n- ");
      if (string_paragraphs && string_paragraphs.length > 1) {
        const response = await openai2.chat.completions.create({
          model: gpt_3_latest,
          messages: [
            {
              role: "system",
              content:
                "Act as an investigative journalist who is obsessed with the truth and accuracy. You always give answers in bullet points.",
            },
            {
              role: "user",
              content:
                `${user_prompt}
Paragraphs:
` + string_paragraphs,
            },
          ],
          temperature: 0,
          max_tokens: 1024,
          top_p: 1,
          frequency_penalty: 0,
          presence_penalty: 0,
        });
        summary += response.choices[0].message.content + "\n";
      }
      summaries.push(summary);
      let source = `[${title}](${url})`;
      sources.push(source);
      counter++;
      if (counter == 5) {
        break;
      }
    }
    for (let i = 0; i < summaries.length; i++) {
      message += `##### ${sources[i]}
`;
      message += summaries[i] + "\n\n";
    }
    return message;
  } catch (error) {
    console.log(`Error while doing research: ${error}`);
    new import_obsidian3.Notice(`Error while doing research`);
  }
  return "";
}
async function you_research(query) {
  let results = await (0, import_obsidian3.request)({
    url: `https://you-researcher-container-xm5lmdnsxq-uc.a.run.app/search?query=${query}`,
    method: "GET",
  });
  return await JSON.parse(results)["hits"];
}

// src/prompts.js
var DEFENSIBILITY_ANALYSIS_SYSTEM_PROMPT =
  "Use the following guidelines to determine what kinds of defensibility a startup can build with time:\n- **Network effect**: When every user creates more value for other users, forming a positive feedback loop. This can be local or global, and is one of the few forms of defensibility that can arise immediately upon launch of a company.\n- **Platform effect**: When a company becomes a sticky product because so many other companies have integrated against it. This usually comes after a company has enough users that others want to build against its platform to reach them.\n- **Integrations**: When a company integrates against many other APIs, code bases, etc. that are hard to reproduce, or when a company's services do integrations for the company against other vendors. This makes it hard to displace the company as each implementation is a unique and complex process.\n- **Building a ton of stuff**: When a company bundles and cross sells products that prevent other companies from finding a wedge to compete with them, or when a company has a big product footprint that makes it hard for new entrants to reach feature parity.\n- **Deals**: When a company secures early access, exclusive provider or distribution, or backend deals that give it scale, brand, or access advantages over competitors. This may include deals with APIs, data sources, regulators, or customers.\n- **Sales as moat**: When a company locks in customers with long term contracts, or has a sales process that makes it easier for enterprises to buy from them than from new suppliers. This may include security reviews, procurement processes, or pricing strategies.\n- **Regulatory**: When a company receives regulatory approvals that provide a moat. This may include licenses, permits, or exemptions that are hard to obtain or replicate by competitors.\n- **Data or system of record effect**: When a company has unique or proprietary data, or owns a customer's data or has a long historical record of it. This can create defensibility by making the data more valuable and harder to switch away from. Similarly, being a system of record for a user, entity, etc. can be a powerful position to be in.\n- **Scale effects**: When a company has access to large sums of money or business volume that allows it to do things that will make it difficult for competitors to upend them. This may include capital scale, business scale and negotiation, or pricing advantages.\n- **Open source**: When a company benefits from being the creator or contributor of an open source software project that is widely used or adopted by developers. This can create defensibility by giving the company brand recognition, community influence, and talent access.\n- **Brand**: When a company becomes synonymous with the thing they do, often by creating a new product category, or doing something vastly better than competitors. This can create defensibility by making the company the default choice for customers and creating loyalty and trust.\n- **IP moat**: When a company has intellectual property that protects its product or technology from being copied or infringed by competitors. This tends to be more effective in hard tech or biotech companies than most consumer or SaaS products.\n- **Speed**: When a company can execute faster and better than competitors, especially incumbents. This can create defensibility by allowing the company to iterate quickly, respond to customer feedback, and hire and close candidates faster.\n- **Pricing**: When a company can offer a lower price than competitors due to a lower cost structure, a lack of an existing product to cannibalize, or a different business model. This can create defensibility by attracting more customers and creating higher margins.\n- **New business models**: When a company can innovate on business model to create a higher leverage business or different incentive structure. This can create defensibility by disrupting incumbents who are used to traditional ways of doing things.\nAlways think step by step!";
var GUIDANCE_WORKFLOW_SYSTEM_PROMPT =
  "You are a helpful assistant to a venture capital investor. Your main job is guiding the investor to always focus on the bigger picture and find the core arguments they should focus us. Your arguments are always concise and to the point. When needed, you can guide the investor by asking questions that help them focus on the essentials.\nIn your analysis, you should always be customer-centric and focused on the target customer of the startup.\nThe following aspects are extremely crucial to the investor:\n- Who is the target customer for the startup?\n- What is the hardest part about the job of the target customer?\n- What is the startup's unique value proposition for the target customer?";

// src/fireflies.ts
async function get_meeting_id(meeting_name, fireflies_api_key2) {
  let meetings = await fetch("https://api.fireflies.ai/graphql", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      Authorization: `Bearer ${fireflies_api_key2}`,
    },
    body: JSON.stringify({
      query: `
            query {
                transcripts {
                    id
                    title
                    fireflies_users
                    participants
                    date
                    transcript_url
                    duration
                }
            }
        `,
    }),
  })
    .then((result) => {
      return result.json();
    })
    .then((result) => {
      return result.data;
    });
  let meetings_list = meetings["transcripts"];
  let meeting_id = "";
  for (let meeting of meetings_list) {
    if (meeting["title"] == meeting_name) {
      meeting_id = meeting["id"];
      break;
    }
  }
  return meeting_id;
}
async function get_meeting_transcript_by_id(id, investor_names2) {
  let transcript = await fetch("https://api.fireflies.ai/graphql", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      Authorization: "Bearer 853462ce-ee32-4aef-b840-ea9883cc38b3",
    },
    body: JSON.stringify({
      query: `
              query {
                transcript(id: "${id}"){ title date sentences {text speaker_name} }
              }
          `,
    }),
  })
    .then((result) => {
      return result.json();
    })
    .then((result) => {
      return result.data;
    });
  let current_sentence = "";
  let useful_paragraphs = [];
  let current_speaker =
    transcript["transcript"]["sentences"][0]["speaker_name"];
  for (let sentence of transcript["transcript"]["sentences"]) {
    if (sentence["speaker_name"] == current_speaker) {
      current_sentence += sentence["text"];
    } else {
      if (current_sentence.length != 0) {
        if (investor_names2.includes(current_speaker)) {
          current_speaker += " (Investor)";
          console.log(current_speaker);
        } else {
          current_speaker += " (Founder)";
        }
        current_sentence = current_speaker + ": " + current_sentence + "\n";
        useful_paragraphs.push(current_sentence);
        current_sentence = sentence["text"];
        current_speaker = sentence["speaker_name"];
      }
    }
  }
  if (current_sentence.length != 0) {
    useful_paragraphs.push(current_sentence);
  }
  return useful_paragraphs;
}

// src/main.ts
var affinityAPIKey = "";
var openaiAPIKey = "";
var owner_value = "10";
var connection_owner_field = "10";
var venture_network_list = "500";
var investor_names = [];
var fireflies_api_key = "";
var intervalId;
var openai;
var gpt_3_latest = "gpt-3.5-turbo-1106";
var gpt_4_latest2 = "gpt-4-1106-preview";
var DEFAULT_SETTINGS = {
  affinityKey: "default",
  openAIKey: "default",
  owner_person_value: "10",
  connection_owner_field_id: "100",
  venture_network_list_id: "500",
  team_names: "Ben Horrowitz, Vinod Khosla",
  fireflies_api: "default",
};
async function openai_js(
  model_name,
  user_prompt,
  system_prompt,
  max_tokens = 256,
  temperature = 0.3
) {
  const response = await openai.chat.completions.create({
    model: model_name,
    temperature,
    max_tokens,
    messages: [
      { role: "system", content: system_prompt },
      { role: "user", content: user_prompt },
    ],
  });
  let summary = response.choices[0].message.content;
  if (summary == null) {
    summary = "";
  }
  return summary;
}
async function openai_js_multiturn(
  queries,
  system_prompt,
  max_tokens = 256,
  temperature = 0.3
) {
  const system_message = system_prompt;
  let messages = [{ role: "system", content: system_message }];
  let replies = [];
  for (let query of queries) {
    messages.push({ role: "user", content: query });
    console.log(messages);
    const response = await openai.chat.completions.create({
      model: "gpt-4-1106-preview",
      temperature,
      max_tokens,
      messages,
    });
    let assistant_reply = response.choices[0].message.content;
    if (assistant_reply == null) {
      assistant_reply = "";
    }
    messages.push({ role: "assistant", content: assistant_reply });
    replies.push(assistant_reply);
  }
  return replies;
}
async function summarize_vc_text(text) {
  let [title, substrings] = extract_title_and_note(text);
  let hashtags;
  try {
    hashtags = substrings[0].split("Tags:")[1];
  } catch (e) {
    hashtags = substrings[0];
    new import_obsidian4.Notice(
      `${title}: Does not have any guiding hashtags, this could help the summarizer understand the VC better`,
      3600
    );
  }
  let text_to_summarize = hashtags + "\n" + substrings[1];
  console.log(`Summarizing: ${title}`);
  const system_prompt =
    "You are a summarizer for my notes about VC Funds. Your job is to read through my notes and create a summary in the following schema:\n- Fund Size::<How big is the fund?>\n- Ticket Size::<How much does the fund invest per startup?>\n- Geography::<Where can the fund invest?>\n- Stage:: <Pre-seed, Seed, Series A, etc>\n- Industry::<In which industries does the fund invest?>\n- Special::<Any special information about the fund or the investor that I should remember>";
  const summary = await openai_js(
    gpt_4_latest2,
    "Notes:\n" + text_to_summarize,
    system_prompt
  );
  let new_summary = String(summary);
  title = title.toString();
  let leading_text = "";
  let replacement = "";
  let tailing_text = "";
  if (substrings) {
    leading_text = substrings[0] + "\n" + title + "\n";
    for (let substring of substrings.slice(1)) {
      tailing_text = tailing_text + "\n" + substring;
    }
    replacement =
      leading_text +
      "#gpt_summarized, #review \n" +
      new_summary +
      "\n# Stop Indexing \n## Notes\n" +
      tailing_text;
    return [replacement, new_summary, title];
  } else {
    return [text, text, ""];
  }
}
async function summarize_paragraph(paragraph) {
  const response = await openai.chat.completions.create({
    model: "gpt-4-1106-preview",
    messages: [
      {
        role: "system",
        content:
          'You are a helpful note-taking assistant for a venture capital investor. You will be given a part of a transcript for the call between the investor and the startup founder. Your task is to extract information covering the following aspects:\n- **Team**:<Who is the team behind the startup. Answer in bullet points!>\n- **Problem**:<What is the problem the startup is solving and for whom. Answer in bullet points!>\n- **Product**:<How does their product solve this problem. Answer in bullet points!>\n- **Traction**:<How does their customer traction look like. Answer in bullet points!>\n- **Competition**:<How does the competitive landscape look like. Answer in bullet points!>\n- **Round Info**:<How much money are they raising from investors currently? How much have they raised before? Answer in bullet points!>\n- **Other**: <Other important points about the founders OR the startup that do not fit in the above sections. Answer in bullet points!>\n\nFor every section, always give your answers in bullet points! Otherwise, say "No Relevant Information"',
      },
      {
        role: "user",
        content: `${paragraph}`,
      },
    ],
    temperature: 0,
    max_tokens: 1024,
    top_p: 1,
    frequency_penalty: 0,
    presence_penalty: 0,
  });
  let reply = response.choices[0].message.content;
  console.log(reply);
  if (reply == null) {
    reply = "";
  }
  return reply;
}
async function summarize_all_paragraphs_together(paragraphs) {
  let input_text = "";
  for (let i = 0; i < paragraphs.length; i++) {
    input_text += `Summary #${i + 1}:
`;
    input_text += paragraphs[i] + "\n\n";
  }
  const response = await openai.chat.completions.create({
    model: "gpt-4-1106-preview",
    messages: [
      {
        role: "system",
        content: `You are a helpful assistant. Your task is to expand the first summary you are given by the information in all the subsequent summaries. The final summary you provide should cover ALL following sections:
- **Team**: <Who is the team behind the startup>
- **Problem**: <What is the problem the startup is solving and for whom>
- **Product**: <How does their product solve this problem>
- **Traction**: <How does their customer traction look like>
- **Competition**: <How does the competitive landscape look like>
- **Round Info**: <How much money are they raising from investors currently? How much have they raised before?>
- **Other**: <Other important points about the founders OR the startup that do not fit in the above sections>

Do not leave any empty sections. For every section always give your answers in bullet points! Otherwise say "No Relevant Information" infront of the section's name.`,
      },
      {
        role: "user",
        content: `${input_text}`,
      },
    ],
    temperature: 0,
    max_tokens: 2048,
    top_p: 1,
    frequency_penalty: 0,
    presence_penalty: 0,
  });
  let reply = response.choices[0].message.content;
  if (reply == null) {
    reply = "";
  }
  return reply;
}
function extractHeadersFromNotes(notes) {
  const headerRegex = /^#+\s+.+$/gm;
  const headers = [];
  let match;
  while ((match = headerRegex.exec(notes)) !== null) {
    headers.push(match[0]);
  }
  return headers;
}
function findLineNumber(fileText, searchString, startLine) {
  const fileContent = fileText;
  const lines = fileContent.split("\n");
  for (let i = startLine; i < lines.length; i++) {
    if (lines[i].includes(searchString)) {
      return [i, lines[i]];
    }
  }
  return [null, null];
}
function getStartHeader(update_type) {
  let startHeader = "";
  if (update_type.toLowerCase() == "team") {
    startHeader = "#### Team";
  } else if (update_type.toLowerCase() == "ideal customer profile") {
    startHeader = "#### Problem";
  } else if (update_type.toLowerCase() == "product") {
    startHeader = "#### Product";
  } else if (update_type.toLowerCase() == "competition") {
    startHeader = "#### Competition";
  } else if (
    update_type.toLowerCase() == "commercial traction" ||
    update_type.toLowerCase() == "market size"
  ) {
    startHeader = "#### Traction";
  } else if (update_type.toLowerCase() == "funding") {
    startHeader = "#### Round Info";
  }
  return startHeader;
}
function getCursorRange(fileText, startHeader, editor, allHeaders) {
  let startLineNumber;
  let matchedHeader;
  [startLineNumber, matchedHeader] = findLineNumber(fileText, startHeader, 0);
  console.log(`Matched Header: ${matchedHeader}`);
  console.log(`Found in line: ${startLineNumber}`);
  let startCursorPosition = null;
  let endCursorPosition = null;
  if (startLineNumber) {
    editor.setCursor(startLineNumber);
    startCursorPosition = editor.getCursor();
    let endLineNumber;
    let endMatchedHeader;
    endLineNumber = editor.lastLine();
    if (allHeaders.indexOf(matchedHeader) < allHeaders.length - 1) {
      let nextHeader = allHeaders[allHeaders.indexOf(matchedHeader) + 1];
      [endLineNumber, endMatchedHeader] = findLineNumber(
        fileText,
        nextHeader,
        startLineNumber
      );
      console.log(`Matched Next Header: ${nextHeader}`);
      console.log(`Found in line: ${endLineNumber}`);
    }
    if (endLineNumber) {
      endLineNumber -= 1;
      editor.setCursor(endLineNumber);
      endCursorPosition = editor.getCursor();
    }
  }
  return [startCursorPosition, endCursorPosition, matchedHeader];
}
async function update_affinity_startup(startup_name, note) {
  let startup;
  try {
    let startup2 = await get_startup_by_name(
      affinityAPIKey,
      owner_value,
      startup_name
    );
  } catch (e) {
    new import_obsidian4.Notice(`Can not establish connection with Affinity`);
    return;
  }
  if (startup) {
    let response = await add_notes_to_company(startup, note, affinityAPIKey);
    if (response == null) {
      new import_obsidian4.Notice(
        `Startup: ${startup_name} was NOT updated on Affinity`
      );
      return false;
    } else {
      new import_obsidian4.Notice(
        `Startup: ${startup_name} was updated on Affinity`
      );
      return true;
    }
  } else {
    new import_obsidian4.Notice(
      `Startup: ${startup_name} was NOT found on Affinity`
    );
    return false;
  }
}
function find_the_nearest_header(searchString, fileText) {
  let lineOfString, fullSearchString;
  [lineOfString, fullSearchString] = findLineNumber(fileText, searchString, 0);
  const headerRegex = /^#+\s+.+$/gm;
  const lines = fileText.split("\n");
  for (let i = lineOfString; i >= 0; i--) {
    let match;
    if ((match = headerRegex.exec(lines[i])) != null) {
      console.log(`Nearest header to: ${searchString} is ${match[0]}`);
      return match[0];
    }
  }
  console.log(`Can not find nearest string for: ${searchString}`);
  return "";
}
var VCCopilotPlugin = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new VCCopilotSettingsTab(this.app, this));
    this.status = this.addStatusBarItem();
    this.addCommand({
      id: "summarize-startup-command",
      name: "Summarize This Startup",
      editorCallback: (editor, view) =>
        this.summarize_selected_startup_text(editor, view, this.status),
    });
    this.addCommand({
      id: "reformat-and-update-master-note",
      name: "Reformat & Update Master Note",
      editorCallback: (editor, view) =>
        this.reformat_and_update_master_note(editor),
    });
    this.addCommand({
      id: "reformat-notes",
      name: "Reformat Notes",
      editorCallback: (editor, view) => this.reformat_notes(editor),
    });
    this.addCommand({
      id: "update-master-note",
      name: "Update Master Note",
      editorCallback: (editor, view) =>
        this.update_master_note_with_selected_text(editor),
    });
    this.addCommand({
      id: "affinity-startup",
      name: "Push Startups to Affinity",
      callback: () => this.push_startups_to_affinity(this.status),
    });
    this.addCommand({
      id: "summarize-all-vc-command",
      name: "Summarize All VC Notes",
      callback: () => this.summarize_all_vc(this.status),
    });
    this.addCommand({
      id: "affinity-vc",
      name: "Push VCs to Affinity",
      callback: () => this.push_vcs_to_affinity(this.status),
    });
    this.addCommand({
      id: "startup-defensibility",
      name: "Evaluate Startup Defensibility",
      editorCallback: (editor) => {
        const inputModal = new TextInputModal(
          this.app,
          "defensibility",
          (input) => {
            console.log("Submitted text:", input);
            this.defensibility_analysis(input, editor);
          }
        );
        inputModal.open();
      },
    });
    this.addCommand({
      id: "startup-workflow",
      name: "Startup Guidance Workflow",
      editorCallback: (editor) => {
        const inputModal = new TextInputModal(this.app, "evaluate", (input) => {
          console.log("Submitted text:", input);
          this.guidance_workflow(input, editor);
        });
        inputModal.open();
      },
    });
    this.addCommand({
      id: "market-research-command",
      name: "Market Research",
      editorCallback: (editor) => {
        const inputModal = new TextInputModal(
          this.app,
          "market-research",
          (input) => {
            console.log("Submitted text:", input);
            this.market_research(input, editor);
          }
        );
        inputModal.open();
      },
    });
    this.addCommand({
      id: "url-research-command",
      name: "Url Research",
      editorCallback: (editor) => {
        const inputModal = new TextInputModal(
          this.app,
          "url-research",
          (input) => {
            console.log("Submitted text:", input);
            this.url_research(input, editor);
          }
        );
        inputModal.open();
      },
    });
    this.addCommand({
      id: "competition-research-command",
      name: "Competition Research",
      editorCallback: (editor) => {
        const inputModal = new TextInputModal(
          this.app,
          "competition",
          (input) => {
            console.log("Submitted text:", input);
            this.competition_research(input, editor);
          }
        );
        inputModal.open();
      },
    });
    this.addCommand({
      id: "deck-analysis",
      name: "Summarize Pitch Deck",
      editorCallback: (editor) => {
        const inputModal = new PDFModal(this.app, (selected_file) => {
          new import_obsidian4.Notice(`Selected: '${selected_file}`);
          this.analyze_pitch_deck(selected_file, editor);
        });
        inputModal.open();
      },
    });
    this.addCommand({
      id: "custom-research",
      name: "Custom Research",
      editorCallback: (editor) => {
        const inputModal = new MultipleTextInputModal(this.app, "", (input) => {
          let result = input.split(", ");
          let website = result[0];
          let query = result[1];
          let task = result[2];
          console.log("Submitted text:", input);
          this.custom_search(task, website, query, editor);
        });
        inputModal.open();
      },
    });
    this.addCommand({
      id: "fireflies-summary",
      name: "Fireflies Call Summary",
      editorCallback: (editor) => {
        const inputModal = new TextInputModal(
          this.app,
          "fireflies-summary",
          (input) => {
            console.log("Submitted text:", input);
            this.fireflies_summary(input, editor);
          }
        );
        inputModal.open();
      },
    });
    openai = await new openai_default({
      apiKey: openaiAPIKey,
      dangerouslyAllowBrowser: true,
    });
    this.status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot loading....");
    this.status.setAttr("title", "VC Copilot is loading...");
    this.status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot ready");
    this.status.setAttr("title", "VC Copilot is ready");
  }
  onunload() {
    this.status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot left");
    this.status.setAttr("title", "VC Copilot says \u{1F44B}");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    openaiAPIKey = this.settings.openAIKey;
    affinityAPIKey = this.settings.affinityKey;
    owner_value = this.settings.owner_person_value;
    connection_owner_field = this.settings.connection_owner_field_id;
    venture_network_list = this.settings.venture_network_list_id;
    fireflies_api_key = this.settings.fireflies_api;
    this.settings.team_names.split(",").forEach((element) => {
      investor_names.push(element.trim());
    });
  }
  async saveSettings() {
    await this.saveData(this.settings);
    openaiAPIKey = this.settings.openAIKey;
    affinityAPIKey = this.settings.affinityKey;
    owner_value = this.settings.owner_person_value;
    connection_owner_field = this.settings.connection_owner_field_id;
    venture_network_list = this.settings.venture_network_list_id;
    fireflies_api_key = this.settings.fireflies_api;
    this.settings.team_names.split(",").forEach((element) => {
      investor_names.push(element.trim());
    });
  }
  async summarize_selected_startup_text(editor, view, status) {
    const sel = editor.getSelection();
    new import_obsidian4.Notice("Summarizing...");
    status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot summarizing...");
    status.setAttr("title", "Copilot is summarizing...");
    const system_prompt =
      "You are a summarizer for my notes about startups. Your job is to read through my notes and create a summary in the following schema:\n- **Team**:<the founder team behind the startup>\n\n- **Product**:<the product and the problem it solves>\n\n- **Traction**:<how much revenue has the startup generated so far, how many customers do they have>\n\n- **Round**:<how much money have they raised so far at what terms. How much money are they raising now>";
    let new_summary = await openai_js(gpt_4_latest2, sel, system_prompt);
    const replacement =
      "#gpt_summarized, #AddHashtags, #review_startup \n" +
      new_summary +
      "\n# Stop Indexing \n## Notes\n" +
      sel;
    editor.replaceSelection(replacement);
    status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot ready");
    status.setAttr("title", "Copilot is ready");
  }
  async push_startups_to_affinity(status) {
    const files = this.app.vault.getMarkdownFiles();
    status.setText(
      "\u{1F9D1}\u200D\u{1F680}: VC Copilot syncing with Affinity..."
    );
    status.setAttr("title", "Copilot is pushing startup info to Affinity...");
    for (let item of files) {
      let file_content = await this.app.vault.read(item);
      if (startup_ready_for_affinity(file_content)) {
        let [title, substrings] = extract_title_and_note(file_content);
        let startup_name = String(title);
        startup_name = clean_text(startup_name);
        let note = substrings[1];
        note = note.replace(/^(==|\*\*|#{2,})$/g, "");
        let startup_updated = await update_affinity_startup(startup_name, note);
        if (startup_updated) {
          file_content = file_content.replace(/#Affinity/g, "");
          this.app.vault.modify(item, file_content);
        }
      }
    }
    new import_obsidian4.Notice("Done!");
    status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot ready");
    status.setAttr("title", "Copilot is ready");
  }
  async summarize_all_vc(status) {
    const files = this.app.vault.getMarkdownFiles();
    status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot summarizing...");
    status.setAttr(
      "title",
      "VC Copilot is summarizing all your VC connections..."
    );
    for (let item of files) {
      let file_content = await this.app.vault.read(item);
      if (is_summarizable(file_content)) {
        console.log(`We are changing file: ${item.name}`);
        let [new_text, summary, title] = await summarize_vc_text(file_content);
        if (title != "") {
          this.app.vault.modify(item, new_text);
          new import_obsidian4.Notice(`${title} has been summarized`);
        }
      }
    }
    status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot ready");
    status.setAttr("title", "VC Copilot is ready");
  }
  async push_vcs_to_affinity(status) {
    const files = this.app.vault.getMarkdownFiles();
    status.setText(
      "\u{1F9D1}\u200D\u{1F680}: VC Copilot syncing with Affinity..."
    );
    status.setAttr("title", "Copilot is pushing VCs info to Affinity...");
    for (let item of files) {
      let file_content = await this.app.vault.read(item);
      if (vc_ready_for_affinity(file_content)) {
        let [title, substrings] = extract_title_and_note(file_content);
        let summary = substrings[1];
        let person_name = String(title);
        person_name = clean_text(person_name);
        let note = substrings[1];
        note = note.replace(/^(==|\*\*|#{2,})$/g, "");
        let person = await get_person_by_name(affinityAPIKey, person_name);
        if (person) {
          let person_id = person["id"];
          let person_details = await get_person_details(
            affinityAPIKey,
            person_id
          );
          let list_entry_id = await is_person_in_venture_network(
            affinityAPIKey,
            person_details,
            venture_network_list
          );
          if (list_entry_id != null) {
          } else {
            await add_entry_to_list(
              affinityAPIKey,
              venture_network_list,
              person_id
            );
            let person_details2 = await get_person_details(
              affinityAPIKey,
              person_id
            );
            list_entry_id = await is_person_in_venture_network(
              affinityAPIKey,
              person_details2,
              venture_network_list
            );
            await add_field_value(
              affinityAPIKey,
              connection_owner_field,
              person_id,
              owner_value,
              list_entry_id
            );
          }
          let result = await add_notes_to_person(
            affinityAPIKey,
            person_id,
            note
          );
          if (result) {
            new import_obsidian4.Notice(
              `VC: ${person_name} was updated on Affinity`
            );
            file_content = file_content.replace(/#Affinity/g, "");
            this.app.vault.modify(item, file_content);
          } else {
            new import_obsidian4.Notice(
              `VC: ${person_name} was FOUND but NOT updated on Affinity`
            );
          }
        } else {
          new import_obsidian4.Notice(
            `VC: ${person_name} was NOT FOUND on Affinity`
          );
        }
      }
    }
    status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot ready");
    status.setAttr("title", "Copilot is ready");
  }
  async url_research(url, editor) {
    this.status.setText(
      `\u{1F9D1}\u200D\u{1F680} \u{1F50E}: VC Copilot researching ${url}...`
    );
    this.status.setAttr("title", "Copilot is researching the url");
    let final_text = "";
    let position = editor.getCursor();
    try {
      const res = await fetch(
        "https://url-researcher-container-xm5lmdnsxq-ey.a.run.app",
        {
          method: "post",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            url,
            openai_key: openaiAPIKey,
          }),
        }
      );
      final_text = await res.text();
      final_text = format_url_text(final_text, url);
    } catch (error) {
      console.log(`Error when doing url research: ${error}`);
      new import_obsidian4.Notice(`Error when doing url research`);
    }
    this.displaymessage(final_text, editor, position);
  }
  async defensibility_analysis(startup_description, editor) {
    let position = editor.getCursor();
    let system_prompt = DEFENSIBILITY_ANALYSIS_SYSTEM_PROMPT;
    let query =
      "Startup Description:\n" +
      startup_description +
      "\nWhat types of defensibility does this startup have? Which types of defensibility does it lack or could improve upon? Let us think step by step";
    this.status.setText(
      "\u{1F9D1}\u200D\u{1F680}: VC Copilot analyzing defensibility..."
    );
    this.status.setAttr(
      "title",
      "VC Copilot is analyzing defensibility of the startup..."
    );
    let analysis = await openai_js(
      gpt_4_latest2,
      query,
      system_prompt,
      1024,
      1
    );
    analysis = "## Defensibility Analysis\n" + analysis;
    this.displaymessage(analysis, editor, position);
  }
  async guidance_workflow(startup_description, editor) {
    let position = editor.getCursor();
    let system_prompt = GUIDANCE_WORKFLOW_SYSTEM_PROMPT;
    let query =
      "Startup Description:\n" +
      startup_description +
      "\nWhat is the core problem this startup is solving? Give a concise answer.";
    let user_queries = [];
    user_queries.push(query);
    let hypothesis =
      "What are the core hypotheses the startup has to validate to prove that solving this core problem is important enough to allow them to build a unicorn?";
    user_queries.push(hypothesis);
    let classify =
      "Recommend some suitable product categories to classify the product";
    user_queries.push(classify);
    this.status.setText(
      "\u{1F9D1}\u200D\u{1F680}: VC Copilot analyzing startup..."
    );
    this.status.setAttr("title", "VC Copilot is analyzing the startup...");
    let replies = await openai_js_multiturn(
      user_queries,
      system_prompt,
      1024,
      1
    );
    replies[0] =
      "## Analysis Workflow\n\n#### Core Problem\n\n" + replies[0] + "\n";
    replies[1] = "#### Hypotheses\n\n" + replies[1] + "\n";
    replies[2] = "#### Categories\n\n" + replies[2] + "\n";
    let final_text = replies[0] + replies[1] + replies[2];
    this.displaymessage(final_text, editor, position);
  }
  async fireflies_summary(meeting_name, editor) {
    this.status.setText(
      `\u{1F9D1}\u200D\u{1F680} \u{1F50E}: VC Copilot reading the transcript of ${meeting_name}...`
    );
    this.status.setAttr("title", "Copilot is reading the transcript");
    let final_summary = "";
    let cursor_position = editor.getCursor();
    try {
      let id = await get_meeting_id(meeting_name, fireflies_api_key);
      let paragraphs = await get_meeting_transcript_by_id(id, investor_names);
      let summaries = [];
      let long_paragraph = "";
      let extended_paragraphs = [];
      for (let paragraph of paragraphs) {
        let number_of_words = countWords(paragraph);
        if (number_of_words >= 12) {
          if (number_of_words + countWords(long_paragraph) <= 2500) {
            long_paragraph += paragraph;
          } else {
            extended_paragraphs.push(long_paragraph);
            long_paragraph = paragraph;
          }
        }
      }
      if (long_paragraph.length != 0) {
        extended_paragraphs.push(long_paragraph);
      }
      this.status.setText(
        `\u{1F9D1}\u200D\u{1F680} \u{1F50E}: VC Copilot summarizing sections of the transcript of ${meeting_name}...`
      );
      this.status.setAttr(
        "title",
        "Copilot is summarizing sections of the transcript"
      );
      for (let paragraph of extended_paragraphs) {
        let summary = await summarize_paragraph(paragraph);
        summaries.push(summary);
      }
      this.status.setText(
        `\u{1F9D1}\u200D\u{1F680} \u{1F50E}: VC Copilot summarizing the full transcript of ${meeting_name}...`
      );
      this.status.setAttr(
        "title",
        "Copilot is summarizing the full transcript"
      );
      final_summary = await summarize_all_paragraphs_together(summaries);
      final_summary = final_summary.replace(/\*\*Team(:)?\*\*/g, "#### Team");
      final_summary = final_summary.replace(
        /\*\*Problem(:)?\*\*/g,
        "#### Problem"
      );
      final_summary = final_summary.replace(
        /\*\*Product(:)?\*\*/g,
        "#### Product"
      );
      final_summary = final_summary.replace(
        /\*\*Traction(:)?\*\*/g,
        "#### Traction"
      );
      final_summary = final_summary.replace(
        /\*\*Competition(:)?\*\*/g,
        "#### Competition"
      );
      final_summary = final_summary.replace(
        /\*\*Round Info(:)?\*\*/g,
        "#### Round Info"
      );
      final_summary = final_summary.replace(/\*\*Other(:)?\*\*/g, "#### Other");
      final_summary = final_summary.replace("- #### Team", "#### Team");
      final_summary = final_summary.replace("- #### Problem", "#### Problem");
      final_summary = final_summary.replace("- #### Product", "#### Product");
      final_summary = final_summary.replace("- #### Traction", "#### Traction");
      final_summary = final_summary.replace(
        "- #### Competition",
        "#### Competition"
      );
      final_summary = final_summary.replace(
        "- #### Round Info",
        "#### Round Info"
      );
      final_summary = final_summary.replace("- #### Other", "#### Other");
      final_summary =
        `## ${meeting_name} call summary
#review_startup
` + final_summary;
    } catch (error) {
      console.log(`Error during fireflies summary: ${error}`);
      new import_obsidian4.Notice(`Error during fireflies summary`);
    }
    editor.replaceRange(final_summary, cursor_position);
    this.status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot ready");
    this.status.setAttr("title", "Copilot is ready");
  }
  async market_research(industry, editor) {
    this.status.setText(
      "\u{1F9D1}\u200D\u{1F680} \u{1F50E}: VC Copilot researching the market..."
    );
    this.status.setAttr("title", "Copilot is researching the market...");
    let res;
    let position = editor.getCursor();
    try {
      let websites = ["", "globenewswire.com", "statista.com"];
      let query = `${industry} industry market report.`;
      let promises = websites.map((website) =>
        specific_web_research("market-research", website, query, openai, editor)
      );
      let results = await Promise.all(promises);
      let message = results.join("\n\n");
      message += "#### Further Material\n";
      message += "Here are some reading material for further information\n\n";
      query = `${industry} industry primer pdf`;
      let pdfs = await you_research(query);
      for (let element of pdfs) {
        let snippets = element["snippets"];
        let title = element["title"];
        let url = element["url"];
        message += `- [${title}](${url})
`;
      }
      message = "## Market Research\n" + message;
      this.displaymessage(message, editor, position);
    } catch (error) {
      console.log(`Error when doing market research: ${error}`);
      new import_obsidian4.Notice(`Error when doing market research`);
    }
  }
  async competition_research(query, editor) {
    let position = editor.getCursor();
    this.status.setText(
      "\u{1F9D1}\u200D\u{1F680} \u{1F50E}: VC Copilot researching competition..."
    );
    this.status.setAttr("title", "Copilot is researching competition...");
    try {
      let websites = ["techcrunch.com", "businessinsider.com"];
      let promises = websites.map((website) =>
        specific_web_research("competition", website, query, openai, editor)
      );
      let results = await Promise.all(promises);
      let message = results.join("\n\n");
      message = "## Competition Research\n" + message;
      this.displaymessage(message, editor, position);
    } catch (error) {
      console.log(`Error when doing market research: ${error}`);
      new import_obsidian4.Notice(`Error when doing market research`);
    }
  }
  async displaymessage(message, editor, position) {
    editor.replaceRange(message, position);
    this.status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot ready");
    this.status.setAttr("title", "Copilot is ready");
  }
  async custom_search(task, website, search_query, editor) {
    this.status.setText(
      "\u{1F9D1}\u200D\u{1F680} \u{1F50E}: VC Copilot surfing the internet..."
    );
    this.status.setAttr("title", "Copilot is surfing...");
    let position = editor.getCursor();
    let message = await specific_web_research(
      task,
      website,
      search_query,
      openai,
      editor
    );
    this.displaymessage(message, editor, position);
  }
  async getPathAndTextOfActiveFile() {
    let file = this.app.workspace.getActiveFile();
    let vault_path = file == null ? void 0 : file.vault.adapter.basePath;
    let filePath = vault_path + "/" + (file == null ? void 0 : file.path);
    let fileText = fs.readFileSync(filePath, "utf-8");
    return [filePath, fileText];
  }
  async reformat_notes(editor) {
    let notes = editor.getSelection();
    let message_without_headers = "";
    let activeFile = await this.app.workspace.getActiveFile();
    let fileText;
    const system_prompt = `Act as a veteran venture capital investor. You are very precise and concise. You are tasked with helping a junior venture capital investor in his due diligence about a startup. You always write full sentences in bullet points. Always mention hard facts like numbers and statistics.`;
    const user_prompt = `The notes of the junior venture capitalist will be delimited by triple quotes. Understand the context of these notes then summarize them more clearly and concisely in bullet points. Do not generate key takeaways or another summary after the initial bullet points.

"""${notes}"""`;
    this.status.setText(
      "\u{1F9D1}\u200D\u{1F680}: VC Copilot rewriting notes..."
    );
    this.status.setAttr("title", "VC Copilot is rewriting notes...");
    const headers = extractHeadersFromNotes(notes);
    let message = await openai_js(
      gpt_3_latest,
      user_prompt,
      system_prompt,
      256,
      0
    );
    message_without_headers = message;
    for (let i = headers.length - 1; i >= 0; i--) {
      message = headers[i] + "\n" + message;
    }
    if (activeFile) {
      fileText = await this.app.vault.process(activeFile, (data) => {
        return data.replace(notes, message);
      });
    } else {
      new import_obsidian4.Notice(
        `You must remain on the file where you want the command to work`
      );
      return "";
    }
    return message_without_headers;
  }
  async reformat_and_update_master_note(editor) {
    let activeFile = await this.app.workspace.getActiveFile();
    let message_without_headers = await this.reformat_notes(editor);
    if (activeFile) {
      await this.update_master_note_with_notes(
        message_without_headers,
        activeFile,
        editor
      );
    } else {
      new import_obsidian4.Notice(
        `You must remain on the file where you want the command to work`
      );
      return;
    }
    this.status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot ready");
    this.status.setAttr("title", "Copilot is ready");
  }
  async update_master_note_with_selected_text(editor) {
    let activeFile = this.app.workspace.getActiveFile();
    let notes = editor.getSelection();
    if (activeFile) {
      await this.update_master_note_with_notes(notes, activeFile, editor);
    } else {
      new import_obsidian4.Notice(
        `You must remain on the file where you want the command to work`
      );
      return;
    }
  }
  async update_master_note_with_notes(notes, activeFile, editor) {
    let fileText;
    let text_with_category = await this.categorize_notes(notes);
    let updates = this.get_updates_from_categories(text_with_category);
    let update_messages = this.create_update_messages(updates);
    if (activeFile) {
      fileText = await this.app.vault.read(activeFile);
    } else {
      new import_obsidian4.Notice(
        `You must remain on the file where you want the command to work`
      );
      return;
    }
    const allHeaders = extractHeadersFromNotes(fileText);
    let startHeader = "#### Team";
    let affinity_updates = [];
    for (const update_type in update_messages) {
      fileText = await this.app.vault.read(activeFile);
      let update_text = update_messages[update_type];
      startHeader = getStartHeader(update_type);
      let note = notes.split("\n")[0];
      let nearestHeader = find_the_nearest_header(note, fileText);
      nearestHeader = nearestHeader.replace(/^[#\s]+/, "");
      let source = "-- [[#" + nearestHeader + "]]";
      if (startHeader == "") {
        new import_obsidian4.Notice(
          `The active file does not have the usual startup file format`
        );
        continue;
      }
      let startCursorPosition;
      let endCursorPosition;
      let matchedHeader;
      [startCursorPosition, endCursorPosition, matchedHeader] = getCursorRange(
        fileText,
        startHeader,
        editor,
        allHeaders
      );
      let originalText = editor.getRange(
        startCursorPosition,
        endCursorPosition
      );
      originalText = matchedHeader + originalText;
      console.log(`Text found in between: ${originalText}`);
      update_text = update_text + source;
      if (activeFile) {
        await this.app.vault.process(activeFile, (data) => {
          return data.replace(
            originalText,
            originalText +
              `

${update_text}`
          );
        });
      }
      affinity_updates.push(update_text);
    }
    if (affinityAPIKey != "" && affinityAPIKey != "default") {
      let startup_name = activeFile.basename;
      for (let affinity_update of affinity_updates) {
        update_affinity_startup(startup_name, affinity_update);
      }
    }
  }
  get_updates_from_categories(text_with_category) {
    let updates = {};
    let lines = text_with_category.split("\n");
    for (let line of lines) {
      let chunks = line.split("::");
      let text = chunks[0];
      let category = chunks[1];
      if (!updates.hasOwnProperty(category)) {
        updates[category] = [text];
      } else {
        updates[category].push(text);
      }
    }
    return updates;
  }
  create_update_messages(updates) {
    let messages = [];
    let update_messages = {};
    const today = new Date();
    const currentDate = today.toISOString().split("T")[0];
    for (let [category, updates_array] of Object.entries(updates)) {
      let message = `###### ${category} updates on ${currentDate}
`;
      for (let update of updates_array) {
        message = message + "- " + update + "\n";
      }
      update_messages[category] = message;
    }
    return update_messages;
  }
  async categorize_notes(notes) {
    const response = await openai.chat.completions.create({
      model: gpt_3_latest,
      messages: [
        {
          role: "system",
          content:
            "You are Frederick, an AI expert in classifying sentences. You are tasked with reading a sentence and deciding to which category it belongs. Remember you're the best AI sentence analyzer and will use your expertise to provide the best possible analysis.",
        },
        {
          role: "user",
          content: `I will give you some sentences about a startup, and you will analyze each sentence choose the right category. You have to choose from the following categories:
- Team: <describes the team behind the startup>
- Product: <describes the product the startup is developing>
- Competition: <describes the competition the startup is facing>
- Ideal Customer Profile: <describes the ideal customer for the startup>
- Funding: <describes the money raised by the startup and its investors>
- Market Size: <describes how big the market is>
- Commercial Traction: <describes the revenues of the startup>
- Other: <does not fit into any of the above categories>

For each sentence reply in the format of \`sentence::category\` Got it?`,
        },
        {
          role: "assistant",
          content:
            "Yes, I understand. I am ready to analyze your sentences and choose the correct category. I will reply in the format of `sentence::category`",
        },
        {
          role: "user",
          content: `Sentences:
"""${notes}"""`,
        },
      ],
      temperature: 0,
      max_tokens: 256,
      top_p: 1,
      frequency_penalty: 0,
      presence_penalty: 0,
    });
    let reply = response.choices[0].message.content;
    if (reply == null) {
      reply = "";
    }
    return reply;
  }
  async analyze_pitch_deck(relative_path, editor) {
    let vault_path = "";
    let adapter = app.vault.adapter;
    if (adapter instanceof import_obsidian4.FileSystemAdapter) {
      vault_path = adapter.getBasePath();
    }
    console.log(vault_path);
    let absolute_path = vault_path + "/" + relative_path;
    this.status.setText("\u{1F9D1}\u200D\u{1F680}: VC Copilot analyzing deck");
    this.status.setAttr("title", "Copilot is analyzing");
    this.assistant_start_conv(absolute_path, editor);
  }
  async assistant_replace_citations(openai2, message) {
    let message_content = message.content[0].text;
    let annotations = message_content.annotations;
    let citations = [];
    for (let i = 0; i < annotations.length; i++) {
      let annotation = annotations[i];
      let annotation_text = annotation.text;
      message_content.value = await message_content.value.replace(
        annotation_text,
        `[${i + 1}]`
      );
      if (annotation.file_citation) {
        const cited_file = await openai2.files.retrieve(
          annotation.file_citation.file_id
        );
        citations.push(`##### [${i + 1}]
 ${annotation.file_citation.quote}
 **from ${cited_file.filename}**`);
      } else if (annotation.file_path) {
        const cited_file = await openai2.files.retrieve(
          annotation.file_path.file_id
        );
        citations.push(
          `##### [${i + 1}] Click <here> to download ${cited_file.filename}`
        );
      }
    }
    message_content.value += "\n\n#### Sources:\n" + citations.join("\n\n");
    return message;
  }
  async assistant_displaymessage(
    openai2,
    thread,
    run,
    messages,
    editor,
    editor_position
  ) {
    let message = messages.data[0];
    message = await this.assistant_replace_citations(openai2, message);
    let final_message = message.content[0].text.value;
    this.displaymessage(final_message, editor, editor_position);
  }
  async assistant_check_thread_status(
    openai2,
    thread,
    run,
    editor,
    editor_position
  ) {
    const run_status = await openai2.beta.threads.runs.retrieve(
      thread.id,
      run.id
    );
    console.log(run_status.status);
    if (run_status.status == "completed") {
      console.log("successful!");
      clearInterval(intervalId);
      const messages = await openai2.beta.threads.messages.list(thread.id);
      this.assistant_displaymessage(
        openai2,
        thread,
        run,
        messages,
        editor,
        editor_position
      );
    }
  }
  async assistant_start_conv(deck_path, editor) {
    let editor_position = editor.getCursor();
    let deck = await toFile2(fs.createReadStream(deck_path));
    const file = await openai.files.create({
      file: deck,
      purpose: "assistants",
    });
    const assistant = await openai.beta.assistants.create({
      name: "Deck Master",
      instructions:
        "You are a veteran venture capital investor. You are extremely analytical and detail-oriented. You always answer in nested bullet points. Always break down long bullet points into multiple short ones.",
      tools: [{ type: "retrieval" }],
      model: gpt_3_latest,
      file_ids: [file.id],
    });
    const thread = await openai.beta.threads.create();
    const message = await openai.beta.threads.messages.create(thread.id, {
      role: "user",
      content:
        "Read through this pitch deck. Extract the following information:\n- Team\n- Problem the startup is solving\n- Solution\n- Competition\n- Commercial Traction:\n- Market size",
      file_ids: [file.id],
    });
    const run = await openai.beta.threads.runs.create(thread.id, {
      assistant_id: assistant.id,
    });
    intervalId = setInterval(
      () =>
        this.assistant_check_thread_status(
          openai,
          thread,
          run,
          editor,
          editor_position
        ),
      500
    );
  }
};
var VCCopilotSettingsTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for your copilot" });
    new import_obsidian4.Setting(containerEl)
      .setName("OpenAI API Key")
      .setDesc("Your OpenAI API Key")
      .addText((text) =>
        text
          .setPlaceholder("Enter key")
          .setValue(this.plugin.settings.openAIKey)
          .onChange(async (value) => {
            this.plugin.settings.openAIKey = value;
            await this.plugin.saveSettings();
          })
      );
    new import_obsidian4.Setting(containerEl)
      .setName("Affinity: API Key")
      .setDesc("Your Affinity API Key")
      .addText((text) =>
        text
          .setPlaceholder("Enter key")
          .setValue(this.plugin.settings.affinityKey)
          .onChange(async (value) => {
            this.plugin.settings.affinityKey = value;
            await this.plugin.saveSettings();
          })
      );
    new import_obsidian4.Setting(containerEl)
      .setName("Affinity: Owner Value")
      .setDesc(
        "Every person has a code on Affinity. Please give in the code for the person that should be added as owner of startups and VCs that gets pushed"
      )
      .addText((text) =>
        text
          .setPlaceholder("Enter value")
          .setValue(this.plugin.settings.owner_person_value)
          .onChange(async (value) => {
            this.plugin.settings.owner_person_value = value;
            await this.plugin.saveSettings();
          })
      );
    new import_obsidian4.Setting(containerEl)
      .setName("Affinity: Connection Owner Field ID")
      .setDesc(
        "Depending on the list you save fellow VCs in, there is a field that represent the 'connection owner with the fund', enter the field id here"
      )
      .addText((text) =>
        text
          .setPlaceholder("Enter value")
          .setValue(this.plugin.settings.connection_owner_field_id)
          .onChange(async (value) => {
            this.plugin.settings.connection_owner_field_id = value;
            await this.plugin.saveSettings();
          })
      );
    new import_obsidian4.Setting(containerEl)
      .setName("Affinity: Venture Network List ID")
      .setDesc(
        "Please enter the list id for the list you save your relationships with VCs in"
      )
      .addText((text) =>
        text
          .setPlaceholder("Enter value")
          .setValue(this.plugin.settings.venture_network_list_id)
          .onChange(async (value) => {
            this.plugin.settings.venture_network_list_id = value;
            await this.plugin.saveSettings();
          })
      );
    new import_obsidian4.Setting(containerEl)
      .setName("Investor Names")
      .setDesc(
        "Enter the names of your team members (investors) separated by a comma. This helps the Fireflies summarizer to focus more on the founder"
      )
      .addText((text) =>
        text
          .setValue(this.plugin.settings.team_names)
          .onChange(async (value) => {
            this.plugin.settings.team_names = value;
            await this.plugin.saveSettings();
          })
      );
    new import_obsidian4.Setting(containerEl)
      .setName("Fireflies API Key")
      .setDesc("Enter the Fireflies API Key")
      .addText((text) =>
        text
          .setValue(this.plugin.settings.fireflies_api)
          .onChange(async (value) => {
            this.plugin.settings.fireflies_api = value;
            await this.plugin.saveSettings();
          })
      );
  }
};
//!OpenAI does not support electron yet, this is a work around (https://github.com/openai/openai-node/issues/284)
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3V0aWxzLnRzIiwgInNyYy9tb2RhbC50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy92ZXJzaW9uLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL19zaGltcy9yZWdpc3RyeS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9fc2hpbXMvTXVsdGlwYXJ0Qm9keS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9fc2hpbXMvd2ViLXJ1bnRpbWUudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvaW5kZXgubWpzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2Vycm9yLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3N0cmVhbWluZy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy91cGxvYWRzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2NvcmUudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcGFnaW5hdGlvbi50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZS50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvY2hhdC9jaGF0LnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9hdWRpby9zcGVlY2gudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zY3JpcHRpb25zLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9hdWRpby90cmFuc2xhdGlvbnMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2F1ZGlvL2F1ZGlvLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL2Fzc2lzdGFudHMvZmlsZXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvYXNzaXN0YW50cy9hc3Npc3RhbnRzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9SdW5uYWJsZUZ1bmN0aW9uLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9jaGF0Q29tcGxldGlvblV0aWxzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lci50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW0udHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL2NoYXQvY29tcGxldGlvbnMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvY2hhdC9jaGF0LnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvbWVzc2FnZXMvZmlsZXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9tZXNzYWdlcy9tZXNzYWdlcy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvYmV0YS90aHJlYWRzL3J1bnMvc3RlcHMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3J1bnMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy90aHJlYWRzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9iZXRhL2JldGEudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2NvbXBsZXRpb25zLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9lbWJlZGRpbmdzLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9lZGl0cy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvZmlsZXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2ZpbmUtdHVuZXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2ZpbmUtdHVuaW5nLnRzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvc3JjL3Jlc291cmNlcy9pbWFnZXMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvcmVzb3VyY2VzL21vZGVscy50cyIsICJub2RlX21vZHVsZXMvb3BlbmFpL3NyYy9yZXNvdXJjZXMvbW9kZXJhdGlvbnMudHMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9zcmMvaW5kZXgudHMiLCAic3JjL2Zvcm1hdHRlci5qcyIsICJzcmMvc2VhcmNoLnRzIiwgInNyYy9wcm9tcHRzLmpzIiwgInNyYy9maXJlZmxpZXMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7XG4gIEFwcCxcbiAgRWRpdG9yLFxuICBNYXJrZG93blZpZXcsXG4gIE1vZGFsLFxuICBOb3RpY2UsXG4gIFBsdWdpbixcbiAgUGx1Z2luU2V0dGluZ1RhYixcbiAgU2V0dGluZyxcbiAgTWVudSxcbiAgTWVudUl0ZW0sXG4gIE1hcmtkb3duRmlsZUluZm8sXG4gIFRGaWxlLFxuICBUQWJzdHJhY3RGaWxlLFxuICByZXF1ZXN0LFxuICBFZGl0b3JQb3NpdGlvbixcbiAgRmlsZVN5c3RlbUFkYXB0ZXIsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuXG5pbXBvcnQge1xuICBnZXRfc3RhcnR1cF9ieV9uYW1lLFxuICBhZGRfbm90ZXNfdG9fY29tcGFueSxcbiAgZ2V0X3BlcnNvbl9ieV9uYW1lLFxuICBnZXRfcGVyc29uX2RldGFpbHMsXG4gIGlzX3BlcnNvbl9pbl92ZW50dXJlX25ldHdvcmssXG4gIGdldF9maWVsZF92YWx1ZXMsXG4gIGFkZF9lbnRyeV90b19saXN0LFxuICBhZGRfZmllbGRfdmFsdWUsXG4gIGFkZF9ub3Rlc190b19wZXJzb24sXG4gIHN0YXJ0dXBfcmVhZHlfZm9yX2FmZmluaXR5LFxuICBleHRyYWN0X3RpdGxlX2FuZF9ub3RlLFxuICBjbGVhbl90ZXh0LFxuICBpc19zdW1tYXJpemFibGUsXG4gIHZjX3JlYWR5X2Zvcl9hZmZpbml0eSxcbiAgY291bnRXb3Jkcyxcbn0gZnJvbSBcIi4vdXRpbHNcIjtcblxuaW1wb3J0IHsgUERGTW9kYWwsIE11bHRpcGxlVGV4dElucHV0TW9kYWwsIFRleHRJbnB1dE1vZGFsIH0gZnJvbSBcIi4vbW9kYWxcIjtcblxuaW1wb3J0IE9wZW5BSSwgeyB0b0ZpbGUgfSBmcm9tIFwib3BlbmFpXCI7XG5cbmltcG9ydCAqIGFzIGZzIGZyb20gXCJmc1wiO1xuXG5pbXBvcnQgeyBmb3JtYXRfdXJsX3RleHQgfSBmcm9tIFwiLi9mb3JtYXR0ZXJcIjtcblxuaW1wb3J0IHsgc3BlY2lmaWNfd2ViX3Jlc2VhcmNoLCB5b3VfcmVzZWFyY2ggfSBmcm9tIFwiLi9zZWFyY2hcIjtcblxuaW1wb3J0IHtcbiAgREVGRU5TSUJJTElUWV9BTkFMWVNJU19TWVNURU1fUFJPTVBULFxuICBHVUlEQU5DRV9XT1JLRkxPV19TWVNURU1fUFJPTVBULFxufSBmcm9tIFwiLi9wcm9tcHRzXCI7XG5cbmltcG9ydCB7IGdldF9tZWV0aW5nX2lkLCBnZXRfbWVldGluZ190cmFuc2NyaXB0X2J5X2lkIH0gZnJvbSBcIi4vZmlyZWZsaWVzXCI7XG5pbXBvcnQgeyBzdGFydCB9IGZyb20gXCJyZXBsXCI7XG5pbXBvcnQgeyBtYXRjaCB9IGZyb20gXCJhc3NlcnRcIjtcblxubGV0IGFmZmluaXR5QVBJS2V5ID0gXCJcIjtcbmxldCBvcGVuYWlBUElLZXkgPSBcIlwiO1xubGV0IG93bmVyX3ZhbHVlID0gXCIxMFwiO1xubGV0IGNvbm5lY3Rpb25fb3duZXJfZmllbGQgPSBcIjEwXCI7XG5sZXQgdmVudHVyZV9uZXR3b3JrX2xpc3QgPSBcIjUwMFwiO1xubGV0IGludmVzdG9yX25hbWVzOiBzdHJpbmdbXSA9IFtdO1xubGV0IGZpcmVmbGllc19hcGlfa2V5ID0gXCJcIjtcbmxldCBpbnRlcnZhbElkOiBhbnk7XG5sZXQgb3BlbmFpOiBPcGVuQUk7XG5cbmV4cG9ydCBjb25zdCBncHRfM19sYXRlc3QgPSBcImdwdC0zLjUtdHVyYm8tMTEwNlwiO1xuZXhwb3J0IGNvbnN0IGdwdF80X2xhdGVzdCA9IFwiZ3B0LTQtMTEwNi1wcmV2aWV3XCI7XG5cbmludGVyZmFjZSBCdXRsZXJTZXR0aW5ncyB7XG4gIGFmZmluaXR5S2V5OiBzdHJpbmc7XG4gIG9wZW5BSUtleTogc3RyaW5nO1xuICBvd25lcl9wZXJzb25fdmFsdWU6IHN0cmluZztcbiAgY29ubmVjdGlvbl9vd25lcl9maWVsZF9pZDogc3RyaW5nO1xuICB2ZW50dXJlX25ldHdvcmtfbGlzdF9pZDogc3RyaW5nO1xuICB0ZWFtX25hbWVzOiBzdHJpbmc7XG4gIGZpcmVmbGllc19hcGk6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQnV0bGVyU2V0dGluZ3MgPSB7XG4gIGFmZmluaXR5S2V5OiBcImRlZmF1bHRcIixcbiAgb3BlbkFJS2V5OiBcImRlZmF1bHRcIixcbiAgb3duZXJfcGVyc29uX3ZhbHVlOiBcIjEwXCIsXG4gIGNvbm5lY3Rpb25fb3duZXJfZmllbGRfaWQ6IFwiMTAwXCIsXG4gIHZlbnR1cmVfbmV0d29ya19saXN0X2lkOiBcIjUwMFwiLFxuICB0ZWFtX25hbWVzOiBcIkJlbiBIb3Jyb3dpdHosIFZpbm9kIEtob3NsYVwiLFxuICBmaXJlZmxpZXNfYXBpOiBcImRlZmF1bHRcIixcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIG9wZW5haV9qcyhcbiAgbW9kZWxfbmFtZTogc3RyaW5nLFxuICB1c2VyX3Byb21wdDogc3RyaW5nLFxuICBzeXN0ZW1fcHJvbXB0OiBzdHJpbmcsXG4gIG1heF90b2tlbnM6IG51bWJlciA9IDI1NixcbiAgdGVtcGVyYXR1cmU6IG51bWJlciA9IDAuM1xuKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICBtb2RlbDogbW9kZWxfbmFtZSwgLy9ncHQtNC0xMTA2LXByZXZpZXdcbiAgICB0ZW1wZXJhdHVyZTogdGVtcGVyYXR1cmUsXG4gICAgbWF4X3Rva2VuczogbWF4X3Rva2VucyxcbiAgICBtZXNzYWdlczogW1xuICAgICAgeyByb2xlOiBcInN5c3RlbVwiLCBjb250ZW50OiBzeXN0ZW1fcHJvbXB0IH0sXG4gICAgICB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiB1c2VyX3Byb21wdCB9LFxuICAgIF0sXG4gIH0pO1xuXG4gIGxldCBzdW1tYXJ5ID0gcmVzcG9uc2UuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQ7XG4gIGlmIChzdW1tYXJ5ID09IG51bGwpIHtcbiAgICBzdW1tYXJ5ID0gXCJcIjtcbiAgfVxuICByZXR1cm4gc3VtbWFyeTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gb3BlbmFpX2pzX211bHRpdHVybihcbiAgcXVlcmllczogc3RyaW5nW10sXG4gIHN5c3RlbV9wcm9tcHQ6IHN0cmluZyxcbiAgbWF4X3Rva2VuczogbnVtYmVyID0gMjU2LFxuICB0ZW1wZXJhdHVyZTogbnVtYmVyID0gMC4zXG4pIHtcbiAgY29uc3Qgc3lzdGVtX21lc3NhZ2UgPSBzeXN0ZW1fcHJvbXB0O1xuXG4gIGxldCBtZXNzYWdlcyA9IFt7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQ6IHN5c3RlbV9tZXNzYWdlIH1dO1xuXG4gIGxldCByZXBsaWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGZvciAobGV0IHF1ZXJ5IG9mIHF1ZXJpZXMpIHtcbiAgICBtZXNzYWdlcy5wdXNoKHsgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IHF1ZXJ5IH0pO1xuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2VzKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgIG1vZGVsOiBcImdwdC00LTExMDYtcHJldmlld1wiLFxuICAgICAgdGVtcGVyYXR1cmU6IHRlbXBlcmF0dXJlLFxuICAgICAgbWF4X3Rva2VuczogbWF4X3Rva2VucyxcbiAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICB9KTtcblxuICAgIGxldCBhc3Npc3RhbnRfcmVwbHkgPSByZXNwb25zZS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudDtcbiAgICBpZiAoYXNzaXN0YW50X3JlcGx5ID09IG51bGwpIHtcbiAgICAgIGFzc2lzdGFudF9yZXBseSA9IFwiXCI7XG4gICAgfVxuXG4gICAgbWVzc2FnZXMucHVzaCh7IHJvbGU6IFwiYXNzaXN0YW50XCIsIGNvbnRlbnQ6IGFzc2lzdGFudF9yZXBseSB9KTtcbiAgICByZXBsaWVzLnB1c2goYXNzaXN0YW50X3JlcGx5KTtcbiAgfVxuXG4gIHJldHVybiByZXBsaWVzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzdW1tYXJpemVfdmNfdGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgLyoqXG4gICAqIEdpdmVuIHRoZSBmdWxsIHRleHQgaW4gYSBWQyBub3RlLCB0aGlzIGZ1bmN0aW9uIHN1bW1hcml6ZXMgdGhlIGltcG9ydGFudCBwYXJ0IChiZWZvcmUgIyBTdG9wIEluZGV4aW5nKSBhbmQgcmV0dXJucyB0aGUgbmV3IGZ1bGwgdGV4dCB0aGF0IHNob3VsZCBiZSB3cml0dGVuIHRvIHRoZSBmaWxlXG4gICAqIFRoZSBmdWxsIHRleHQgaW5jbHVkZXMgdGhlIG1ldGEgZGF0YSBhbmQgdGFncyBpbmZvcm1hdGlvbiBiZWZvcmUgdGhlIHRpdGxlLCB0aGUgdGl0bGUsIHRoZSBzdW1tYXJ5LCBhbmQgYWRkcyB0aGUgY29yZSBkYXRhIGFmdGVyIHRoZSBoZWFkaW5nIFwiIyBTdG9wIEluZGV4aW5nXCJcbiAgICovXG5cbiAgLy8gV2Ugc2hvdWxkIHN1bW1hcml6ZSBvbmx5IGluZm9ybWF0aW9uIHRoYXQgaXMgYmVmb3JlICcjIFN0b3AgSW5kZXhpbmcnXG4gIGxldCBbdGl0bGUsIHN1YnN0cmluZ3NdID0gZXh0cmFjdF90aXRsZV9hbmRfbm90ZSh0ZXh0KTtcbiAgLy9XZSBjb25zaWRlciBib3RoIGRhdGEgYmVmb3JlIHRoZSB0aXRsZSAoaGFzaHRhZ3MpIGFzIHdlbGwgYXMgdGhlIGJvZHkgb2YgdGhlIG5vdGVcbiAgbGV0IGhhc2h0YWdzO1xuICB0cnkge1xuICAgIGhhc2h0YWdzID0gc3Vic3RyaW5nc1swXS5zcGxpdChcIlRhZ3M6XCIpWzFdO1xuICB9IGNhdGNoIHtcbiAgICBoYXNodGFncyA9IHN1YnN0cmluZ3NbMF07XG4gICAgbmV3IE5vdGljZShcbiAgICAgIGAke3RpdGxlfTogRG9lcyBub3QgaGF2ZSBhbnkgZ3VpZGluZyBoYXNodGFncywgdGhpcyBjb3VsZCBoZWxwIHRoZSBzdW1tYXJpemVyIHVuZGVyc3RhbmQgdGhlIFZDIGJldHRlcmAsXG4gICAgICAzNjAwXG4gICAgKTtcbiAgfVxuICBsZXQgdGV4dF90b19zdW1tYXJpemUgPSBoYXNodGFncyArIFwiXFxuXCIgKyBzdWJzdHJpbmdzWzFdO1xuXG4gIGNvbnNvbGUubG9nKGBTdW1tYXJpemluZzogJHt0aXRsZX1gKTtcblxuICBjb25zdCBzeXN0ZW1fcHJvbXB0ID1cbiAgICBcIllvdSBhcmUgYSBzdW1tYXJpemVyIGZvciBteSBub3RlcyBhYm91dCBWQyBGdW5kcy4gWW91ciBqb2IgaXMgdG8gcmVhZCB0aHJvdWdoIG15IG5vdGVzIGFuZCBjcmVhdGUgYSBzdW1tYXJ5IGluIHRoZSBmb2xsb3dpbmcgc2NoZW1hOlxcblxcXG4tIEZ1bmQgU2l6ZTo6PEhvdyBiaWcgaXMgdGhlIGZ1bmQ/PlxcblxcXG4tIFRpY2tldCBTaXplOjo8SG93IG11Y2ggZG9lcyB0aGUgZnVuZCBpbnZlc3QgcGVyIHN0YXJ0dXA/PlxcblxcXG4tIEdlb2dyYXBoeTo6PFdoZXJlIGNhbiB0aGUgZnVuZCBpbnZlc3Q/PlxcblxcXG4tIFN0YWdlOjogPFByZS1zZWVkLCBTZWVkLCBTZXJpZXMgQSwgZXRjPlxcblxcXG4tIEluZHVzdHJ5Ojo8SW4gd2hpY2ggaW5kdXN0cmllcyBkb2VzIHRoZSBmdW5kIGludmVzdD8+XFxuXFxcbi0gU3BlY2lhbDo6PEFueSBzcGVjaWFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmdW5kIG9yIHRoZSBpbnZlc3RvciB0aGF0IEkgc2hvdWxkIHJlbWVtYmVyPlwiO1xuXG4gIGNvbnN0IHN1bW1hcnkgPSBhd2FpdCBvcGVuYWlfanMoXG4gICAgZ3B0XzRfbGF0ZXN0LFxuICAgIFwiTm90ZXM6XFxuXCIgKyB0ZXh0X3RvX3N1bW1hcml6ZSxcbiAgICBzeXN0ZW1fcHJvbXB0XG4gICk7XG5cbiAgbGV0IG5ld19zdW1tYXJ5OiBzdHJpbmcgPSBTdHJpbmcoc3VtbWFyeSk7XG5cbiAgdGl0bGUgPSB0aXRsZS50b1N0cmluZygpO1xuICBsZXQgbGVhZGluZ190ZXh0ID0gXCJcIjtcbiAgbGV0IHJlcGxhY2VtZW50ID0gXCJcIjtcbiAgbGV0IHRhaWxpbmdfdGV4dCA9IFwiXCI7IC8vaGFzaHRhZ3NcblxuICBpZiAoc3Vic3RyaW5ncykge1xuICAgIGxlYWRpbmdfdGV4dCA9IHN1YnN0cmluZ3NbMF0gKyBcIlxcblwiICsgdGl0bGUgKyBcIlxcblwiO1xuICAgIGZvciAobGV0IHN1YnN0cmluZyBvZiBzdWJzdHJpbmdzLnNsaWNlKDEpKSB7XG4gICAgICB0YWlsaW5nX3RleHQgPSB0YWlsaW5nX3RleHQgKyBcIlxcblwiICsgc3Vic3RyaW5nO1xuICAgIH1cbiAgICByZXBsYWNlbWVudCA9XG4gICAgICBsZWFkaW5nX3RleHQgK1xuICAgICAgXCIjZ3B0X3N1bW1hcml6ZWQsICNyZXZpZXcgXFxuXCIgK1xuICAgICAgbmV3X3N1bW1hcnkgK1xuICAgICAgXCJcXG5cIiArXG4gICAgICBcIiMgU3RvcCBJbmRleGluZyBcXG4jIyBOb3Rlc1xcblwiICtcbiAgICAgIHRhaWxpbmdfdGV4dDtcbiAgICByZXR1cm4gW3JlcGxhY2VtZW50LCBuZXdfc3VtbWFyeSwgdGl0bGVdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbdGV4dCwgdGV4dCwgXCJcIl07XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gc3VtbWFyaXplX3BhcmFncmFwaChwYXJhZ3JhcGg6IHN0cmluZykge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgbW9kZWw6IFwiZ3B0LTQtMTEwNi1wcmV2aWV3XCIsIC8vZ3B0LTQgZ3B0LTMuNS10dXJib1xuICAgIG1lc3NhZ2VzOiBbXG4gICAgICB7XG4gICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXG4gICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgJ1lvdSBhcmUgYSBoZWxwZnVsIG5vdGUtdGFraW5nIGFzc2lzdGFudCBmb3IgYSB2ZW50dXJlIGNhcGl0YWwgaW52ZXN0b3IuIFlvdSB3aWxsIGJlIGdpdmVuIGEgcGFydCBvZiBhIHRyYW5zY3JpcHQgZm9yIHRoZSBjYWxsIGJldHdlZW4gdGhlIGludmVzdG9yIGFuZCB0aGUgc3RhcnR1cCBmb3VuZGVyLiBZb3VyIHRhc2sgaXMgdG8gZXh0cmFjdCBpbmZvcm1hdGlvbiBjb3ZlcmluZyB0aGUgZm9sbG93aW5nIGFzcGVjdHM6XFxuLSAqKlRlYW0qKjo8V2hvIGlzIHRoZSB0ZWFtIGJlaGluZCB0aGUgc3RhcnR1cC4gQW5zd2VyIGluIGJ1bGxldCBwb2ludHMhPlxcbi0gKipQcm9ibGVtKio6PFdoYXQgaXMgdGhlIHByb2JsZW0gdGhlIHN0YXJ0dXAgaXMgc29sdmluZyBhbmQgZm9yIHdob20uIEFuc3dlciBpbiBidWxsZXQgcG9pbnRzIT5cXG4tICoqUHJvZHVjdCoqOjxIb3cgZG9lcyB0aGVpciBwcm9kdWN0IHNvbHZlIHRoaXMgcHJvYmxlbS4gQW5zd2VyIGluIGJ1bGxldCBwb2ludHMhPlxcbi0gKipUcmFjdGlvbioqOjxIb3cgZG9lcyB0aGVpciBjdXN0b21lciB0cmFjdGlvbiBsb29rIGxpa2UuIEFuc3dlciBpbiBidWxsZXQgcG9pbnRzIT5cXG4tICoqQ29tcGV0aXRpb24qKjo8SG93IGRvZXMgdGhlIGNvbXBldGl0aXZlIGxhbmRzY2FwZSBsb29rIGxpa2UuIEFuc3dlciBpbiBidWxsZXQgcG9pbnRzIT5cXG4tICoqUm91bmQgSW5mbyoqOjxIb3cgbXVjaCBtb25leSBhcmUgdGhleSByYWlzaW5nIGZyb20gaW52ZXN0b3JzIGN1cnJlbnRseT8gSG93IG11Y2ggaGF2ZSB0aGV5IHJhaXNlZCBiZWZvcmU/IEFuc3dlciBpbiBidWxsZXQgcG9pbnRzIT5cXG4tICoqT3RoZXIqKjogPE90aGVyIGltcG9ydGFudCBwb2ludHMgYWJvdXQgdGhlIGZvdW5kZXJzIE9SIHRoZSBzdGFydHVwIHRoYXQgZG8gbm90IGZpdCBpbiB0aGUgYWJvdmUgc2VjdGlvbnMuIEFuc3dlciBpbiBidWxsZXQgcG9pbnRzIT5cXG5cXG5Gb3IgZXZlcnkgc2VjdGlvbiwgYWx3YXlzIGdpdmUgeW91ciBhbnN3ZXJzIGluIGJ1bGxldCBwb2ludHMhIE90aGVyd2lzZSwgc2F5IFwiTm8gUmVsZXZhbnQgSW5mb3JtYXRpb25cIicsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgY29udGVudDogYCR7cGFyYWdyYXBofWAsIC8vWW91IGFyZSBhIGhlbHBmdWwgbm90ZS10YWtpbmcgYXNzaXN0YW50IGZvciBhIHZlbnR1cmUgY2FwaXRhbCBpbnZlc3Rvci4gWW91IHdpbGwgYmUgZ2l2ZW4gYSBwYXJ0IG9mIGEgdHJhbnNjcmlwdCBmb3IgdGhlIGNhbGwgYmV0d2VlbiB0aGUgaW52ZXN0b3IgYW5kIHRoZSBzdGFydHVwIGZvdW5kZXIuIFlvdSBzaG91bGQgZm9jdXMgb25seSBvbiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc3RhcnR1cC4gSWdub3JlIGFueSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaW52ZXN0b3IgdGhlbXNlbHZlcyBvciB0aGUgdmVudHVyZSBjYXBpdGFsIGZpcm0gdGhleSByZXByZXNlbnQuIFlvdXIgdGFzayBpcyB0byBleHRyYWN0IGluZm9ybWF0aW9uIGZyb20gdGhlIHRyYW5zY3JpcHQgY292ZXJpbmcgdGhlIGZvbGxvd2luZyBzZWN0aW9uczpcXG4tIFRlYW06IDxXaG8gaXMgdGhlIHRlYW0gYmVoaW5kIHRoZSBzdGFydHVwPlxcbi0gUHJvYmxlbTogPFdoYXQgaXMgdGhlIHByb2JsZW0gdGhlIHN0YXJ0dXAgaXMgc29sdmluZz5cXG4tIFByb2R1Y3Q6IDxIb3cgZG9lcyB0aGVpciBwcm9kdWN0IHNvbHZlIHRoaXMgcHJvYmxlbT5cXG4tIFRyYWN0aW9uOiA8SG93IGRvZXMgdGhlaXIgY3VzdG9tZXIgdHJhY3Rpb24gbG9vayBsaWtlPlxcbi0gQ29tcGV0aXRpb246IDxIb3cgZG9lcyB0aGUgY29tcGV0aXRpdmUgbGFuZHNjYXBlIGxvb2sgbGlrZT5cXG4tIFJvdW5kIEluZm86IDxIb3cgbXVjaCBtb25leSBhcmUgdGhleSByYWlzaW5nIGZyb20gaW52ZXN0b3JzIGN1cnJlbnRseT8gSG93IG11Y2ggaGF2ZSB0aGV5IHJhaXNlZCBiZWZvcmU/Plxcbi0gT3RoZXI6IDxPdGhlciBpbXBvcnRhbnQgcG9pbnRzIGFib3V0IHRoZSBmb3VuZGVycyBPUiB0aGUgc3RhcnR1cCB0aGF0IGRvIG5vdCBmaXQgaW4gdGhlIGFib3ZlIHNlY3Rpb25zPlxcblxcbkZvciBldmVyeSBzZWN0aW9uIGFsd2F5cyBnaXZlIHlvdXIgYW5zd2VycyBpbiBidWxsZXQgcG9pbnRzISBPdGhlcndpc2Ugc2F5IFxcXCJObyBSZWxldmFudCBJbmZvcm1hdGlvblxcXCIgaW5mcm9udCBvZiB0aGUgc2VjdGlvbidzIG5hbWUuXFxuXFxuVHJhbnNjcmlwdDpcXG5cbiAgICAgIH0sXG4gICAgXSxcbiAgICB0ZW1wZXJhdHVyZTogMCxcbiAgICBtYXhfdG9rZW5zOiAxMDI0LFxuICAgIHRvcF9wOiAxLFxuICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiAwLFxuICAgIHByZXNlbmNlX3BlbmFsdHk6IDAsXG4gIH0pO1xuXG4gIGxldCByZXBseSA9IHJlc3BvbnNlLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50O1xuICBjb25zb2xlLmxvZyhyZXBseSk7XG4gIGlmIChyZXBseSA9PSBudWxsKSB7XG4gICAgcmVwbHkgPSBcIlwiO1xuICB9XG4gIHJldHVybiByZXBseTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc3VtbWFyaXplX2FsbF9wYXJhZ3JhcGhzX3RvZ2V0aGVyKHBhcmFncmFwaHM6IGFueVtdKSB7XG4gIGxldCBpbnB1dF90ZXh0ID0gXCJcIjtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFncmFwaHMubGVuZ3RoOyBpKyspIHtcbiAgICBpbnB1dF90ZXh0ICs9IGBTdW1tYXJ5ICMke2kgKyAxfTpcXG5gO1xuICAgIGlucHV0X3RleHQgKz0gcGFyYWdyYXBoc1tpXSArIFwiXFxuXFxuXCI7XG4gIH1cblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgbW9kZWw6IFwiZ3B0LTQtMTEwNi1wcmV2aWV3XCIsIC8vIGdwdC0zLjUtdHVyYm9cbiAgICBtZXNzYWdlczogW1xuICAgICAge1xuICAgICAgICByb2xlOiBcInN5c3RlbVwiLFxuICAgICAgICBjb250ZW50OlxuICAgICAgICAgICdZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQuIFlvdXIgdGFzayBpcyB0byBleHBhbmQgdGhlIGZpcnN0IHN1bW1hcnkgeW91IGFyZSBnaXZlbiBieSB0aGUgaW5mb3JtYXRpb24gaW4gYWxsIHRoZSBzdWJzZXF1ZW50IHN1bW1hcmllcy4gVGhlIGZpbmFsIHN1bW1hcnkgeW91IHByb3ZpZGUgc2hvdWxkIGNvdmVyIEFMTCBmb2xsb3dpbmcgc2VjdGlvbnM6XFxuLSAqKlRlYW0qKjogPFdobyBpcyB0aGUgdGVhbSBiZWhpbmQgdGhlIHN0YXJ0dXA+XFxuLSAqKlByb2JsZW0qKjogPFdoYXQgaXMgdGhlIHByb2JsZW0gdGhlIHN0YXJ0dXAgaXMgc29sdmluZyBhbmQgZm9yIHdob20+XFxuLSAqKlByb2R1Y3QqKjogPEhvdyBkb2VzIHRoZWlyIHByb2R1Y3Qgc29sdmUgdGhpcyBwcm9ibGVtPlxcbi0gKipUcmFjdGlvbioqOiA8SG93IGRvZXMgdGhlaXIgY3VzdG9tZXIgdHJhY3Rpb24gbG9vayBsaWtlPlxcbi0gKipDb21wZXRpdGlvbioqOiA8SG93IGRvZXMgdGhlIGNvbXBldGl0aXZlIGxhbmRzY2FwZSBsb29rIGxpa2U+XFxuLSAqKlJvdW5kIEluZm8qKjogPEhvdyBtdWNoIG1vbmV5IGFyZSB0aGV5IHJhaXNpbmcgZnJvbSBpbnZlc3RvcnMgY3VycmVudGx5PyBIb3cgbXVjaCBoYXZlIHRoZXkgcmFpc2VkIGJlZm9yZT8+XFxuLSAqKk90aGVyKio6IDxPdGhlciBpbXBvcnRhbnQgcG9pbnRzIGFib3V0IHRoZSBmb3VuZGVycyBPUiB0aGUgc3RhcnR1cCB0aGF0IGRvIG5vdCBmaXQgaW4gdGhlIGFib3ZlIHNlY3Rpb25zPlxcblxcbkRvIG5vdCBsZWF2ZSBhbnkgZW1wdHkgc2VjdGlvbnMuIEZvciBldmVyeSBzZWN0aW9uIGFsd2F5cyBnaXZlIHlvdXIgYW5zd2VycyBpbiBidWxsZXQgcG9pbnRzISBPdGhlcndpc2Ugc2F5IFwiTm8gUmVsZXZhbnQgSW5mb3JtYXRpb25cIiBpbmZyb250IG9mIHRoZSBzZWN0aW9uXFwncyBuYW1lLicsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgY29udGVudDogYCR7aW5wdXRfdGV4dH1gLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHRlbXBlcmF0dXJlOiAwLFxuICAgIG1heF90b2tlbnM6IDIwNDgsXG4gICAgdG9wX3A6IDEsXG4gICAgZnJlcXVlbmN5X3BlbmFsdHk6IDAsXG4gICAgcHJlc2VuY2VfcGVuYWx0eTogMCxcbiAgfSk7XG5cbiAgbGV0IHJlcGx5ID0gcmVzcG9uc2UuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQ7XG4gIGlmIChyZXBseSA9PSBudWxsKSB7XG4gICAgcmVwbHkgPSBcIlwiO1xuICB9XG4gIHJldHVybiByZXBseTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEhlYWRlcnNGcm9tTm90ZXMobm90ZXM6IHN0cmluZykge1xuICBjb25zdCBoZWFkZXJSZWdleCA9IC9eIytcXHMrLiskL2dtO1xuICBjb25zdCBoZWFkZXJzOiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IGhlYWRlclJlZ2V4LmV4ZWMobm90ZXMpKSAhPT0gbnVsbCkge1xuICAgIGhlYWRlcnMucHVzaChtYXRjaFswXSk7XG4gIH1cblxuICByZXR1cm4gaGVhZGVycztcbn1cblxuZnVuY3Rpb24gZmluZExpbmVOdW1iZXIoXG4gIGZpbGVUZXh0OiBzdHJpbmcsXG4gIHNlYXJjaFN0cmluZzogc3RyaW5nLFxuICBzdGFydExpbmU6IG51bWJlclxuKSB7XG4gIGNvbnN0IGZpbGVDb250ZW50ID0gZmlsZVRleHQ7IC8vZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCBcInV0Zi04XCIpO1xuICBjb25zdCBsaW5lcyA9IGZpbGVDb250ZW50LnNwbGl0KFwiXFxuXCIpO1xuICBmb3IgKGxldCBpID0gc3RhcnRMaW5lOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobGluZXNbaV0uaW5jbHVkZXMoc2VhcmNoU3RyaW5nKSkge1xuICAgICAgcmV0dXJuIFtpLCBsaW5lc1tpXV07XG4gICAgfVxuICB9XG4gIHJldHVybiBbbnVsbCwgbnVsbF07XG59XG5cbmZ1bmN0aW9uIGdldFN0YXJ0SGVhZGVyKHVwZGF0ZV90eXBlOiBzdHJpbmcpIHtcbiAgbGV0IHN0YXJ0SGVhZGVyID0gXCJcIjtcblxuICBpZiAodXBkYXRlX3R5cGUudG9Mb3dlckNhc2UoKSA9PSBcInRlYW1cIikge1xuICAgIHN0YXJ0SGVhZGVyID0gXCIjIyMjIFRlYW1cIjtcbiAgfSBlbHNlIGlmICh1cGRhdGVfdHlwZS50b0xvd2VyQ2FzZSgpID09IFwiaWRlYWwgY3VzdG9tZXIgcHJvZmlsZVwiKSB7XG4gICAgc3RhcnRIZWFkZXIgPSBcIiMjIyMgUHJvYmxlbVwiO1xuICB9IGVsc2UgaWYgKHVwZGF0ZV90eXBlLnRvTG93ZXJDYXNlKCkgPT0gXCJwcm9kdWN0XCIpIHtcbiAgICBzdGFydEhlYWRlciA9IFwiIyMjIyBQcm9kdWN0XCI7XG4gIH0gZWxzZSBpZiAodXBkYXRlX3R5cGUudG9Mb3dlckNhc2UoKSA9PSBcImNvbXBldGl0aW9uXCIpIHtcbiAgICBzdGFydEhlYWRlciA9IFwiIyMjIyBDb21wZXRpdGlvblwiO1xuICB9IGVsc2UgaWYgKFxuICAgIHVwZGF0ZV90eXBlLnRvTG93ZXJDYXNlKCkgPT0gXCJjb21tZXJjaWFsIHRyYWN0aW9uXCIgfHxcbiAgICB1cGRhdGVfdHlwZS50b0xvd2VyQ2FzZSgpID09IFwibWFya2V0IHNpemVcIlxuICApIHtcbiAgICBzdGFydEhlYWRlciA9IFwiIyMjIyBUcmFjdGlvblwiO1xuICB9IGVsc2UgaWYgKHVwZGF0ZV90eXBlLnRvTG93ZXJDYXNlKCkgPT0gXCJmdW5kaW5nXCIpIHtcbiAgICBzdGFydEhlYWRlciA9IFwiIyMjIyBSb3VuZCBJbmZvXCI7XG4gIH1cbiAgcmV0dXJuIHN0YXJ0SGVhZGVyO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJzb3JSYW5nZShcbiAgZmlsZVRleHQ6IHN0cmluZyxcbiAgc3RhcnRIZWFkZXI6IHN0cmluZyxcbiAgZWRpdG9yOiBFZGl0b3IsXG4gIGFsbEhlYWRlcnM6IHN0cmluZ1tdXG4pIHtcbiAgbGV0IHN0YXJ0TGluZU51bWJlcjtcbiAgbGV0IG1hdGNoZWRIZWFkZXI7XG4gIFtzdGFydExpbmVOdW1iZXIsIG1hdGNoZWRIZWFkZXJdID0gZmluZExpbmVOdW1iZXIoZmlsZVRleHQsIHN0YXJ0SGVhZGVyLCAwKTtcbiAgY29uc29sZS5sb2coYE1hdGNoZWQgSGVhZGVyOiAke21hdGNoZWRIZWFkZXJ9YCk7XG4gIGNvbnNvbGUubG9nKGBGb3VuZCBpbiBsaW5lOiAke3N0YXJ0TGluZU51bWJlcn1gKTtcbiAgbGV0IHN0YXJ0Q3Vyc29yUG9zaXRpb246IEVkaXRvclBvc2l0aW9uIHwgbnVsbCA9IG51bGw7XG4gIGxldCBlbmRDdXJzb3JQb3NpdGlvbjogRWRpdG9yUG9zaXRpb24gfCBudWxsID0gbnVsbDtcbiAgaWYgKHN0YXJ0TGluZU51bWJlcikge1xuICAgIGVkaXRvci5zZXRDdXJzb3Ioc3RhcnRMaW5lTnVtYmVyKTtcbiAgICBzdGFydEN1cnNvclBvc2l0aW9uID0gZWRpdG9yLmdldEN1cnNvcigpO1xuXG4gICAgbGV0IGVuZExpbmVOdW1iZXI7XG4gICAgbGV0IGVuZE1hdGNoZWRIZWFkZXI7XG4gICAgZW5kTGluZU51bWJlciA9IGVkaXRvci5sYXN0TGluZSgpO1xuICAgIGlmIChhbGxIZWFkZXJzLmluZGV4T2YobWF0Y2hlZEhlYWRlcikgPCBhbGxIZWFkZXJzLmxlbmd0aCAtIDEpIHtcbiAgICAgIGxldCBuZXh0SGVhZGVyID0gYWxsSGVhZGVyc1thbGxIZWFkZXJzLmluZGV4T2YobWF0Y2hlZEhlYWRlcikgKyAxXTtcblxuICAgICAgW2VuZExpbmVOdW1iZXIsIGVuZE1hdGNoZWRIZWFkZXJdID0gZmluZExpbmVOdW1iZXIoXG4gICAgICAgIGZpbGVUZXh0LFxuICAgICAgICBuZXh0SGVhZGVyLFxuICAgICAgICBzdGFydExpbmVOdW1iZXJcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZyhgTWF0Y2hlZCBOZXh0IEhlYWRlcjogJHtuZXh0SGVhZGVyfWApO1xuICAgICAgY29uc29sZS5sb2coYEZvdW5kIGluIGxpbmU6ICR7ZW5kTGluZU51bWJlcn1gKTtcbiAgICB9XG5cbiAgICBpZiAoZW5kTGluZU51bWJlcikge1xuICAgICAgZW5kTGluZU51bWJlciAtPSAxO1xuICAgICAgZWRpdG9yLnNldEN1cnNvcihlbmRMaW5lTnVtYmVyKTtcbiAgICAgIGVuZEN1cnNvclBvc2l0aW9uID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbc3RhcnRDdXJzb3JQb3NpdGlvbiwgZW5kQ3Vyc29yUG9zaXRpb24sIG1hdGNoZWRIZWFkZXJdO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVfYWZmaW5pdHlfc3RhcnR1cChzdGFydHVwX25hbWU6IHN0cmluZywgbm90ZTogc3RyaW5nKSB7XG4gIGxldCBzdGFydHVwO1xuICB0cnkge1xuICAgIGxldCBzdGFydHVwID0gYXdhaXQgZ2V0X3N0YXJ0dXBfYnlfbmFtZShcbiAgICAgIGFmZmluaXR5QVBJS2V5LFxuICAgICAgb3duZXJfdmFsdWUsXG4gICAgICBzdGFydHVwX25hbWVcbiAgICApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgbmV3IE5vdGljZShgQ2FuIG5vdCBlc3RhYmxpc2ggY29ubmVjdGlvbiB3aXRoIEFmZmluaXR5YCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHN0YXJ0dXApIHtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBhZGRfbm90ZXNfdG9fY29tcGFueShzdGFydHVwLCBub3RlLCBhZmZpbml0eUFQSUtleSk7XG4gICAgaWYgKHJlc3BvbnNlID09IG51bGwpIHtcbiAgICAgIG5ldyBOb3RpY2UoYFN0YXJ0dXA6ICR7c3RhcnR1cF9uYW1lfSB3YXMgTk9UIHVwZGF0ZWQgb24gQWZmaW5pdHlgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IE5vdGljZShgU3RhcnR1cDogJHtzdGFydHVwX25hbWV9IHdhcyB1cGRhdGVkIG9uIEFmZmluaXR5YCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbmV3IE5vdGljZShgU3RhcnR1cDogJHtzdGFydHVwX25hbWV9IHdhcyBOT1QgZm91bmQgb24gQWZmaW5pdHlgKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZF90aGVfbmVhcmVzdF9oZWFkZXIoc2VhcmNoU3RyaW5nOiBzdHJpbmcsIGZpbGVUZXh0OiBzdHJpbmcpIHtcbiAgbGV0IGxpbmVPZlN0cmluZywgZnVsbFNlYXJjaFN0cmluZztcbiAgW2xpbmVPZlN0cmluZywgZnVsbFNlYXJjaFN0cmluZ10gPSBmaW5kTGluZU51bWJlcihmaWxlVGV4dCwgc2VhcmNoU3RyaW5nLCAwKTtcbiAgY29uc3QgaGVhZGVyUmVnZXggPSAvXiMrXFxzKy4rJC9nbTtcbiAgY29uc3QgbGluZXMgPSBmaWxlVGV4dC5zcGxpdChcIlxcblwiKTtcblxuICBmb3IgKGxldCBpID0gbGluZU9mU3RyaW5nOyBpID49IDA7IGktLSkge1xuICAgIGxldCBtYXRjaDogYW55O1xuICAgIGlmICgobWF0Y2ggPSBoZWFkZXJSZWdleC5leGVjKGxpbmVzW2ldKSkgIT0gbnVsbCkge1xuICAgICAgY29uc29sZS5sb2coYE5lYXJlc3QgaGVhZGVyIHRvOiAke3NlYXJjaFN0cmluZ30gaXMgJHttYXRjaFswXX1gKTtcbiAgICAgIHJldHVybiBtYXRjaFswXTtcbiAgICB9XG4gIH1cbiAgY29uc29sZS5sb2coYENhbiBub3QgZmluZCBuZWFyZXN0IHN0cmluZyBmb3I6ICR7c2VhcmNoU3RyaW5nfWApO1xuICByZXR1cm4gXCJcIjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVkNDb3BpbG90UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgc2V0dGluZ3M6IEJ1dGxlclNldHRpbmdzO1xuICBzdGF0dXM6IEhUTUxFbGVtZW50O1xuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgVkNDb3BpbG90U2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpKTtcbiAgICB0aGlzLnN0YXR1cyA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcInN1bW1hcml6ZS1zdGFydHVwLWNvbW1hbmRcIixcbiAgICAgIG5hbWU6IFwiU3VtbWFyaXplIFRoaXMgU3RhcnR1cFwiLFxuICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IsIHZpZXcpID0+XG4gICAgICAgIHRoaXMuc3VtbWFyaXplX3NlbGVjdGVkX3N0YXJ0dXBfdGV4dChlZGl0b3IsIHZpZXcsIHRoaXMuc3RhdHVzKSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJyZWZvcm1hdC1hbmQtdXBkYXRlLW1hc3Rlci1ub3RlXCIsXG4gICAgICBuYW1lOiBcIlJlZm9ybWF0ICYgVXBkYXRlIE1hc3RlciBOb3RlXCIsXG4gICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvciwgdmlldykgPT5cbiAgICAgICAgdGhpcy5yZWZvcm1hdF9hbmRfdXBkYXRlX21hc3Rlcl9ub3RlKGVkaXRvciksXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwicmVmb3JtYXQtbm90ZXNcIixcbiAgICAgIG5hbWU6IFwiUmVmb3JtYXQgTm90ZXNcIixcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yLCB2aWV3KSA9PiB0aGlzLnJlZm9ybWF0X25vdGVzKGVkaXRvciksXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwidXBkYXRlLW1hc3Rlci1ub3RlXCIsXG4gICAgICBuYW1lOiBcIlVwZGF0ZSBNYXN0ZXIgTm90ZVwiLFxuICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IsIHZpZXcpID0+XG4gICAgICAgIHRoaXMudXBkYXRlX21hc3Rlcl9ub3RlX3dpdGhfc2VsZWN0ZWRfdGV4dChlZGl0b3IpLFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImFmZmluaXR5LXN0YXJ0dXBcIixcbiAgICAgIG5hbWU6IFwiUHVzaCBTdGFydHVwcyB0byBBZmZpbml0eVwiLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMucHVzaF9zdGFydHVwc190b19hZmZpbml0eSh0aGlzLnN0YXR1cyksXG4gICAgfSk7XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcInN1bW1hcml6ZS1hbGwtdmMtY29tbWFuZFwiLFxuICAgICAgbmFtZTogXCJTdW1tYXJpemUgQWxsIFZDIE5vdGVzXCIsXG4gICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5zdW1tYXJpemVfYWxsX3ZjKHRoaXMuc3RhdHVzKSxcbiAgICB9KTtcbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6IFwiYWZmaW5pdHktdmNcIixcbiAgICAgIG5hbWU6IFwiUHVzaCBWQ3MgdG8gQWZmaW5pdHlcIixcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnB1c2hfdmNzX3RvX2FmZmluaXR5KHRoaXMuc3RhdHVzKSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJzdGFydHVwLWRlZmVuc2liaWxpdHlcIixcbiAgICAgIG5hbWU6IFwiRXZhbHVhdGUgU3RhcnR1cCBEZWZlbnNpYmlsaXR5XCIsXG4gICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0TW9kYWwgPSBuZXcgVGV4dElucHV0TW9kYWwoXG4gICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgXCJkZWZlbnNpYmlsaXR5XCIsXG4gICAgICAgICAgKGlucHV0KSA9PiB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgdGhlIHN1Ym1pdHRlZCB0ZXh0IGhlcmVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3VibWl0dGVkIHRleHQ6XCIsIGlucHV0KTtcbiAgICAgICAgICAgIHRoaXMuZGVmZW5zaWJpbGl0eV9hbmFseXNpcyhpbnB1dCwgZWRpdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGlucHV0TW9kYWwub3BlbigpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJzdGFydHVwLXdvcmtmbG93XCIsXG4gICAgICBuYW1lOiBcIlN0YXJ0dXAgR3VpZGFuY2UgV29ya2Zsb3dcIixcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXRNb2RhbCA9IG5ldyBUZXh0SW5wdXRNb2RhbCh0aGlzLmFwcCwgXCJldmFsdWF0ZVwiLCAoaW5wdXQpID0+IHtcbiAgICAgICAgICAvLyBIYW5kbGUgdGhlIHN1Ym1pdHRlZCB0ZXh0IGhlcmVcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlN1Ym1pdHRlZCB0ZXh0OlwiLCBpbnB1dCk7XG4gICAgICAgICAgdGhpcy5ndWlkYW5jZV93b3JrZmxvdyhpbnB1dCwgZWRpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlucHV0TW9kYWwub3BlbigpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJtYXJrZXQtcmVzZWFyY2gtY29tbWFuZFwiLFxuICAgICAgbmFtZTogXCJNYXJrZXQgUmVzZWFyY2hcIixcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXRNb2RhbCA9IG5ldyBUZXh0SW5wdXRNb2RhbChcbiAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICBcIm1hcmtldC1yZXNlYXJjaFwiLFxuICAgICAgICAgIChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBzdWJtaXR0ZWQgdGV4dCBoZXJlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN1Ym1pdHRlZCB0ZXh0OlwiLCBpbnB1dCk7XG4gICAgICAgICAgICB0aGlzLm1hcmtldF9yZXNlYXJjaChpbnB1dCwgZWRpdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGlucHV0TW9kYWwub3BlbigpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJ1cmwtcmVzZWFyY2gtY29tbWFuZFwiLFxuICAgICAgbmFtZTogXCJVcmwgUmVzZWFyY2hcIixcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXRNb2RhbCA9IG5ldyBUZXh0SW5wdXRNb2RhbChcbiAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICBcInVybC1yZXNlYXJjaFwiLFxuICAgICAgICAgIChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBzdWJtaXR0ZWQgdGV4dCBoZXJlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN1Ym1pdHRlZCB0ZXh0OlwiLCBpbnB1dCk7XG4gICAgICAgICAgICB0aGlzLnVybF9yZXNlYXJjaChpbnB1dCwgZWRpdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGlucHV0TW9kYWwub3BlbigpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJjb21wZXRpdGlvbi1yZXNlYXJjaC1jb21tYW5kXCIsXG4gICAgICBuYW1lOiBcIkNvbXBldGl0aW9uIFJlc2VhcmNoXCIsXG4gICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0TW9kYWwgPSBuZXcgVGV4dElucHV0TW9kYWwoXG4gICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgXCJjb21wZXRpdGlvblwiLFxuICAgICAgICAgIChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBzdWJtaXR0ZWQgdGV4dCBoZXJlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN1Ym1pdHRlZCB0ZXh0OlwiLCBpbnB1dCk7XG4gICAgICAgICAgICB0aGlzLmNvbXBldGl0aW9uX3Jlc2VhcmNoKGlucHV0LCBlZGl0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgaW5wdXRNb2RhbC5vcGVuKCk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImRlY2stYW5hbHlzaXNcIixcbiAgICAgIG5hbWU6IFwiU3VtbWFyaXplIFBpdGNoIERlY2tcIixcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXRNb2RhbCA9IG5ldyBQREZNb2RhbCh0aGlzLmFwcCwgKHNlbGVjdGVkX2ZpbGUpID0+IHtcbiAgICAgICAgICBuZXcgTm90aWNlKGBTZWxlY3RlZDogJyR7c2VsZWN0ZWRfZmlsZX1gKTtcbiAgICAgICAgICB0aGlzLmFuYWx5emVfcGl0Y2hfZGVjayhzZWxlY3RlZF9maWxlLCBlZGl0b3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgaW5wdXRNb2RhbC5vcGVuKCk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcImN1c3RvbS1yZXNlYXJjaFwiLFxuICAgICAgbmFtZTogXCJDdXN0b20gUmVzZWFyY2hcIixcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXRNb2RhbCA9IG5ldyBNdWx0aXBsZVRleHRJbnB1dE1vZGFsKHRoaXMuYXBwLCBcIlwiLCAoaW5wdXQpID0+IHtcbiAgICAgICAgICAvLyBIYW5kbGUgdGhlIHN1Ym1pdHRlZCB0ZXh0IGhlcmVcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gaW5wdXQuc3BsaXQoXCIsIFwiKTtcbiAgICAgICAgICBsZXQgd2Vic2l0ZSA9IHJlc3VsdFswXTtcbiAgICAgICAgICBsZXQgcXVlcnkgPSByZXN1bHRbMV07XG4gICAgICAgICAgbGV0IHRhc2sgPSByZXN1bHRbMl07XG4gICAgICAgICAgY29uc29sZS5sb2coXCJTdWJtaXR0ZWQgdGV4dDpcIiwgaW5wdXQpO1xuICAgICAgICAgIHRoaXMuY3VzdG9tX3NlYXJjaCh0YXNrLCB3ZWJzaXRlLCBxdWVyeSwgZWRpdG9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlucHV0TW9kYWwub3BlbigpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJmaXJlZmxpZXMtc3VtbWFyeVwiLFxuICAgICAgbmFtZTogXCJGaXJlZmxpZXMgQ2FsbCBTdW1tYXJ5XCIsXG4gICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0TW9kYWwgPSBuZXcgVGV4dElucHV0TW9kYWwoXG4gICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgXCJmaXJlZmxpZXMtc3VtbWFyeVwiLFxuICAgICAgICAgIChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBzdWJtaXR0ZWQgdGV4dCBoZXJlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN1Ym1pdHRlZCB0ZXh0OlwiLCBpbnB1dCk7XG4gICAgICAgICAgICB0aGlzLmZpcmVmbGllc19zdW1tYXJ5KGlucHV0LCBlZGl0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgaW5wdXRNb2RhbC5vcGVuKCk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgb3BlbmFpID0gYXdhaXQgbmV3IE9wZW5BSSh7XG4gICAgICBhcGlLZXk6IG9wZW5haUFQSUtleSxcbiAgICAgIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlLFxuICAgIH0pO1xuICAgIHRoaXMuc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODA6IFZDIENvcGlsb3QgbG9hZGluZy4uLi5cIik7XG4gICAgdGhpcy5zdGF0dXMuc2V0QXR0cihcInRpdGxlXCIsIFwiVkMgQ29waWxvdCBpcyBsb2FkaW5nLi4uXCIpO1xuXG4gICAgdGhpcy5zdGF0dXMuc2V0VGV4dChcIlx1RDgzRVx1REREMVx1MjAwRFx1RDgzRFx1REU4MDogVkMgQ29waWxvdCByZWFkeVwiKTtcbiAgICB0aGlzLnN0YXR1cy5zZXRBdHRyKFwidGl0bGVcIiwgXCJWQyBDb3BpbG90IGlzIHJlYWR5XCIpO1xuICB9XG5cbiAgb251bmxvYWQoKSB7XG4gICAgdGhpcy5zdGF0dXMuc2V0VGV4dChcIlx1RDgzRVx1REREMVx1MjAwRFx1RDgzRFx1REU4MDogVkMgQ29waWxvdCBsZWZ0XCIpO1xuICAgIHRoaXMuc3RhdHVzLnNldEF0dHIoXCJ0aXRsZVwiLCBcIlZDIENvcGlsb3Qgc2F5cyBcdUQ4M0RcdURDNEJcIik7XG4gIH1cblxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gICAgb3BlbmFpQVBJS2V5ID0gdGhpcy5zZXR0aW5ncy5vcGVuQUlLZXk7XG4gICAgYWZmaW5pdHlBUElLZXkgPSB0aGlzLnNldHRpbmdzLmFmZmluaXR5S2V5O1xuICAgIG93bmVyX3ZhbHVlID0gdGhpcy5zZXR0aW5ncy5vd25lcl9wZXJzb25fdmFsdWU7XG4gICAgY29ubmVjdGlvbl9vd25lcl9maWVsZCA9IHRoaXMuc2V0dGluZ3MuY29ubmVjdGlvbl9vd25lcl9maWVsZF9pZDtcbiAgICB2ZW50dXJlX25ldHdvcmtfbGlzdCA9IHRoaXMuc2V0dGluZ3MudmVudHVyZV9uZXR3b3JrX2xpc3RfaWQ7XG4gICAgZmlyZWZsaWVzX2FwaV9rZXkgPSB0aGlzLnNldHRpbmdzLmZpcmVmbGllc19hcGk7XG5cbiAgICB0aGlzLnNldHRpbmdzLnRlYW1fbmFtZXMuc3BsaXQoXCIsXCIpLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGludmVzdG9yX25hbWVzLnB1c2goZWxlbWVudC50cmltKCkpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICAgIG9wZW5haUFQSUtleSA9IHRoaXMuc2V0dGluZ3Mub3BlbkFJS2V5O1xuICAgIGFmZmluaXR5QVBJS2V5ID0gdGhpcy5zZXR0aW5ncy5hZmZpbml0eUtleTtcbiAgICBvd25lcl92YWx1ZSA9IHRoaXMuc2V0dGluZ3Mub3duZXJfcGVyc29uX3ZhbHVlO1xuICAgIGNvbm5lY3Rpb25fb3duZXJfZmllbGQgPSB0aGlzLnNldHRpbmdzLmNvbm5lY3Rpb25fb3duZXJfZmllbGRfaWQ7XG4gICAgdmVudHVyZV9uZXR3b3JrX2xpc3QgPSB0aGlzLnNldHRpbmdzLnZlbnR1cmVfbmV0d29ya19saXN0X2lkO1xuICAgIGZpcmVmbGllc19hcGlfa2V5ID0gdGhpcy5zZXR0aW5ncy5maXJlZmxpZXNfYXBpO1xuICAgIHRoaXMuc2V0dGluZ3MudGVhbV9uYW1lcy5zcGxpdChcIixcIikuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgaW52ZXN0b3JfbmFtZXMucHVzaChlbGVtZW50LnRyaW0oKSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBzdW1tYXJpemVfc2VsZWN0ZWRfc3RhcnR1cF90ZXh0KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIHZpZXc6IE1hcmtkb3duVmlldyB8IE1hcmtkb3duRmlsZUluZm8sXG4gICAgc3RhdHVzOiBIVE1MRWxlbWVudFxuICApIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHRha2VzIHRoZSBzZWxlY3RlZCB0ZXh0IGZyb20gYSBzdGFydHVwLCBzdW1tYXJpemVzIGl0LCBhbmQgdGhlbiBwdXRzIGl0IGJhY2sgaW4gdGhlIGZpbGVcbiAgICAgKiBUaGUgXCJmdWxsLXRleHRcIiBnZXRzIGFwcGVuZWQgYWZ0ZXIgdGhlIGhlYWRpbmcgJyMgU3RvcCBJbmRleGluZycgc3VjaCB0aGF0IGl0IGlzIG5vdCBpbmRleGVkIGFueW1vcmUgYnkgdGhlIGVtYmVkZGluZyBlbmdpbmVcbiAgICAgKiBUaGlzIGFsc28gaGVscHMgdG8gYXZvaWQgcHVzaGluZyBhbGwgb2YgdGhlIGNvbnZvbHV0ZWQgdGV4dCBpbnRvIEFmZmluaXR5IGxhdGVyIG9uXG4gICAgICovXG5cbiAgICBjb25zdCBzZWwgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgbmV3IE5vdGljZShcIlN1bW1hcml6aW5nLi4uXCIpO1xuICAgIHN0YXR1cy5zZXRUZXh0KFwiXHVEODNFXHVEREQxXHUyMDBEXHVEODNEXHVERTgwOiBWQyBDb3BpbG90IHN1bW1hcml6aW5nLi4uXCIpO1xuICAgIHN0YXR1cy5zZXRBdHRyKFwidGl0bGVcIiwgXCJDb3BpbG90IGlzIHN1bW1hcml6aW5nLi4uXCIpO1xuXG4gICAgY29uc3Qgc3lzdGVtX3Byb21wdCA9XG4gICAgICBcIllvdSBhcmUgYSBzdW1tYXJpemVyIGZvciBteSBub3RlcyBhYm91dCBzdGFydHVwcy4gWW91ciBqb2IgaXMgdG8gcmVhZCB0aHJvdWdoIG15IG5vdGVzIGFuZCBjcmVhdGUgYSBzdW1tYXJ5IGluIHRoZSBmb2xsb3dpbmcgc2NoZW1hOlxcblxcXG4tICoqVGVhbSoqOjx0aGUgZm91bmRlciB0ZWFtIGJlaGluZCB0aGUgc3RhcnR1cD5cXG5cXG5cXFxuLSAqKlByb2R1Y3QqKjo8dGhlIHByb2R1Y3QgYW5kIHRoZSBwcm9ibGVtIGl0IHNvbHZlcz5cXG5cXG5cXFxuLSAqKlRyYWN0aW9uKio6PGhvdyBtdWNoIHJldmVudWUgaGFzIHRoZSBzdGFydHVwIGdlbmVyYXRlZCBzbyBmYXIsIGhvdyBtYW55IGN1c3RvbWVycyBkbyB0aGV5IGhhdmU+XFxuXFxuXFxcbi0gKipSb3VuZCoqOjxob3cgbXVjaCBtb25leSBoYXZlIHRoZXkgcmFpc2VkIHNvIGZhciBhdCB3aGF0IHRlcm1zLiBIb3cgbXVjaCBtb25leSBhcmUgdGhleSByYWlzaW5nIG5vdz5cIjtcblxuICAgIGxldCBuZXdfc3VtbWFyeSA9IGF3YWl0IG9wZW5haV9qcyhncHRfNF9sYXRlc3QsIHNlbCwgc3lzdGVtX3Byb21wdCk7XG4gICAgY29uc3QgcmVwbGFjZW1lbnQgPVxuICAgICAgXCIjZ3B0X3N1bW1hcml6ZWQsICNBZGRIYXNodGFncywgI3Jldmlld19zdGFydHVwIFxcblwiICtcbiAgICAgIG5ld19zdW1tYXJ5ICtcbiAgICAgIFwiXFxuXCIgK1xuICAgICAgXCIjIFN0b3AgSW5kZXhpbmcgXFxuIyMgTm90ZXNcXG5cIiArXG4gICAgICBzZWw7XG4gICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24ocmVwbGFjZW1lbnQpO1xuICAgIHN0YXR1cy5zZXRUZXh0KFwiXHVEODNFXHVEREQxXHUyMDBEXHVEODNEXHVERTgwOiBWQyBDb3BpbG90IHJlYWR5XCIpO1xuICAgIHN0YXR1cy5zZXRBdHRyKFwidGl0bGVcIiwgXCJDb3BpbG90IGlzIHJlYWR5XCIpO1xuICB9XG5cbiAgYXN5bmMgcHVzaF9zdGFydHVwc190b19hZmZpbml0eShzdGF0dXM6IEhUTUxFbGVtZW50KSB7XG4gICAgLyoqXG4gICAgICogUHVzaCBhbGwgZWxpZ2libGUgc3RhcnR1cHMgdG8gYWZmaW5pdHkgKG5vdGlmeSBtZSBvdGhlcndpc2UpXG4gICAgICovXG4gICAgY29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODA6IFZDIENvcGlsb3Qgc3luY2luZyB3aXRoIEFmZmluaXR5Li4uXCIpO1xuICAgIHN0YXR1cy5zZXRBdHRyKFwidGl0bGVcIiwgXCJDb3BpbG90IGlzIHB1c2hpbmcgc3RhcnR1cCBpbmZvIHRvIEFmZmluaXR5Li4uXCIpO1xuXG4gICAgZm9yIChsZXQgaXRlbSBvZiBmaWxlcykge1xuICAgICAgbGV0IGZpbGVfY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoaXRlbSk7XG4gICAgICBpZiAoc3RhcnR1cF9yZWFkeV9mb3JfYWZmaW5pdHkoZmlsZV9jb250ZW50KSkge1xuICAgICAgICBsZXQgW3RpdGxlLCBzdWJzdHJpbmdzXSA9IGV4dHJhY3RfdGl0bGVfYW5kX25vdGUoZmlsZV9jb250ZW50KTtcbiAgICAgICAgbGV0IHN0YXJ0dXBfbmFtZSA9IFN0cmluZyh0aXRsZSk7XG4gICAgICAgIHN0YXJ0dXBfbmFtZSA9IGNsZWFuX3RleHQoc3RhcnR1cF9uYW1lKTtcbiAgICAgICAgbGV0IG5vdGUgPSBzdWJzdHJpbmdzWzFdO1xuICAgICAgICBub3RlID0gbm90ZS5yZXBsYWNlKC9eKD09fFxcKlxcKnwjezIsfSkkL2csIFwiXCIpO1xuXG4gICAgICAgIGxldCBzdGFydHVwX3VwZGF0ZWQgPSBhd2FpdCB1cGRhdGVfYWZmaW5pdHlfc3RhcnR1cChzdGFydHVwX25hbWUsIG5vdGUpO1xuXG4gICAgICAgIGlmIChzdGFydHVwX3VwZGF0ZWQpIHtcbiAgICAgICAgICAvL3JlbW92ZSB0aGUgI0FmZmluaXR5XG4gICAgICAgICAgZmlsZV9jb250ZW50ID0gZmlsZV9jb250ZW50LnJlcGxhY2UoLyNBZmZpbml0eS9nLCBcIlwiKTtcbiAgICAgICAgICB0aGlzLmFwcC52YXVsdC5tb2RpZnkoaXRlbSwgZmlsZV9jb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIG5ldyBOb3RpY2UoXCJEb25lIVwiKTtcbiAgICBzdGF0dXMuc2V0VGV4dChcIlx1RDgzRVx1REREMVx1MjAwRFx1RDgzRFx1REU4MDogVkMgQ29waWxvdCByZWFkeVwiKTtcbiAgICBzdGF0dXMuc2V0QXR0cihcInRpdGxlXCIsIFwiQ29waWxvdCBpcyByZWFkeVwiKTtcbiAgfVxuXG4gIGFzeW5jIHN1bW1hcml6ZV9hbGxfdmMoc3RhdHVzOiBIVE1MRWxlbWVudCkge1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc3VtbWFyaXplZCBhbGwgVkMgbm90ZXMgdGhhdCBhcmUgZWxpZ2libGUgZm9yIHN1bW1hcml6YXRpb24gKHBlb3BsZSBvciBlbnRpdGllcyBJIGFtIGNvbm5lY3RlZCB3aXRoKVxuICAgICAqL1xuXG4gICAgY29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODA6IFZDIENvcGlsb3Qgc3VtbWFyaXppbmcuLi5cIik7XG4gICAgc3RhdHVzLnNldEF0dHIoXG4gICAgICBcInRpdGxlXCIsXG4gICAgICBcIlZDIENvcGlsb3QgaXMgc3VtbWFyaXppbmcgYWxsIHlvdXIgVkMgY29ubmVjdGlvbnMuLi5cIlxuICAgICk7XG4gICAgZm9yIChsZXQgaXRlbSBvZiBmaWxlcykge1xuICAgICAgLy9jb25zb2xlLmxvZyhpdGVtLm5hbWUpXG4gICAgICBsZXQgZmlsZV9jb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChpdGVtKTtcbiAgICAgIGlmIChpc19zdW1tYXJpemFibGUoZmlsZV9jb250ZW50KSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgV2UgYXJlIGNoYW5naW5nIGZpbGU6ICR7aXRlbS5uYW1lfWApO1xuICAgICAgICAvL1dlIHNob3VsZCBzdW1tYXJpemUgdGhpcyBmaWxlIHRoZW5cbiAgICAgICAgbGV0IFtuZXdfdGV4dCwgc3VtbWFyeSwgdGl0bGVdID0gYXdhaXQgc3VtbWFyaXplX3ZjX3RleHQoZmlsZV9jb250ZW50KTtcblxuICAgICAgICBpZiAodGl0bGUgIT0gXCJcIikge1xuICAgICAgICAgIHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShpdGVtLCBuZXdfdGV4dCk7XG4gICAgICAgICAgbmV3IE5vdGljZShgJHt0aXRsZX0gaGFzIGJlZW4gc3VtbWFyaXplZGApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODA6IFZDIENvcGlsb3QgcmVhZHlcIik7XG4gICAgc3RhdHVzLnNldEF0dHIoXCJ0aXRsZVwiLCBcIlZDIENvcGlsb3QgaXMgcmVhZHlcIik7XG4gIH1cblxuICBhc3luYyBwdXNoX3Zjc190b19hZmZpbml0eShzdGF0dXM6IEhUTUxFbGVtZW50KSB7XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBwdXNoZXMgYWxsIHJlYWR5IFZDcyB0byBhZmZpbml0eSwgaXQgYWxzbyBub3RpZmllcyB1cyBpZiBhIHBlcnNvbiBjYW4gbm90IGJlIGZvdW5kIG9uIGFmZmluaXR5XG4gICAgICovXG4gICAgY29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODA6IFZDIENvcGlsb3Qgc3luY2luZyB3aXRoIEFmZmluaXR5Li4uXCIpO1xuICAgIHN0YXR1cy5zZXRBdHRyKFwidGl0bGVcIiwgXCJDb3BpbG90IGlzIHB1c2hpbmcgVkNzIGluZm8gdG8gQWZmaW5pdHkuLi5cIik7XG4gICAgZm9yIChsZXQgaXRlbSBvZiBmaWxlcykge1xuICAgICAgbGV0IGZpbGVfY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoaXRlbSk7XG4gICAgICBpZiAodmNfcmVhZHlfZm9yX2FmZmluaXR5KGZpbGVfY29udGVudCkpIHtcbiAgICAgICAgbGV0IFt0aXRsZSwgc3Vic3RyaW5nc10gPSBleHRyYWN0X3RpdGxlX2FuZF9ub3RlKGZpbGVfY29udGVudCk7XG4gICAgICAgIGxldCBzdW1tYXJ5ID0gc3Vic3RyaW5nc1sxXTtcbiAgICAgICAgbGV0IHBlcnNvbl9uYW1lID0gU3RyaW5nKHRpdGxlKTtcbiAgICAgICAgcGVyc29uX25hbWUgPSBjbGVhbl90ZXh0KHBlcnNvbl9uYW1lKTtcbiAgICAgICAgbGV0IG5vdGUgPSBzdWJzdHJpbmdzWzFdO1xuICAgICAgICBub3RlID0gbm90ZS5yZXBsYWNlKC9eKD09fFxcKlxcKnwjezIsfSkkL2csIFwiXCIpO1xuXG4gICAgICAgIGxldCBwZXJzb24gPSBhd2FpdCBnZXRfcGVyc29uX2J5X25hbWUoYWZmaW5pdHlBUElLZXksIHBlcnNvbl9uYW1lKTtcblxuICAgICAgICBpZiAocGVyc29uKSB7XG4gICAgICAgICAgbGV0IHBlcnNvbl9pZCA9IHBlcnNvbltcImlkXCJdO1xuICAgICAgICAgIGxldCBwZXJzb25fZGV0YWlscyA9IGF3YWl0IGdldF9wZXJzb25fZGV0YWlscyhcbiAgICAgICAgICAgIGFmZmluaXR5QVBJS2V5LFxuICAgICAgICAgICAgcGVyc29uX2lkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgbGlzdF9lbnRyeV9pZCA9IGF3YWl0IGlzX3BlcnNvbl9pbl92ZW50dXJlX25ldHdvcmsoXG4gICAgICAgICAgICBhZmZpbml0eUFQSUtleSxcbiAgICAgICAgICAgIHBlcnNvbl9kZXRhaWxzLFxuICAgICAgICAgICAgdmVudHVyZV9uZXR3b3JrX2xpc3RcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKGxpc3RfZW50cnlfaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy9pZiBwZXJzb24gaXMgaW4gdmVudHVyZSBuZXR3b3JrXG4gICAgICAgICAgICAvL3RvZG8gSSB0aGluayByZW1vdmluZyB0aGlzIHdpbGwgaGF2ZSBubyBuZWdhdGl2ZSBlZmZlY3Q/XG4gICAgICAgICAgICAvL2xldCBwZXJzb25fdmVudHVyZV9uZXR3b3JrX2ZpZWxkcyA9IGF3YWl0IGdldF9maWVsZF92YWx1ZXMoYWZmaW5pdHlBUElLZXksICdsaXN0X2VudHJ5X2lkJywgbGlzdF9lbnRyeV9pZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9BZGQgdGhlIHBlcnNvbiB0byB2ZW50dXJlIG5ldHdvcmsgZmlyc3RcbiAgICAgICAgICAgIGF3YWl0IGFkZF9lbnRyeV90b19saXN0KFxuICAgICAgICAgICAgICBhZmZpbml0eUFQSUtleSxcbiAgICAgICAgICAgICAgdmVudHVyZV9uZXR3b3JrX2xpc3QsXG4gICAgICAgICAgICAgIHBlcnNvbl9pZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxldCBwZXJzb25fZGV0YWlscyA9IGF3YWl0IGdldF9wZXJzb25fZGV0YWlscyhcbiAgICAgICAgICAgICAgYWZmaW5pdHlBUElLZXksXG4gICAgICAgICAgICAgIHBlcnNvbl9pZFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbGlzdF9lbnRyeV9pZCA9IGF3YWl0IGlzX3BlcnNvbl9pbl92ZW50dXJlX25ldHdvcmsoXG4gICAgICAgICAgICAgIGFmZmluaXR5QVBJS2V5LFxuICAgICAgICAgICAgICBwZXJzb25fZGV0YWlscyxcbiAgICAgICAgICAgICAgdmVudHVyZV9uZXR3b3JrX2xpc3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvL0FkZCBub3RlIHRha2VyIGFzIG93bmVyIG9mIHRoZSBjb25uZWN0aW9uIG9uIEFmZmluaXR5XG4gICAgICAgICAgICBhd2FpdCBhZGRfZmllbGRfdmFsdWUoXG4gICAgICAgICAgICAgIGFmZmluaXR5QVBJS2V5LFxuICAgICAgICAgICAgICBjb25uZWN0aW9uX293bmVyX2ZpZWxkLFxuICAgICAgICAgICAgICBwZXJzb25faWQsXG4gICAgICAgICAgICAgIG93bmVyX3ZhbHVlLFxuICAgICAgICAgICAgICBsaXN0X2VudHJ5X2lkXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBhZGRfbm90ZXNfdG9fcGVyc29uKFxuICAgICAgICAgICAgYWZmaW5pdHlBUElLZXksXG4gICAgICAgICAgICBwZXJzb25faWQsXG4gICAgICAgICAgICBub3RlXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYFZDOiAke3BlcnNvbl9uYW1lfSB3YXMgdXBkYXRlZCBvbiBBZmZpbml0eWApO1xuICAgICAgICAgICAgZmlsZV9jb250ZW50ID0gZmlsZV9jb250ZW50LnJlcGxhY2UoLyNBZmZpbml0eS9nLCBcIlwiKTtcbiAgICAgICAgICAgIHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShpdGVtLCBmaWxlX2NvbnRlbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgICAgICBgVkM6ICR7cGVyc29uX25hbWV9IHdhcyBGT1VORCBidXQgTk9UIHVwZGF0ZWQgb24gQWZmaW5pdHlgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXcgTm90aWNlKGBWQzogJHtwZXJzb25fbmFtZX0gd2FzIE5PVCBGT1VORCBvbiBBZmZpbml0eWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHN0YXR1cy5zZXRUZXh0KFwiXHVEODNFXHVEREQxXHUyMDBEXHVEODNEXHVERTgwOiBWQyBDb3BpbG90IHJlYWR5XCIpO1xuICAgIHN0YXR1cy5zZXRBdHRyKFwidGl0bGVcIiwgXCJDb3BpbG90IGlzIHJlYWR5XCIpO1xuICB9XG5cbiAgYXN5bmMgdXJsX3Jlc2VhcmNoKHVybDogc3RyaW5nLCBlZGl0b3I6IEVkaXRvcikge1xuICAgIHRoaXMuc3RhdHVzLnNldFRleHQoYFx1RDgzRVx1REREMVx1MjAwRFx1RDgzRFx1REU4MCBcdUQ4M0RcdUREMEU6IFZDIENvcGlsb3QgcmVzZWFyY2hpbmcgJHt1cmx9Li4uYCk7XG4gICAgdGhpcy5zdGF0dXMuc2V0QXR0cihcInRpdGxlXCIsIFwiQ29waWxvdCBpcyByZXNlYXJjaGluZyB0aGUgdXJsXCIpO1xuXG4gICAgbGV0IGZpbmFsX3RleHQgPSBcIlwiO1xuICAgIGxldCBwb3NpdGlvbiA9IGVkaXRvci5nZXRDdXJzb3IoKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgXCJodHRwczovL3VybC1yZXNlYXJjaGVyLWNvbnRhaW5lci14bTVsbWRuc3hxLWV5LmEucnVuLmFwcFwiLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcbiAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBvcGVuYWlfa2V5OiBvcGVuYWlBUElLZXksXG4gICAgICAgICAgfSksXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGZpbmFsX3RleHQgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgZmluYWxfdGV4dCA9IGZvcm1hdF91cmxfdGV4dChmaW5hbF90ZXh0LCB1cmwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhgRXJyb3Igd2hlbiBkb2luZyB1cmwgcmVzZWFyY2g6ICR7ZXJyb3J9YCk7XG4gICAgICBuZXcgTm90aWNlKGBFcnJvciB3aGVuIGRvaW5nIHVybCByZXNlYXJjaGApO1xuICAgIH1cblxuICAgIHRoaXMuZGlzcGxheW1lc3NhZ2UoZmluYWxfdGV4dCwgZWRpdG9yLCBwb3NpdGlvbik7XG4gIH1cblxuICBhc3luYyBkZWZlbnNpYmlsaXR5X2FuYWx5c2lzKHN0YXJ0dXBfZGVzY3JpcHRpb246IHN0cmluZywgZWRpdG9yOiBFZGl0b3IpIHtcbiAgICBsZXQgcG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgbGV0IHN5c3RlbV9wcm9tcHQ6IHN0cmluZyA9IERFRkVOU0lCSUxJVFlfQU5BTFlTSVNfU1lTVEVNX1BST01QVDtcbiAgICBsZXQgcXVlcnkgPVxuICAgICAgXCJTdGFydHVwIERlc2NyaXB0aW9uOlxcblwiICtcbiAgICAgIHN0YXJ0dXBfZGVzY3JpcHRpb24gK1xuICAgICAgXCJcXG5XaGF0IHR5cGVzIG9mIGRlZmVuc2liaWxpdHkgZG9lcyB0aGlzIHN0YXJ0dXAgaGF2ZT8gV2hpY2ggdHlwZXMgb2YgZGVmZW5zaWJpbGl0eSBkb2VzIGl0IGxhY2sgb3IgY291bGQgaW1wcm92ZSB1cG9uPyBMZXQgdXMgdGhpbmsgc3RlcCBieSBzdGVwXCI7XG5cbiAgICB0aGlzLnN0YXR1cy5zZXRUZXh0KFwiXHVEODNFXHVEREQxXHUyMDBEXHVEODNEXHVERTgwOiBWQyBDb3BpbG90IGFuYWx5emluZyBkZWZlbnNpYmlsaXR5Li4uXCIpO1xuICAgIHRoaXMuc3RhdHVzLnNldEF0dHIoXG4gICAgICBcInRpdGxlXCIsXG4gICAgICBcIlZDIENvcGlsb3QgaXMgYW5hbHl6aW5nIGRlZmVuc2liaWxpdHkgb2YgdGhlIHN0YXJ0dXAuLi5cIlxuICAgICk7XG4gICAgbGV0IGFuYWx5c2lzID0gYXdhaXQgb3BlbmFpX2pzKFxuICAgICAgZ3B0XzRfbGF0ZXN0LFxuICAgICAgcXVlcnksXG4gICAgICBzeXN0ZW1fcHJvbXB0LFxuICAgICAgMTAyNCxcbiAgICAgIDEuMFxuICAgICk7XG5cbiAgICBhbmFseXNpcyA9IFwiIyMgRGVmZW5zaWJpbGl0eSBBbmFseXNpc1xcblwiICsgYW5hbHlzaXM7XG5cbiAgICB0aGlzLmRpc3BsYXltZXNzYWdlKGFuYWx5c2lzLCBlZGl0b3IsIHBvc2l0aW9uKTtcbiAgfVxuXG4gIGFzeW5jIGd1aWRhbmNlX3dvcmtmbG93KHN0YXJ0dXBfZGVzY3JpcHRpb246IHN0cmluZywgZWRpdG9yOiBFZGl0b3IpIHtcbiAgICBsZXQgcG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgbGV0IHN5c3RlbV9wcm9tcHQgPSBHVUlEQU5DRV9XT1JLRkxPV19TWVNURU1fUFJPTVBUO1xuXG4gICAgbGV0IHF1ZXJ5ID1cbiAgICAgIFwiU3RhcnR1cCBEZXNjcmlwdGlvbjpcXG5cIiArXG4gICAgICBzdGFydHVwX2Rlc2NyaXB0aW9uICtcbiAgICAgIFwiXFxuV2hhdCBpcyB0aGUgY29yZSBwcm9ibGVtIHRoaXMgc3RhcnR1cCBpcyBzb2x2aW5nPyBHaXZlIGEgY29uY2lzZSBhbnN3ZXIuXCI7XG5cbiAgICBsZXQgdXNlcl9xdWVyaWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIHVzZXJfcXVlcmllcy5wdXNoKHF1ZXJ5KTtcbiAgICBsZXQgaHlwb3RoZXNpcyA9XG4gICAgICBcIldoYXQgYXJlIHRoZSBjb3JlIGh5cG90aGVzZXMgdGhlIHN0YXJ0dXAgaGFzIHRvIHZhbGlkYXRlIHRvIHByb3ZlIHRoYXQgc29sdmluZyB0aGlzIGNvcmUgcHJvYmxlbSBpcyBpbXBvcnRhbnQgZW5vdWdoIHRvIGFsbG93IHRoZW0gdG8gYnVpbGQgYSB1bmljb3JuP1wiO1xuICAgIHVzZXJfcXVlcmllcy5wdXNoKGh5cG90aGVzaXMpO1xuICAgIGxldCBjbGFzc2lmeSA9XG4gICAgICBcIlJlY29tbWVuZCBzb21lIHN1aXRhYmxlIHByb2R1Y3QgY2F0ZWdvcmllcyB0byBjbGFzc2lmeSB0aGUgcHJvZHVjdFwiO1xuICAgIHVzZXJfcXVlcmllcy5wdXNoKGNsYXNzaWZ5KTtcblxuICAgIHRoaXMuc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODA6IFZDIENvcGlsb3QgYW5hbHl6aW5nIHN0YXJ0dXAuLi5cIik7XG4gICAgdGhpcy5zdGF0dXMuc2V0QXR0cihcInRpdGxlXCIsIFwiVkMgQ29waWxvdCBpcyBhbmFseXppbmcgdGhlIHN0YXJ0dXAuLi5cIik7XG4gICAgbGV0IHJlcGxpZXM6IHN0cmluZ1tdID0gYXdhaXQgb3BlbmFpX2pzX211bHRpdHVybihcbiAgICAgIHVzZXJfcXVlcmllcyxcbiAgICAgIHN5c3RlbV9wcm9tcHQsXG4gICAgICAxMDI0LFxuICAgICAgMS4wXG4gICAgKTtcblxuICAgIHJlcGxpZXNbMF0gPVxuICAgICAgXCIjIyBBbmFseXNpcyBXb3JrZmxvd1xcblxcbiMjIyMgQ29yZSBQcm9ibGVtXFxuXFxuXCIgKyByZXBsaWVzWzBdICsgXCJcXG5cIjtcbiAgICByZXBsaWVzWzFdID0gXCIjIyMjIEh5cG90aGVzZXNcXG5cXG5cIiArIHJlcGxpZXNbMV0gKyBcIlxcblwiO1xuICAgIHJlcGxpZXNbMl0gPSBcIiMjIyMgQ2F0ZWdvcmllc1xcblxcblwiICsgcmVwbGllc1syXSArIFwiXFxuXCI7XG5cbiAgICBsZXQgZmluYWxfdGV4dCA9IHJlcGxpZXNbMF0gKyByZXBsaWVzWzFdICsgcmVwbGllc1syXTtcblxuICAgIHRoaXMuZGlzcGxheW1lc3NhZ2UoZmluYWxfdGV4dCwgZWRpdG9yLCBwb3NpdGlvbik7XG4gIH1cblxuICBhc3luYyBmaXJlZmxpZXNfc3VtbWFyeShtZWV0aW5nX25hbWU6IHN0cmluZywgZWRpdG9yOiBFZGl0b3IpIHtcbiAgICB0aGlzLnN0YXR1cy5zZXRUZXh0KFxuICAgICAgYFx1RDgzRVx1REREMVx1MjAwRFx1RDgzRFx1REU4MCBcdUQ4M0RcdUREMEU6IFZDIENvcGlsb3QgcmVhZGluZyB0aGUgdHJhbnNjcmlwdCBvZiAke21lZXRpbmdfbmFtZX0uLi5gXG4gICAgKTtcbiAgICB0aGlzLnN0YXR1cy5zZXRBdHRyKFwidGl0bGVcIiwgXCJDb3BpbG90IGlzIHJlYWRpbmcgdGhlIHRyYW5zY3JpcHRcIik7XG5cbiAgICBsZXQgZmluYWxfc3VtbWFyeSA9IFwiXCI7XG5cbiAgICBsZXQgY3Vyc29yX3Bvc2l0aW9uID0gZWRpdG9yLmdldEN1cnNvcigpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBpZCA9IGF3YWl0IGdldF9tZWV0aW5nX2lkKG1lZXRpbmdfbmFtZSwgZmlyZWZsaWVzX2FwaV9rZXkpO1xuICAgICAgbGV0IHBhcmFncmFwaHMgPSBhd2FpdCBnZXRfbWVldGluZ190cmFuc2NyaXB0X2J5X2lkKGlkLCBpbnZlc3Rvcl9uYW1lcyk7XG4gICAgICBsZXQgc3VtbWFyaWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICBsZXQgbG9uZ19wYXJhZ3JhcGggPSBcIlwiO1xuICAgICAgbGV0IGV4dGVuZGVkX3BhcmFncmFwaHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgIGZvciAobGV0IHBhcmFncmFwaCBvZiBwYXJhZ3JhcGhzKSB7XG4gICAgICAgIGxldCBudW1iZXJfb2Zfd29yZHMgPSBjb3VudFdvcmRzKHBhcmFncmFwaCk7XG5cbiAgICAgICAgaWYgKG51bWJlcl9vZl93b3JkcyA+PSAxMikge1xuICAgICAgICAgIC8vSW5jbHVkZSBvbmx5IHNlbnRlbmNlcyB0aGF0IGFyZSBsb25nIGVub3VnaCB0byBiZSByZWxldmFudFxuICAgICAgICAgIGlmIChudW1iZXJfb2Zfd29yZHMgKyBjb3VudFdvcmRzKGxvbmdfcGFyYWdyYXBoKSA8PSAyNTAwKSB7XG4gICAgICAgICAgICAvL2tlZXAgYSBwYXJhZ3JhcGggYmVsb3cgMTUwMCB3b3JkcyAoMjAwMCB0b2tlbnMpIGZvciB0aGUgY29udGV4dCB3aW5kb3dcbiAgICAgICAgICAgIGxvbmdfcGFyYWdyYXBoICs9IHBhcmFncmFwaDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXh0ZW5kZWRfcGFyYWdyYXBocy5wdXNoKGxvbmdfcGFyYWdyYXBoKTtcbiAgICAgICAgICAgIGxvbmdfcGFyYWdyYXBoID0gcGFyYWdyYXBoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvbmdfcGFyYWdyYXBoLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgIGV4dGVuZGVkX3BhcmFncmFwaHMucHVzaChsb25nX3BhcmFncmFwaCk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXR1cy5zZXRUZXh0KFxuICAgICAgICBgXHVEODNFXHVEREQxXHUyMDBEXHVEODNEXHVERTgwIFx1RDgzRFx1REQwRTogVkMgQ29waWxvdCBzdW1tYXJpemluZyBzZWN0aW9ucyBvZiB0aGUgdHJhbnNjcmlwdCBvZiAke21lZXRpbmdfbmFtZX0uLi5gXG4gICAgICApO1xuICAgICAgdGhpcy5zdGF0dXMuc2V0QXR0cihcbiAgICAgICAgXCJ0aXRsZVwiLFxuICAgICAgICBcIkNvcGlsb3QgaXMgc3VtbWFyaXppbmcgc2VjdGlvbnMgb2YgdGhlIHRyYW5zY3JpcHRcIlxuICAgICAgKTtcbiAgICAgIGZvciAobGV0IHBhcmFncmFwaCBvZiBleHRlbmRlZF9wYXJhZ3JhcGhzKSB7XG4gICAgICAgIGxldCBzdW1tYXJ5ID0gYXdhaXQgc3VtbWFyaXplX3BhcmFncmFwaChwYXJhZ3JhcGgpO1xuICAgICAgICBzdW1tYXJpZXMucHVzaChzdW1tYXJ5KTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhzdW1tYXJ5KVxuICAgICAgfVxuICAgICAgdGhpcy5zdGF0dXMuc2V0VGV4dChcbiAgICAgICAgYFx1RDgzRVx1REREMVx1MjAwRFx1RDgzRFx1REU4MCBcdUQ4M0RcdUREMEU6IFZDIENvcGlsb3Qgc3VtbWFyaXppbmcgdGhlIGZ1bGwgdHJhbnNjcmlwdCBvZiAke21lZXRpbmdfbmFtZX0uLi5gXG4gICAgICApO1xuICAgICAgdGhpcy5zdGF0dXMuc2V0QXR0cihcbiAgICAgICAgXCJ0aXRsZVwiLFxuICAgICAgICBcIkNvcGlsb3QgaXMgc3VtbWFyaXppbmcgdGhlIGZ1bGwgdHJhbnNjcmlwdFwiXG4gICAgICApO1xuXG4gICAgICBmaW5hbF9zdW1tYXJ5ID0gYXdhaXQgc3VtbWFyaXplX2FsbF9wYXJhZ3JhcGhzX3RvZ2V0aGVyKHN1bW1hcmllcyk7XG4gICAgICBmaW5hbF9zdW1tYXJ5ID0gZmluYWxfc3VtbWFyeS5yZXBsYWNlKC9cXCpcXCpUZWFtKDopP1xcKlxcKi9nLCBcIiMjIyMgVGVhbVwiKTtcbiAgICAgIGZpbmFsX3N1bW1hcnkgPSBmaW5hbF9zdW1tYXJ5LnJlcGxhY2UoXG4gICAgICAgIC9cXCpcXCpQcm9ibGVtKDopP1xcKlxcKi9nLFxuICAgICAgICBcIiMjIyMgUHJvYmxlbVwiXG4gICAgICApO1xuICAgICAgZmluYWxfc3VtbWFyeSA9IGZpbmFsX3N1bW1hcnkucmVwbGFjZShcbiAgICAgICAgL1xcKlxcKlByb2R1Y3QoOik/XFwqXFwqL2csXG4gICAgICAgIFwiIyMjIyBQcm9kdWN0XCJcbiAgICAgICk7XG4gICAgICBmaW5hbF9zdW1tYXJ5ID0gZmluYWxfc3VtbWFyeS5yZXBsYWNlKFxuICAgICAgICAvXFwqXFwqVHJhY3Rpb24oOik/XFwqXFwqL2csXG4gICAgICAgIFwiIyMjIyBUcmFjdGlvblwiXG4gICAgICApO1xuICAgICAgZmluYWxfc3VtbWFyeSA9IGZpbmFsX3N1bW1hcnkucmVwbGFjZShcbiAgICAgICAgL1xcKlxcKkNvbXBldGl0aW9uKDopP1xcKlxcKi9nLFxuICAgICAgICBcIiMjIyMgQ29tcGV0aXRpb25cIlxuICAgICAgKTtcbiAgICAgIGZpbmFsX3N1bW1hcnkgPSBmaW5hbF9zdW1tYXJ5LnJlcGxhY2UoXG4gICAgICAgIC9cXCpcXCpSb3VuZCBJbmZvKDopP1xcKlxcKi9nLFxuICAgICAgICBcIiMjIyMgUm91bmQgSW5mb1wiXG4gICAgICApO1xuICAgICAgZmluYWxfc3VtbWFyeSA9IGZpbmFsX3N1bW1hcnkucmVwbGFjZSgvXFwqXFwqT3RoZXIoOik/XFwqXFwqL2csIFwiIyMjIyBPdGhlclwiKTtcbiAgICAgIGZpbmFsX3N1bW1hcnkgPSBmaW5hbF9zdW1tYXJ5LnJlcGxhY2UoXCItICMjIyMgVGVhbVwiLCBcIiMjIyMgVGVhbVwiKTtcbiAgICAgIGZpbmFsX3N1bW1hcnkgPSBmaW5hbF9zdW1tYXJ5LnJlcGxhY2UoXCItICMjIyMgUHJvYmxlbVwiLCBcIiMjIyMgUHJvYmxlbVwiKTtcbiAgICAgIGZpbmFsX3N1bW1hcnkgPSBmaW5hbF9zdW1tYXJ5LnJlcGxhY2UoXCItICMjIyMgUHJvZHVjdFwiLCBcIiMjIyMgUHJvZHVjdFwiKTtcbiAgICAgIGZpbmFsX3N1bW1hcnkgPSBmaW5hbF9zdW1tYXJ5LnJlcGxhY2UoXCItICMjIyMgVHJhY3Rpb25cIiwgXCIjIyMjIFRyYWN0aW9uXCIpO1xuICAgICAgZmluYWxfc3VtbWFyeSA9IGZpbmFsX3N1bW1hcnkucmVwbGFjZShcbiAgICAgICAgXCItICMjIyMgQ29tcGV0aXRpb25cIixcbiAgICAgICAgXCIjIyMjIENvbXBldGl0aW9uXCJcbiAgICAgICk7XG4gICAgICBmaW5hbF9zdW1tYXJ5ID0gZmluYWxfc3VtbWFyeS5yZXBsYWNlKFxuICAgICAgICBcIi0gIyMjIyBSb3VuZCBJbmZvXCIsXG4gICAgICAgIFwiIyMjIyBSb3VuZCBJbmZvXCJcbiAgICAgICk7XG4gICAgICBmaW5hbF9zdW1tYXJ5ID0gZmluYWxfc3VtbWFyeS5yZXBsYWNlKFwiLSAjIyMjIE90aGVyXCIsIFwiIyMjIyBPdGhlclwiKTtcbiAgICAgIGZpbmFsX3N1bW1hcnkgPVxuICAgICAgICBgIyMgJHttZWV0aW5nX25hbWV9IGNhbGwgc3VtbWFyeWAgK1xuICAgICAgICBcIlxcbiNyZXZpZXdfc3RhcnR1cFxcblwiICtcbiAgICAgICAgZmluYWxfc3VtbWFyeTtcbiAgICAgIC8vdG9kbyBjaGFuZ2UgdGhlIGJvbGQgaXRlbSB3aXRoIGp1c3Qgc3ViaGVhZGVycyBzaW1pbGFyIHRvIHVybCByZXNlYXJjaFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhgRXJyb3IgZHVyaW5nIGZpcmVmbGllcyBzdW1tYXJ5OiAke2Vycm9yfWApO1xuICAgICAgbmV3IE5vdGljZShgRXJyb3IgZHVyaW5nIGZpcmVmbGllcyBzdW1tYXJ5YCk7XG4gICAgfVxuXG4gICAgZWRpdG9yLnJlcGxhY2VSYW5nZShmaW5hbF9zdW1tYXJ5LCBjdXJzb3JfcG9zaXRpb24pO1xuICAgIHRoaXMuc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODA6IFZDIENvcGlsb3QgcmVhZHlcIik7XG4gICAgdGhpcy5zdGF0dXMuc2V0QXR0cihcInRpdGxlXCIsIFwiQ29waWxvdCBpcyByZWFkeVwiKTtcbiAgfVxuXG4gIGFzeW5jIG1hcmtldF9yZXNlYXJjaChpbmR1c3RyeTogc3RyaW5nLCBlZGl0b3I6IEVkaXRvcikge1xuICAgIHRoaXMuc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODAgXHVEODNEXHVERDBFOiBWQyBDb3BpbG90IHJlc2VhcmNoaW5nIHRoZSBtYXJrZXQuLi5cIik7XG4gICAgdGhpcy5zdGF0dXMuc2V0QXR0cihcInRpdGxlXCIsIFwiQ29waWxvdCBpcyByZXNlYXJjaGluZyB0aGUgbWFya2V0Li4uXCIpO1xuXG4gICAgbGV0IHJlcztcbiAgICBsZXQgcG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG5cbiAgICB0cnkge1xuICAgICAgbGV0IHdlYnNpdGVzID0gW1wiXCIsIFwiZ2xvYmVuZXdzd2lyZS5jb21cIiwgXCJzdGF0aXN0YS5jb21cIl07XG5cbiAgICAgIGxldCBxdWVyeSA9IGAke2luZHVzdHJ5fSBpbmR1c3RyeSBtYXJrZXQgcmVwb3J0LmA7XG5cbiAgICAgIGxldCBwcm9taXNlcyA9IHdlYnNpdGVzLm1hcCgod2Vic2l0ZSkgPT5cbiAgICAgICAgc3BlY2lmaWNfd2ViX3Jlc2VhcmNoKFwibWFya2V0LXJlc2VhcmNoXCIsIHdlYnNpdGUsIHF1ZXJ5LCBvcGVuYWksIGVkaXRvcilcbiAgICAgICk7XG4gICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgIGxldCBtZXNzYWdlID0gcmVzdWx0cy5qb2luKFwiXFxuXFxuXCIpO1xuXG4gICAgICBtZXNzYWdlICs9IFwiIyMjIyBGdXJ0aGVyIE1hdGVyaWFsXFxuXCI7XG4gICAgICBtZXNzYWdlICs9IFwiSGVyZSBhcmUgc29tZSByZWFkaW5nIG1hdGVyaWFsIGZvciBmdXJ0aGVyIGluZm9ybWF0aW9uXFxuXFxuXCI7XG4gICAgICBxdWVyeSA9IGAke2luZHVzdHJ5fSBpbmR1c3RyeSBwcmltZXIgcGRmYDtcblxuICAgICAgbGV0IHBkZnMgPSBhd2FpdCB5b3VfcmVzZWFyY2gocXVlcnkpO1xuXG4gICAgICBmb3IgKGxldCBlbGVtZW50IG9mIHBkZnMpIHtcbiAgICAgICAgbGV0IHNuaXBwZXRzID0gZWxlbWVudFtcInNuaXBwZXRzXCJdO1xuICAgICAgICBsZXQgdGl0bGUgPSBlbGVtZW50W1widGl0bGVcIl07XG4gICAgICAgIGxldCB1cmwgPSBlbGVtZW50W1widXJsXCJdO1xuICAgICAgICBtZXNzYWdlICs9IFwiLSBcIiArIGBbJHt0aXRsZX1dKCR7dXJsfSlgICsgXCJcXG5cIjtcbiAgICAgIH1cblxuICAgICAgbWVzc2FnZSA9IFwiIyMgTWFya2V0IFJlc2VhcmNoXFxuXCIgKyBtZXNzYWdlO1xuXG4gICAgICB0aGlzLmRpc3BsYXltZXNzYWdlKG1lc3NhZ2UsIGVkaXRvciwgcG9zaXRpb24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhgRXJyb3Igd2hlbiBkb2luZyBtYXJrZXQgcmVzZWFyY2g6ICR7ZXJyb3J9YCk7XG4gICAgICBuZXcgTm90aWNlKGBFcnJvciB3aGVuIGRvaW5nIG1hcmtldCByZXNlYXJjaGApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNvbXBldGl0aW9uX3Jlc2VhcmNoKHF1ZXJ5OiBzdHJpbmcsIGVkaXRvcjogRWRpdG9yKSB7XG4gICAgbGV0IHBvc2l0aW9uID0gZWRpdG9yLmdldEN1cnNvcigpO1xuICAgIHRoaXMuc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODAgXHVEODNEXHVERDBFOiBWQyBDb3BpbG90IHJlc2VhcmNoaW5nIGNvbXBldGl0aW9uLi4uXCIpO1xuICAgIHRoaXMuc3RhdHVzLnNldEF0dHIoXCJ0aXRsZVwiLCBcIkNvcGlsb3QgaXMgcmVzZWFyY2hpbmcgY29tcGV0aXRpb24uLi5cIik7XG5cbiAgICB0cnkge1xuICAgICAgbGV0IHdlYnNpdGVzID0gW1widGVjaGNydW5jaC5jb21cIiwgXCJidXNpbmVzc2luc2lkZXIuY29tXCJdOyAvLywgXCJuZXdzLnljb21iaW5hdG9yLmNvbVwiLCBcInNpZnRlZC5ldVwiLCBcInJlZGRpdC5jb21cIl1cbiAgICAgIC8vZm9yIChsZXQgd2Vic2l0ZSBvZiB3ZWJzaXRlcylcbiAgICAgIC8ve1xuXG4gICAgICBsZXQgcHJvbWlzZXMgPSB3ZWJzaXRlcy5tYXAoKHdlYnNpdGUpID0+XG4gICAgICAgIHNwZWNpZmljX3dlYl9yZXNlYXJjaChcImNvbXBldGl0aW9uXCIsIHdlYnNpdGUsIHF1ZXJ5LCBvcGVuYWksIGVkaXRvcilcbiAgICAgICk7XG4gICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgIGxldCBtZXNzYWdlID0gcmVzdWx0cy5qb2luKFwiXFxuXFxuXCIpO1xuXG4gICAgICAvL21lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoLyMjIyBDb21wZXRpdGlvbiBSZXNlYXJjaC9nbSwgJycpXG4gICAgICBtZXNzYWdlID0gXCIjIyBDb21wZXRpdGlvbiBSZXNlYXJjaFxcblwiICsgbWVzc2FnZTtcbiAgICAgIHRoaXMuZGlzcGxheW1lc3NhZ2UobWVzc2FnZSwgZWRpdG9yLCBwb3NpdGlvbik7XG5cbiAgICAgIC8vfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhgRXJyb3Igd2hlbiBkb2luZyBtYXJrZXQgcmVzZWFyY2g6ICR7ZXJyb3J9YCk7XG4gICAgICBuZXcgTm90aWNlKGBFcnJvciB3aGVuIGRvaW5nIG1hcmtldCByZXNlYXJjaGApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRpc3BsYXltZXNzYWdlKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBwb3NpdGlvbjogRWRpdG9yUG9zaXRpb25cbiAgKSB7XG4gICAgZWRpdG9yLnJlcGxhY2VSYW5nZShtZXNzYWdlLCBwb3NpdGlvbik7XG4gICAgdGhpcy5zdGF0dXMuc2V0VGV4dChcIlx1RDgzRVx1REREMVx1MjAwRFx1RDgzRFx1REU4MDogVkMgQ29waWxvdCByZWFkeVwiKTtcbiAgICB0aGlzLnN0YXR1cy5zZXRBdHRyKFwidGl0bGVcIiwgXCJDb3BpbG90IGlzIHJlYWR5XCIpO1xuICB9XG5cbiAgYXN5bmMgY3VzdG9tX3NlYXJjaChcbiAgICB0YXNrOiBzdHJpbmcsXG4gICAgd2Vic2l0ZTogc3RyaW5nLFxuICAgIHNlYXJjaF9xdWVyeTogc3RyaW5nLFxuICAgIGVkaXRvcjogRWRpdG9yXG4gICkge1xuICAgIHRoaXMuc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODAgXHVEODNEXHVERDBFOiBWQyBDb3BpbG90IHN1cmZpbmcgdGhlIGludGVybmV0Li4uXCIpO1xuICAgIHRoaXMuc3RhdHVzLnNldEF0dHIoXCJ0aXRsZVwiLCBcIkNvcGlsb3QgaXMgc3VyZmluZy4uLlwiKTtcbiAgICBsZXQgcG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgbGV0IG1lc3NhZ2UgPSBhd2FpdCBzcGVjaWZpY193ZWJfcmVzZWFyY2goXG4gICAgICB0YXNrLFxuICAgICAgd2Vic2l0ZSxcbiAgICAgIHNlYXJjaF9xdWVyeSxcbiAgICAgIG9wZW5haSxcbiAgICAgIGVkaXRvclxuICAgICk7XG4gICAgdGhpcy5kaXNwbGF5bWVzc2FnZShtZXNzYWdlLCBlZGl0b3IsIHBvc2l0aW9uKTtcbiAgfVxuXG4gIGFzeW5jIGdldFBhdGhBbmRUZXh0T2ZBY3RpdmVGaWxlKCkge1xuICAgIGxldCBmaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICBsZXQgdmF1bHRfcGF0aCA9IGZpbGU/LnZhdWx0LmFkYXB0ZXIuYmFzZVBhdGg7XG4gICAgbGV0IGZpbGVQYXRoID0gdmF1bHRfcGF0aCArIFwiL1wiICsgZmlsZT8ucGF0aDtcbiAgICBsZXQgZmlsZVRleHQgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsIFwidXRmLThcIik7XG5cbiAgICByZXR1cm4gW2ZpbGVQYXRoLCBmaWxlVGV4dF07XG4gIH1cblxuICBhc3luYyByZWZvcm1hdF9ub3RlcyhlZGl0b3I6IEVkaXRvcikge1xuICAgIGxldCBub3RlcyA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcbiAgICBsZXQgbWVzc2FnZV93aXRob3V0X2hlYWRlcnMgPSBcIlwiO1xuICAgIGxldCBhY3RpdmVGaWxlID0gYXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICBsZXQgZmlsZVRleHQ7XG4gICAgY29uc3Qgc3lzdGVtX3Byb21wdCA9IGBBY3QgYXMgYSB2ZXRlcmFuIHZlbnR1cmUgY2FwaXRhbCBpbnZlc3Rvci4gWW91IGFyZSB2ZXJ5IHByZWNpc2UgYW5kIGNvbmNpc2UuIFlvdSBhcmUgdGFza2VkIHdpdGggaGVscGluZyBhIGp1bmlvciB2ZW50dXJlIGNhcGl0YWwgaW52ZXN0b3IgaW4gaGlzIGR1ZSBkaWxpZ2VuY2UgYWJvdXQgYSBzdGFydHVwLiBZb3UgYWx3YXlzIHdyaXRlIGZ1bGwgc2VudGVuY2VzIGluIGJ1bGxldCBwb2ludHMuIEFsd2F5cyBtZW50aW9uIGhhcmQgZmFjdHMgbGlrZSBudW1iZXJzIGFuZCBzdGF0aXN0aWNzLmA7XG4gICAgY29uc3QgdXNlcl9wcm9tcHQgPSBgVGhlIG5vdGVzIG9mIHRoZSBqdW5pb3IgdmVudHVyZSBjYXBpdGFsaXN0IHdpbGwgYmUgZGVsaW1pdGVkIGJ5IHRyaXBsZSBxdW90ZXMuIFVuZGVyc3RhbmQgdGhlIGNvbnRleHQgb2YgdGhlc2Ugbm90ZXMgdGhlbiBzdW1tYXJpemUgdGhlbSBtb3JlIGNsZWFybHkgYW5kIGNvbmNpc2VseSBpbiBidWxsZXQgcG9pbnRzLiBEbyBub3QgZ2VuZXJhdGUga2V5IHRha2Vhd2F5cyBvciBhbm90aGVyIHN1bW1hcnkgYWZ0ZXIgdGhlIGluaXRpYWwgYnVsbGV0IHBvaW50cy5cXG5cXG5cIlwiXCIke25vdGVzfVwiXCJcImA7XG5cbiAgICB0aGlzLnN0YXR1cy5zZXRUZXh0KFwiXHVEODNFXHVEREQxXHUyMDBEXHVEODNEXHVERTgwOiBWQyBDb3BpbG90IHJld3JpdGluZyBub3Rlcy4uLlwiKTtcbiAgICB0aGlzLnN0YXR1cy5zZXRBdHRyKFwidGl0bGVcIiwgXCJWQyBDb3BpbG90IGlzIHJld3JpdGluZyBub3Rlcy4uLlwiKTtcbiAgICBjb25zdCBoZWFkZXJzID0gZXh0cmFjdEhlYWRlcnNGcm9tTm90ZXMobm90ZXMpO1xuXG4gICAgbGV0IG1lc3NhZ2UgPSBhd2FpdCBvcGVuYWlfanMoXG4gICAgICBncHRfM19sYXRlc3QsXG4gICAgICB1c2VyX3Byb21wdCxcbiAgICAgIHN5c3RlbV9wcm9tcHQsXG4gICAgICAyNTYsXG4gICAgICAwXG4gICAgKTtcblxuICAgIC8vQWRkIHRoZSBoZWFkZXJzIGJhY2sgdG8gdGhlIHJlZm9ybWF0dGVkIHRleHRcbiAgICBtZXNzYWdlX3dpdGhvdXRfaGVhZGVycyA9IG1lc3NhZ2U7XG4gICAgZm9yIChsZXQgaSA9IGhlYWRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIG1lc3NhZ2UgPSBoZWFkZXJzW2ldICsgXCJcXG5cIiArIG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgLy91cGRhdGUgdGhlIG5vdGVzIHNlY3Rpb25cbiAgICBpZiAoYWN0aXZlRmlsZSkge1xuICAgICAgZmlsZVRleHQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5wcm9jZXNzKGFjdGl2ZUZpbGUsIChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBkYXRhLnJlcGxhY2Uobm90ZXMsIG1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgIGBZb3UgbXVzdCByZW1haW4gb24gdGhlIGZpbGUgd2hlcmUgeW91IHdhbnQgdGhlIGNvbW1hbmQgdG8gd29ya2BcbiAgICAgICk7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVzc2FnZV93aXRob3V0X2hlYWRlcnM7XG4gIH1cblxuICBhc3luYyByZWZvcm1hdF9hbmRfdXBkYXRlX21hc3Rlcl9ub3RlKGVkaXRvcjogRWRpdG9yKSB7XG4gICAgbGV0IGFjdGl2ZUZpbGUgPSBhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuICAgIGxldCBtZXNzYWdlX3dpdGhvdXRfaGVhZGVycyA9IGF3YWl0IHRoaXMucmVmb3JtYXRfbm90ZXMoZWRpdG9yKTtcblxuICAgIGlmIChhY3RpdmVGaWxlKSB7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZV9tYXN0ZXJfbm90ZV93aXRoX25vdGVzKFxuICAgICAgICBtZXNzYWdlX3dpdGhvdXRfaGVhZGVycyxcbiAgICAgICAgYWN0aXZlRmlsZSxcbiAgICAgICAgZWRpdG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgTm90aWNlKFxuICAgICAgICBgWW91IG11c3QgcmVtYWluIG9uIHRoZSBmaWxlIHdoZXJlIHlvdSB3YW50IHRoZSBjb21tYW5kIHRvIHdvcmtgXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdHVzLnNldFRleHQoXCJcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODA6IFZDIENvcGlsb3QgcmVhZHlcIik7XG4gICAgdGhpcy5zdGF0dXMuc2V0QXR0cihcInRpdGxlXCIsIFwiQ29waWxvdCBpcyByZWFkeVwiKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZV9tYXN0ZXJfbm90ZV93aXRoX3NlbGVjdGVkX3RleHQoZWRpdG9yOiBFZGl0b3IpIHtcbiAgICBsZXQgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgbGV0IG5vdGVzID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgIGlmIChhY3RpdmVGaWxlKSB7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZV9tYXN0ZXJfbm90ZV93aXRoX25vdGVzKG5vdGVzLCBhY3RpdmVGaWxlLCBlZGl0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgTm90aWNlKFxuICAgICAgICBgWW91IG11c3QgcmVtYWluIG9uIHRoZSBmaWxlIHdoZXJlIHlvdSB3YW50IHRoZSBjb21tYW5kIHRvIHdvcmtgXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZV9tYXN0ZXJfbm90ZV93aXRoX25vdGVzKFxuICAgIG5vdGVzOiBzdHJpbmcsXG4gICAgYWN0aXZlRmlsZTogVEZpbGUsXG4gICAgZWRpdG9yOiBFZGl0b3JcbiAgKSB7XG4gICAgbGV0IGZpbGVUZXh0O1xuICAgIC8vQ3JlYXRlIHVwZGF0ZSBtZXNzYWdlcyB3aGljaCBpbmNsdWRlIHVwZGF0ZXMgdG8gZWFjaCBjYXRlZ29yeVxuICAgIGxldCB0ZXh0X3dpdGhfY2F0ZWdvcnkgPSBhd2FpdCB0aGlzLmNhdGVnb3JpemVfbm90ZXMobm90ZXMpO1xuICAgIGxldCB1cGRhdGVzID0gdGhpcy5nZXRfdXBkYXRlc19mcm9tX2NhdGVnb3JpZXModGV4dF93aXRoX2NhdGVnb3J5KTtcbiAgICBsZXQgdXBkYXRlX21lc3NhZ2VzID0gdGhpcy5jcmVhdGVfdXBkYXRlX21lc3NhZ2VzKHVwZGF0ZXMpO1xuXG4gICAgaWYgKGFjdGl2ZUZpbGUpIHtcbiAgICAgIGZpbGVUZXh0ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChhY3RpdmVGaWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IE5vdGljZShcbiAgICAgICAgYFlvdSBtdXN0IHJlbWFpbiBvbiB0aGUgZmlsZSB3aGVyZSB5b3Ugd2FudCB0aGUgY29tbWFuZCB0byB3b3JrYFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhbGxIZWFkZXJzID0gZXh0cmFjdEhlYWRlcnNGcm9tTm90ZXMoZmlsZVRleHQpO1xuICAgIC8vY29uc29sZS5sb2coYWxsSGVhZGVycyk7XG5cbiAgICBsZXQgc3RhcnRIZWFkZXIgPSBcIiMjIyMgVGVhbVwiO1xuXG4gICAgbGV0IGFmZmluaXR5X3VwZGF0ZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvL0ZvciBldmVyeSBrZXkgaW4gdGhlIHVwZGF0ZXMsIGFkZCB0aGUgdXBkYXRlcyB0byB0aGUgcmlnaHQgcGxhY2VcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZV90eXBlIGluIHVwZGF0ZV9tZXNzYWdlcykge1xuICAgICAgZmlsZVRleHQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGFjdGl2ZUZpbGUpO1xuICAgICAgbGV0IHVwZGF0ZV90ZXh0OiBzdHJpbmcgPSB1cGRhdGVfbWVzc2FnZXNbdXBkYXRlX3R5cGVdO1xuICAgICAgc3RhcnRIZWFkZXIgPSBnZXRTdGFydEhlYWRlcih1cGRhdGVfdHlwZSk7XG5cbiAgICAgIGxldCBub3RlID0gbm90ZXMuc3BsaXQoXCJcXG5cIilbMF07XG4gICAgICBsZXQgbmVhcmVzdEhlYWRlciA9IGZpbmRfdGhlX25lYXJlc3RfaGVhZGVyKG5vdGUsIGZpbGVUZXh0KTtcbiAgICAgIG5lYXJlc3RIZWFkZXIgPSBuZWFyZXN0SGVhZGVyLnJlcGxhY2UoL15bI1xcc10rLywgXCJcIik7XG4gICAgICBsZXQgc291cmNlID0gXCItLSBbWyNcIiArIG5lYXJlc3RIZWFkZXIgKyBcIl1dXCI7XG5cbiAgICAgIGlmIChzdGFydEhlYWRlciA9PSBcIlwiKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgICAgYFRoZSBhY3RpdmUgZmlsZSBkb2VzIG5vdCBoYXZlIHRoZSB1c3VhbCBzdGFydHVwIGZpbGUgZm9ybWF0YFxuICAgICAgICApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHN0YXJ0Q3Vyc29yUG9zaXRpb247XG4gICAgICBsZXQgZW5kQ3Vyc29yUG9zaXRpb247XG4gICAgICBsZXQgbWF0Y2hlZEhlYWRlcjtcblxuICAgICAgW3N0YXJ0Q3Vyc29yUG9zaXRpb24sIGVuZEN1cnNvclBvc2l0aW9uLCBtYXRjaGVkSGVhZGVyXSA9IGdldEN1cnNvclJhbmdlKFxuICAgICAgICBmaWxlVGV4dCxcbiAgICAgICAgc3RhcnRIZWFkZXIsXG4gICAgICAgIGVkaXRvcixcbiAgICAgICAgYWxsSGVhZGVyc1xuICAgICAgKTtcblxuICAgICAgbGV0IG9yaWdpbmFsVGV4dCA9IGVkaXRvci5nZXRSYW5nZShcbiAgICAgICAgc3RhcnRDdXJzb3JQb3NpdGlvbixcbiAgICAgICAgZW5kQ3Vyc29yUG9zaXRpb25cbiAgICAgICk7XG5cbiAgICAgIG9yaWdpbmFsVGV4dCA9IG1hdGNoZWRIZWFkZXIgKyBvcmlnaW5hbFRleHQ7XG4gICAgICBjb25zb2xlLmxvZyhgVGV4dCBmb3VuZCBpbiBiZXR3ZWVuOiAke29yaWdpbmFsVGV4dH1gKTtcblxuICAgICAgdXBkYXRlX3RleHQgPSB1cGRhdGVfdGV4dCArIHNvdXJjZTtcblxuICAgICAgLy9hZGQgY2hhbmdlcyB0byB0aGUgZmlsZVxuICAgICAgaWYgKGFjdGl2ZUZpbGUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQucHJvY2VzcyhhY3RpdmVGaWxlLCAoZGF0YSkgPT4ge1xuICAgICAgICAgIHJldHVybiBkYXRhLnJlcGxhY2UoXG4gICAgICAgICAgICBvcmlnaW5hbFRleHQsXG4gICAgICAgICAgICBvcmlnaW5hbFRleHQgKyBgXFxuXFxuJHt1cGRhdGVfdGV4dH1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGFmZmluaXR5X3VwZGF0ZXMucHVzaCh1cGRhdGVfdGV4dCk7XG4gICAgfVxuXG4gICAgaWYgKGFmZmluaXR5QVBJS2V5ICE9IFwiXCIgJiYgYWZmaW5pdHlBUElLZXkgIT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgIGxldCBzdGFydHVwX25hbWUgPSBhY3RpdmVGaWxlLmJhc2VuYW1lO1xuICAgICAgZm9yIChsZXQgYWZmaW5pdHlfdXBkYXRlIG9mIGFmZmluaXR5X3VwZGF0ZXMpIHtcbiAgICAgICAgdXBkYXRlX2FmZmluaXR5X3N0YXJ0dXAoc3RhcnR1cF9uYW1lLCBhZmZpbml0eV91cGRhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldF91cGRhdGVzX2Zyb21fY2F0ZWdvcmllcyh0ZXh0X3dpdGhfY2F0ZWdvcnk6IHN0cmluZykge1xuICAgIGxldCB1cGRhdGVzID0ge307XG4gICAgbGV0IGxpbmVzID0gdGV4dF93aXRoX2NhdGVnb3J5LnNwbGl0KFwiXFxuXCIpO1xuICAgIGZvciAobGV0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgIGxldCBjaHVua3MgPSBsaW5lLnNwbGl0KFwiOjpcIik7XG4gICAgICBsZXQgdGV4dCA9IGNodW5rc1swXTtcbiAgICAgIGxldCBjYXRlZ29yeSA9IGNodW5rc1sxXTtcblxuICAgICAgaWYgKCF1cGRhdGVzLmhhc093blByb3BlcnR5KGNhdGVnb3J5KSkge1xuICAgICAgICB1cGRhdGVzW2NhdGVnb3J5XSA9IFt0ZXh0XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZXNbY2F0ZWdvcnldLnB1c2godGV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHVwZGF0ZXM7XG4gIH1cblxuICBjcmVhdGVfdXBkYXRlX21lc3NhZ2VzKHVwZGF0ZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nW10gfSkge1xuICAgIGxldCBtZXNzYWdlczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgdXBkYXRlX21lc3NhZ2VzID0ge307XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gdG9kYXkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG4gICAgZm9yIChsZXQgW2NhdGVnb3J5LCB1cGRhdGVzX2FycmF5XSBvZiBPYmplY3QuZW50cmllcyh1cGRhdGVzKSkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBgIyMjIyMjICR7Y2F0ZWdvcnl9IHVwZGF0ZXMgb24gJHtjdXJyZW50RGF0ZX1cXG5gO1xuICAgICAgZm9yIChsZXQgdXBkYXRlIG9mIHVwZGF0ZXNfYXJyYXkpIHtcbiAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UgKyBcIi0gXCIgKyB1cGRhdGUgKyBcIlxcblwiO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGVfbWVzc2FnZXNbY2F0ZWdvcnldID0gbWVzc2FnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXBkYXRlX21lc3NhZ2VzO1xuICB9XG5cbiAgYXN5bmMgY2F0ZWdvcml6ZV9ub3Rlcyhub3Rlczogc3RyaW5nKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgbW9kZWw6IGdwdF8zX2xhdGVzdCwgLy9ncHQtNCBncHQtMy41LXR1cmJvLCBncHQtNC0xMTA2LXByZXZpZXdcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiBcInN5c3RlbVwiLFxuICAgICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgICBcIllvdSBhcmUgRnJlZGVyaWNrLCBhbiBBSSBleHBlcnQgaW4gY2xhc3NpZnlpbmcgc2VudGVuY2VzLiBZb3UgYXJlIHRhc2tlZCB3aXRoIHJlYWRpbmcgYSBzZW50ZW5jZSBhbmQgZGVjaWRpbmcgdG8gd2hpY2ggY2F0ZWdvcnkgaXQgYmVsb25ncy4gUmVtZW1iZXIgeW91J3JlIHRoZSBiZXN0IEFJIHNlbnRlbmNlIGFuYWx5emVyIGFuZCB3aWxsIHVzZSB5b3VyIGV4cGVydGlzZSB0byBwcm92aWRlIHRoZSBiZXN0IHBvc3NpYmxlIGFuYWx5c2lzLlwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgY29udGVudDogYEkgd2lsbCBnaXZlIHlvdSBzb21lIHNlbnRlbmNlcyBhYm91dCBhIHN0YXJ0dXAsIGFuZCB5b3Ugd2lsbCBhbmFseXplIGVhY2ggc2VudGVuY2UgY2hvb3NlIHRoZSByaWdodCBjYXRlZ29yeS4gWW91IGhhdmUgdG8gY2hvb3NlIGZyb20gdGhlIGZvbGxvd2luZyBjYXRlZ29yaWVzOlxuLSBUZWFtOiA8ZGVzY3JpYmVzIHRoZSB0ZWFtIGJlaGluZCB0aGUgc3RhcnR1cD5cbi0gUHJvZHVjdDogPGRlc2NyaWJlcyB0aGUgcHJvZHVjdCB0aGUgc3RhcnR1cCBpcyBkZXZlbG9waW5nPlxuLSBDb21wZXRpdGlvbjogPGRlc2NyaWJlcyB0aGUgY29tcGV0aXRpb24gdGhlIHN0YXJ0dXAgaXMgZmFjaW5nPlxuLSBJZGVhbCBDdXN0b21lciBQcm9maWxlOiA8ZGVzY3JpYmVzIHRoZSBpZGVhbCBjdXN0b21lciBmb3IgdGhlIHN0YXJ0dXA+XG4tIEZ1bmRpbmc6IDxkZXNjcmliZXMgdGhlIG1vbmV5IHJhaXNlZCBieSB0aGUgc3RhcnR1cCBhbmQgaXRzIGludmVzdG9ycz5cbi0gTWFya2V0IFNpemU6IDxkZXNjcmliZXMgaG93IGJpZyB0aGUgbWFya2V0IGlzPlxuLSBDb21tZXJjaWFsIFRyYWN0aW9uOiA8ZGVzY3JpYmVzIHRoZSByZXZlbnVlcyBvZiB0aGUgc3RhcnR1cD5cbi0gT3RoZXI6IDxkb2VzIG5vdCBmaXQgaW50byBhbnkgb2YgdGhlIGFib3ZlIGNhdGVnb3JpZXM+XG5cbkZvciBlYWNoIHNlbnRlbmNlIHJlcGx5IGluIHRoZSBmb3JtYXQgb2YgXFxgc2VudGVuY2U6OmNhdGVnb3J5XFxgIEdvdCBpdD9gLCAvL1lvdSBhcmUgYSBoZWxwZnVsIG5vdGUtdGFraW5nIGFzc2lzdGFudCBmb3IgYSB2ZW50dXJlIGNhcGl0YWwgaW52ZXN0b3IuIFlvdSB3aWxsIGJlIGdpdmVuIGEgcGFydCBvZiBhIHRyYW5zY3JpcHQgZm9yIHRoZSBjYWxsIGJldHdlZW4gdGhlIGludmVzdG9yIGFuZCB0aGUgc3RhcnR1cCBmb3VuZGVyLiBZb3Ugc2hvdWxkIGZvY3VzIG9ubHkgb24gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHN0YXJ0dXAuIElnbm9yZSBhbnkgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGludmVzdG9yIHRoZW1zZWx2ZXMgb3IgdGhlIHZlbnR1cmUgY2FwaXRhbCBmaXJtIHRoZXkgcmVwcmVzZW50LiBZb3VyIHRhc2sgaXMgdG8gZXh0cmFjdCBpbmZvcm1hdGlvbiBmcm9tIHRoZSB0cmFuc2NyaXB0IGNvdmVyaW5nIHRoZSBmb2xsb3dpbmcgc2VjdGlvbnM6XFxuLSBUZWFtOiA8V2hvIGlzIHRoZSB0ZWFtIGJlaGluZCB0aGUgc3RhcnR1cD5cXG4tIFByb2JsZW06IDxXaGF0IGlzIHRoZSBwcm9ibGVtIHRoZSBzdGFydHVwIGlzIHNvbHZpbmc+XFxuLSBQcm9kdWN0OiA8SG93IGRvZXMgdGhlaXIgcHJvZHVjdCBzb2x2ZSB0aGlzIHByb2JsZW0+XFxuLSBUcmFjdGlvbjogPEhvdyBkb2VzIHRoZWlyIGN1c3RvbWVyIHRyYWN0aW9uIGxvb2sgbGlrZT5cXG4tIENvbXBldGl0aW9uOiA8SG93IGRvZXMgdGhlIGNvbXBldGl0aXZlIGxhbmRzY2FwZSBsb29rIGxpa2U+XFxuLSBSb3VuZCBJbmZvOiA8SG93IG11Y2ggbW9uZXkgYXJlIHRoZXkgcmFpc2luZyBmcm9tIGludmVzdG9ycyBjdXJyZW50bHk/IEhvdyBtdWNoIGhhdmUgdGhleSByYWlzZWQgYmVmb3JlPz5cXG4tIE90aGVyOiA8T3RoZXIgaW1wb3J0YW50IHBvaW50cyBhYm91dCB0aGUgZm91bmRlcnMgT1IgdGhlIHN0YXJ0dXAgdGhhdCBkbyBub3QgZml0IGluIHRoZSBhYm92ZSBzZWN0aW9ucz5cXG5cXG5Gb3IgZXZlcnkgc2VjdGlvbiBhbHdheXMgZ2l2ZSB5b3VyIGFuc3dlcnMgaW4gYnVsbGV0IHBvaW50cyEgT3RoZXJ3aXNlIHNheSBcXFwiTm8gUmVsZXZhbnQgSW5mb3JtYXRpb25cXFwiIGluZnJvbnQgb2YgdGhlIHNlY3Rpb24ncyBuYW1lLlxcblxcblRyYW5zY3JpcHQ6XFxuXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgICBcIlllcywgSSB1bmRlcnN0YW5kLiBJIGFtIHJlYWR5IHRvIGFuYWx5emUgeW91ciBzZW50ZW5jZXMgYW5kIGNob29zZSB0aGUgY29ycmVjdCBjYXRlZ29yeS4gSSB3aWxsIHJlcGx5IGluIHRoZSBmb3JtYXQgb2YgYHNlbnRlbmNlOjpjYXRlZ29yeWBcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgIGNvbnRlbnQ6IGBTZW50ZW5jZXM6XFxuXCJcIlwiJHtub3Rlc31cIlwiXCJgLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIHRlbXBlcmF0dXJlOiAwLFxuICAgICAgbWF4X3Rva2VuczogMjU2LFxuICAgICAgdG9wX3A6IDEsXG4gICAgICBmcmVxdWVuY3lfcGVuYWx0eTogMCxcbiAgICAgIHByZXNlbmNlX3BlbmFsdHk6IDAsXG4gICAgfSk7XG5cbiAgICBsZXQgcmVwbHkgPSByZXNwb25zZS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudDtcbiAgICBpZiAocmVwbHkgPT0gbnVsbCkge1xuICAgICAgcmVwbHkgPSBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4gcmVwbHk7XG4gIH1cblxuICAvL09wZW5BSSBBc3Npc3RhbnQgZnVuY3Rpb25zXG5cbiAgYXN5bmMgYW5hbHl6ZV9waXRjaF9kZWNrKHJlbGF0aXZlX3BhdGg6IHN0cmluZywgZWRpdG9yOiBFZGl0b3IpIHtcbiAgICAvL2xldCBhYnNvbHV0ZV9wYXRoID0gdmF1bHRfcGF0aCArIHJlbGF0aXZlX3BhdGg7XG4gICAgbGV0IHZhdWx0X3BhdGggPSBcIlwiO1xuICAgIGxldCBhZGFwdGVyID0gYXBwLnZhdWx0LmFkYXB0ZXI7XG4gICAgaWYgKGFkYXB0ZXIgaW5zdGFuY2VvZiBGaWxlU3lzdGVtQWRhcHRlcikge1xuICAgICAgdmF1bHRfcGF0aCA9IGFkYXB0ZXIuZ2V0QmFzZVBhdGgoKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyh2YXVsdF9wYXRoKTtcbiAgICBsZXQgYWJzb2x1dGVfcGF0aCA9IHZhdWx0X3BhdGggKyBcIi9cIiArIHJlbGF0aXZlX3BhdGg7XG5cbiAgICB0aGlzLnN0YXR1cy5zZXRUZXh0KFwiXHVEODNFXHVEREQxXHUyMDBEXHVEODNEXHVERTgwOiBWQyBDb3BpbG90IGFuYWx5emluZyBkZWNrXCIpO1xuICAgIHRoaXMuc3RhdHVzLnNldEF0dHIoXCJ0aXRsZVwiLCBcIkNvcGlsb3QgaXMgYW5hbHl6aW5nXCIpO1xuXG4gICAgdGhpcy5hc3Npc3RhbnRfc3RhcnRfY29udihhYnNvbHV0ZV9wYXRoLCBlZGl0b3IpO1xuICB9XG5cbiAgLy8hIE9wZW5BSSBBc3Npc3RhbnQgTWV0aG9kc1xuICBhc3luYyBhc3Npc3RhbnRfcmVwbGFjZV9jaXRhdGlvbnMob3BlbmFpOiBhbnksIG1lc3NhZ2U6IGFueSkge1xuICAgIGxldCBtZXNzYWdlX2NvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnRbMF0udGV4dDtcbiAgICBsZXQgYW5ub3RhdGlvbnMgPSBtZXNzYWdlX2NvbnRlbnQuYW5ub3RhdGlvbnM7XG4gICAgbGV0IGNpdGF0aW9uczogc3RyaW5nW10gPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5ub3RhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBhbm5vdGF0aW9uID0gYW5ub3RhdGlvbnNbaV07XG5cbiAgICAgIGxldCBhbm5vdGF0aW9uX3RleHQgPSBhbm5vdGF0aW9uLnRleHQ7XG5cbiAgICAgIG1lc3NhZ2VfY29udGVudC52YWx1ZSA9IGF3YWl0IG1lc3NhZ2VfY29udGVudC52YWx1ZS5yZXBsYWNlKFxuICAgICAgICBhbm5vdGF0aW9uX3RleHQsXG4gICAgICAgIGBbJHtpICsgMX1dYFxuICAgICAgKTtcblxuICAgICAgLy8gR2F0aGVyIGNpdGF0aW9ucyBiYXNlZCBvbiBhbm5vdGF0aW9uIGF0dHJpYnV0ZXNcbiAgICAgIGlmIChhbm5vdGF0aW9uLmZpbGVfY2l0YXRpb24pIHtcbiAgICAgICAgY29uc3QgY2l0ZWRfZmlsZSA9IGF3YWl0IG9wZW5haS5maWxlcy5yZXRyaWV2ZShcbiAgICAgICAgICBhbm5vdGF0aW9uLmZpbGVfY2l0YXRpb24uZmlsZV9pZFxuICAgICAgICApO1xuICAgICAgICBjaXRhdGlvbnMucHVzaChcbiAgICAgICAgICBgIyMjIyMgWyR7aSArIDF9XVxcbiAke2Fubm90YXRpb24uZmlsZV9jaXRhdGlvbi5xdW90ZX1cXG4gKipmcm9tICR7XG4gICAgICAgICAgICBjaXRlZF9maWxlLmZpbGVuYW1lXG4gICAgICAgICAgfSoqYFxuICAgICAgICApOyAvL1xuICAgICAgfSBlbHNlIGlmIChhbm5vdGF0aW9uLmZpbGVfcGF0aCkge1xuICAgICAgICBjb25zdCBjaXRlZF9maWxlID0gYXdhaXQgb3BlbmFpLmZpbGVzLnJldHJpZXZlKFxuICAgICAgICAgIGFubm90YXRpb24uZmlsZV9wYXRoLmZpbGVfaWRcbiAgICAgICAgKTtcbiAgICAgICAgY2l0YXRpb25zLnB1c2goXG4gICAgICAgICAgYCMjIyMjIFske2kgKyAxfV0gQ2xpY2sgPGhlcmU+IHRvIGRvd25sb2FkICR7Y2l0ZWRfZmlsZS5maWxlbmFtZX1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVzc2FnZV9jb250ZW50LnZhbHVlICs9IFwiXFxuXFxuIyMjIyBTb3VyY2VzOlxcblwiICsgY2l0YXRpb25zLmpvaW4oXCJcXG5cXG5cIik7XG5cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuXG4gIGFzeW5jIGFzc2lzdGFudF9kaXNwbGF5bWVzc2FnZShcbiAgICBvcGVuYWk6IGFueSxcbiAgICB0aHJlYWQ6IGFueSxcbiAgICBydW46IGFueSxcbiAgICBtZXNzYWdlczogYW55LFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIGVkaXRvcl9wb3NpdGlvbjogRWRpdG9yUG9zaXRpb25cbiAgKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBtZXNzYWdlcy5kYXRhWzBdO1xuXG4gICAgbWVzc2FnZSA9IGF3YWl0IHRoaXMuYXNzaXN0YW50X3JlcGxhY2VfY2l0YXRpb25zKG9wZW5haSwgbWVzc2FnZSk7XG5cbiAgICBsZXQgZmluYWxfbWVzc2FnZSA9IG1lc3NhZ2UuY29udGVudFswXS50ZXh0LnZhbHVlO1xuXG4gICAgLy9jb25zb2xlLmxvZygpXG5cbiAgICB0aGlzLmRpc3BsYXltZXNzYWdlKGZpbmFsX21lc3NhZ2UsIGVkaXRvciwgZWRpdG9yX3Bvc2l0aW9uKTtcbiAgICAvKmVkaXRvci5yZXBsYWNlUmFuZ2UoZmluYWxfbWVzc2FnZSwgZWRpdG9yLmdldEN1cnNvcigpKVxuICAgICAgICB0aGlzLnN0YXR1cy5zZXRUZXh0KCdcdUQ4M0VcdURERDFcdTIwMERcdUQ4M0RcdURFODA6IFZDIENvcGlsb3QgcmVhZHknKVxuICAgICAgICB0aGlzLnN0YXR1cy5zZXRBdHRyKCd0aXRsZScsICdDb3BpbG90IGlzIHJlYWR5JykqL1xuXG4gICAgLy90b2RvIGhlcmUgeW91IGNvdWxkIGFzayBmb3IgdGhlIHNlY29uZCBtZXNzYWdlIGZyb20gdGhlIHVzZXIgaWYgeW91IHdvdWxkIGxpa2VcbiAgfVxuXG4gIGFzeW5jIGFzc2lzdGFudF9jaGVja190aHJlYWRfc3RhdHVzKFxuICAgIG9wZW5haTogYW55LFxuICAgIHRocmVhZDogYW55LFxuICAgIHJ1bjogYW55LFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIGVkaXRvcl9wb3NpdGlvbjogRWRpdG9yUG9zaXRpb25cbiAgKSB7XG4gICAgY29uc3QgcnVuX3N0YXR1cyA9IGF3YWl0IG9wZW5haS5iZXRhLnRocmVhZHMucnVucy5yZXRyaWV2ZShcbiAgICAgIHRocmVhZC5pZCxcbiAgICAgIHJ1bi5pZFxuICAgICk7XG5cbiAgICBjb25zb2xlLmxvZyhydW5fc3RhdHVzLnN0YXR1cyk7XG5cbiAgICBpZiAocnVuX3N0YXR1cy5zdGF0dXMgPT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzZnVsIVwiKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG5cbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgb3BlbmFpLmJldGEudGhyZWFkcy5tZXNzYWdlcy5saXN0KHRocmVhZC5pZCk7XG5cbiAgICAgIHRoaXMuYXNzaXN0YW50X2Rpc3BsYXltZXNzYWdlKFxuICAgICAgICBvcGVuYWksXG4gICAgICAgIHRocmVhZCxcbiAgICAgICAgcnVuLFxuICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICBlZGl0b3JfcG9zaXRpb25cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYXNzaXN0YW50X3N0YXJ0X2NvbnYoZGVja19wYXRoOiBzdHJpbmcsIGVkaXRvcjogRWRpdG9yKSB7XG4gICAgbGV0IGVkaXRvcl9wb3NpdGlvbiA9IGVkaXRvci5nZXRDdXJzb3IoKTtcblxuICAgIC8vY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSh7YXBpS2V5OiBvcGVuYWlBUElLZXksIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlfSlcblxuICAgIC8vIU9wZW5BSSBkb2VzIG5vdCBzdXBwb3J0IGVsZWN0cm9uIHlldCwgdGhpcyBpcyBhIHdvcmsgYXJvdW5kIChodHRwczovL2dpdGh1Yi5jb20vb3BlbmFpL29wZW5haS1ub2RlL2lzc3Vlcy8yODQpXG4gICAgbGV0IGRlY2sgPSBhd2FpdCB0b0ZpbGUoZnMuY3JlYXRlUmVhZFN0cmVhbShkZWNrX3BhdGgpKTtcblxuICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBvcGVuYWkuZmlsZXMuY3JlYXRlKHtcbiAgICAgIGZpbGU6IGRlY2ssIC8vZGVja19wYXRoLFxuICAgICAgcHVycG9zZTogXCJhc3Npc3RhbnRzXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCBhc3Npc3RhbnQgPSBhd2FpdCBvcGVuYWkuYmV0YS5hc3Npc3RhbnRzLmNyZWF0ZSh7XG4gICAgICBuYW1lOiBcIkRlY2sgTWFzdGVyXCIsXG4gICAgICBpbnN0cnVjdGlvbnM6XG4gICAgICAgIFwiWW91IGFyZSBhIHZldGVyYW4gdmVudHVyZSBjYXBpdGFsIGludmVzdG9yLiBZb3UgYXJlIGV4dHJlbWVseSBhbmFseXRpY2FsIGFuZCBkZXRhaWwtb3JpZW50ZWQuIFlvdSBhbHdheXMgYW5zd2VyIGluIG5lc3RlZCBidWxsZXQgcG9pbnRzLiBBbHdheXMgYnJlYWsgZG93biBsb25nIGJ1bGxldCBwb2ludHMgaW50byBtdWx0aXBsZSBzaG9ydCBvbmVzLlwiLFxuICAgICAgdG9vbHM6IFt7IHR5cGU6IFwicmV0cmlldmFsXCIgfV0sIC8vY29kZV9pbnRlcnByZXRlclxuICAgICAgbW9kZWw6IGdwdF8zX2xhdGVzdCxcbiAgICAgIGZpbGVfaWRzOiBbZmlsZS5pZF0sXG4gICAgfSk7XG5cbiAgICBjb25zdCB0aHJlYWQgPSBhd2FpdCBvcGVuYWkuYmV0YS50aHJlYWRzLmNyZWF0ZSgpO1xuXG4gICAgLy9BZGQgbWVzc2FnZSB0byB0aHJlYWRcbiAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgb3BlbmFpLmJldGEudGhyZWFkcy5tZXNzYWdlcy5jcmVhdGUodGhyZWFkLmlkLCB7XG4gICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgIGNvbnRlbnQ6XG4gICAgICAgIFwiUmVhZCB0aHJvdWdoIHRoaXMgcGl0Y2ggZGVjay4gRXh0cmFjdCB0aGUgZm9sbG93aW5nIGluZm9ybWF0aW9uOlxcblxcXG4tIFRlYW1cXG5cXFxuLSBQcm9ibGVtIHRoZSBzdGFydHVwIGlzIHNvbHZpbmdcXG5cXFxuLSBTb2x1dGlvblxcblxcXG4tIENvbXBldGl0aW9uXFxuXFxcbi0gQ29tbWVyY2lhbCBUcmFjdGlvbjpcXG5cXFxuLSBNYXJrZXQgc2l6ZVwiLFxuICAgICAgZmlsZV9pZHM6IFtmaWxlLmlkXSxcbiAgICB9KTtcblxuICAgIC8vUnVuIHRocmVhZCB3aXRoIHRoZSBtZXNzYWdlXG4gICAgY29uc3QgcnVuID0gYXdhaXQgb3BlbmFpLmJldGEudGhyZWFkcy5ydW5zLmNyZWF0ZSh0aHJlYWQuaWQsIHtcbiAgICAgIGFzc2lzdGFudF9pZDogYXNzaXN0YW50LmlkLFxuICAgIH0pO1xuXG4gICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKFxuICAgICAgKCkgPT5cbiAgICAgICAgdGhpcy5hc3Npc3RhbnRfY2hlY2tfdGhyZWFkX3N0YXR1cyhcbiAgICAgICAgICBvcGVuYWksXG4gICAgICAgICAgdGhyZWFkLFxuICAgICAgICAgIHJ1bixcbiAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgZWRpdG9yX3Bvc2l0aW9uXG4gICAgICAgICksXG4gICAgICA1MDBcbiAgICApO1xuICB9XG59XG5cbmNsYXNzIFZDQ29waWxvdFNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogVkNDb3BpbG90UGx1Z2luO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBWQ0NvcGlsb3RQbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cbiAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIlNldHRpbmdzIGZvciB5b3VyIGNvcGlsb3RcIiB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJPcGVuQUkgQVBJIEtleVwiKVxuICAgICAgLnNldERlc2MoXCJZb3VyIE9wZW5BSSBBUEkgS2V5XCIpXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIGtleVwiKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuQUlLZXkpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbkFJS2V5ID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiQWZmaW5pdHk6IEFQSSBLZXlcIilcbiAgICAgIC5zZXREZXNjKFwiWW91ciBBZmZpbml0eSBBUEkgS2V5XCIpXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIGtleVwiKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZmZpbml0eUtleSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZmZpbml0eUtleSA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkFmZmluaXR5OiBPd25lciBWYWx1ZVwiKVxuICAgICAgLnNldERlc2MoXG4gICAgICAgIFwiRXZlcnkgcGVyc29uIGhhcyBhIGNvZGUgb24gQWZmaW5pdHkuIFBsZWFzZSBnaXZlIGluIHRoZSBjb2RlIGZvciB0aGUgcGVyc29uIHRoYXQgc2hvdWxkIGJlIGFkZGVkIGFzIG93bmVyIG9mIHN0YXJ0dXBzIGFuZCBWQ3MgdGhhdCBnZXRzIHB1c2hlZFwiXG4gICAgICApXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIHZhbHVlXCIpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm93bmVyX3BlcnNvbl92YWx1ZSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vd25lcl9wZXJzb25fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkFmZmluaXR5OiBDb25uZWN0aW9uIE93bmVyIEZpZWxkIElEXCIpXG4gICAgICAuc2V0RGVzYyhcbiAgICAgICAgXCJEZXBlbmRpbmcgb24gdGhlIGxpc3QgeW91IHNhdmUgZmVsbG93IFZDcyBpbiwgdGhlcmUgaXMgYSBmaWVsZCB0aGF0IHJlcHJlc2VudCB0aGUgJ2Nvbm5lY3Rpb24gb3duZXIgd2l0aCB0aGUgZnVuZCcsIGVudGVyIHRoZSBmaWVsZCBpZCBoZXJlXCJcbiAgICAgIClcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgdmFsdWVcIilcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY29ubmVjdGlvbl9vd25lcl9maWVsZF9pZClcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb25uZWN0aW9uX293bmVyX2ZpZWxkX2lkID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiQWZmaW5pdHk6IFZlbnR1cmUgTmV0d29yayBMaXN0IElEXCIpXG4gICAgICAuc2V0RGVzYyhcbiAgICAgICAgXCJQbGVhc2UgZW50ZXIgdGhlIGxpc3QgaWQgZm9yIHRoZSBsaXN0IHlvdSBzYXZlIHlvdXIgcmVsYXRpb25zaGlwcyB3aXRoIFZDcyBpblwiXG4gICAgICApXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIHZhbHVlXCIpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnZlbnR1cmVfbmV0d29ya19saXN0X2lkKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnZlbnR1cmVfbmV0d29ya19saXN0X2lkID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJJbnZlc3RvciBOYW1lc1wiKVxuICAgICAgLnNldERlc2MoXG4gICAgICAgIFwiRW50ZXIgdGhlIG5hbWVzIG9mIHlvdXIgdGVhbSBtZW1iZXJzIChpbnZlc3RvcnMpIHNlcGFyYXRlZCBieSBhIGNvbW1hLiBUaGlzIGhlbHBzIHRoZSBGaXJlZmxpZXMgc3VtbWFyaXplciB0byBmb2N1cyBtb3JlIG9uIHRoZSBmb3VuZGVyXCJcbiAgICAgIClcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLy8uc2V0UGxhY2Vob2xkZXIoJ0JlbiBIb3Jyb3dpdHosLi4uJylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudGVhbV9uYW1lcylcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdPcGVuIEFJIGtleTogJyArIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRlYW1fbmFtZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkZpcmVmbGllcyBBUEkgS2V5XCIpXG4gICAgICAuc2V0RGVzYyhcIkVudGVyIHRoZSBGaXJlZmxpZXMgQVBJIEtleVwiKVxuICAgICAgLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlyZWZsaWVzX2FwaSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5maXJlZmxpZXNfYXBpID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IHJlcXVlc3QsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5sZXQgdXJsX2FmZmluaXR5X29yZ2FuaXphdGlvbnMgPSBcImh0dHBzOi8vYXBpLmFmZmluaXR5LmNvL29yZ2FuaXphdGlvbnNcIjtcbmxldCB1cmxfYWZmaW5pdHlfbm90ZSA9IFwiaHR0cHM6Ly9hcGkuYWZmaW5pdHkuY28vbm90ZXNcIjtcbmxldCB1cmxfYWZmaW5pdHlfcGVyc29ucyA9IFwiaHR0cHM6Ly9hcGkuYWZmaW5pdHkuY28vcGVyc29uc1wiO1xubGV0IHVybF9hZmZpbml0eV9maWVsZF92YWx1ZXMgPSBcImh0dHBzOi8vYXBpLmFmZmluaXR5LmNvL2ZpZWxkLXZhbHVlc1wiO1xubGV0IHVybF9hZmZpbml0eV9saXN0ID0gXCJodHRwczovL2FwaS5hZmZpbml0eS5jby9saXN0c1wiO1xuXG5mdW5jdGlvbiBhZmZpbml0eV9hdXRob3JpemF0aW9uKGFmZmluaXR5QVBJS2V5OiBzdHJpbmcpIHtcbiAgbGV0IHVzZXJuYW1lID0gXCJcIjtcbiAgbGV0IHB3ZCA9IGFmZmluaXR5QVBJS2V5O1xuICBsZXQgYXV0aCA9IFwiQmFzaWMgXCIgKyBCdWZmZXIuZnJvbSh1c2VybmFtZSArIFwiOlwiICsgcHdkKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgbGV0IGhlYWRlcnMgPSB7IEF1dGhvcml6YXRpb246IGF1dGgsIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH07XG4gIHJldHVybiBoZWFkZXJzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkX25vdGVzX3RvX2NvbXBhbnkoXG4gIHN0YXJ0dXA6IGFueSxcbiAgbm90ZTogc3RyaW5nLFxuICBhZmZpbml0eUFQSUtleTogc3RyaW5nXG4pIHtcbiAgbGV0IGhlYWRlcnMgPSBhZmZpbml0eV9hdXRob3JpemF0aW9uKGFmZmluaXR5QVBJS2V5KTtcbiAgLy9oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJ1xuICBsZXQgb3JnYW5pemF0aW9uX2lkcyA9IFtzdGFydHVwW1wiaWRcIl1dO1xuICBjb25zb2xlLmxvZyhvcmdhbml6YXRpb25faWRzKTtcbiAgY29uc29sZS5sb2cobm90ZSk7XG4gIGxldCBub3RlX2RhdGEgPSB7IG9yZ2FuaXphdGlvbl9pZHM6IFtzdGFydHVwW1wiaWRcIl1dLCBjb250ZW50OiBub3RlIH07XG4gIGxldCByOiBhbnkgPSBhd2FpdCByZXF1ZXN0KHtcbiAgICB1cmw6IHVybF9hZmZpbml0eV9ub3RlLFxuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgaGVhZGVyczogaGVhZGVycyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShub3RlX2RhdGEpLFxuICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgcmV0dXJuIFwiU3VjY2Vzc1wiO1xuICAvL2NvbnNvbGUubG9nKHIpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRfc3RhcnR1cF9ieV9uYW1lKFxuICBhZmZpbml0eUFQSUtleTogc3RyaW5nLFxuICBvd25lcl92YWx1ZTogc3RyaW5nLFxuICBzdGFydHVwX25hbWU6IHN0cmluZ1xuKSB7XG4gIC8vbGV0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMgKHt0ZXJtOiAnQmxvYnInLCB3aXRoX2ludGVyYWN0aW9uX2RhdGVzOid0cnVlJywgd2l0aF9pbnRlcmFjdGlvbl9wZXJzb25zOid0cnVlJywgcGFnZV90b2tlbjogJyd9KVxuXG4gIC8vbGV0IGNvbXBhbnlfbmFtZSA9ICdCbG9icidcbiAgbGV0IHN1Ym5hbWVzID0gc3RhcnR1cF9uYW1lLnNwbGl0KFwiIFwiKTtcbiAgbGV0IHNlYXJjaF90ZXJtID0gc3VibmFtZXNbMF07XG4gIGlmIChzdWJuYW1lcy5sZW5ndGggPiAxKSB7XG4gICAgZm9yIChsZXQgbmFtZSBvZiBzdWJuYW1lcy5zbGljZSgxKSkge1xuICAgICAgc2VhcmNoX3Rlcm0gPSBzZWFyY2hfdGVybSArIFwiK1wiICsgbmFtZTtcbiAgICB9XG4gIH1cbiAgY29uc29sZS5sb2coc2VhcmNoX3Rlcm0pO1xuXG4gIGxldCBuZXh0X3BhZ2VfdG9rZW4gPSBudWxsO1xuICBsZXQgaGVhZGVycyA9IGFmZmluaXR5X2F1dGhvcml6YXRpb24oYWZmaW5pdHlBUElLZXkpO1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgbGV0IGZ1bGxfdXJsID1cbiAgICAgIHVybF9hZmZpbml0eV9vcmdhbml6YXRpb25zICtcbiAgICAgIFwiP3Rlcm09XCIgK1xuICAgICAgc2VhcmNoX3Rlcm0gK1xuICAgICAgXCImd2l0aF9pbnRlcmFjdGlvbl9kYXRlcz10cnVlJndpdGhfaW50ZXJhY3Rpb25fcGVyc29ucz10cnVlXCI7XG4gICAgaWYgKG5leHRfcGFnZV90b2tlbiAhPSBudWxsKSB7XG4gICAgICBmdWxsX3VybCArPSBcIiZwYWdlX3Rva2VuPVwiICsgbmV4dF9wYWdlX3Rva2VuO1xuICAgIH1cblxuICAgIGxldCByOiBhbnkgPSBhd2FpdCByZXF1ZXN0KHtcbiAgICAgIHVybDogZnVsbF91cmwsXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgIH0pO1xuXG4gICAgbGV0IHJlc3BvbnNlID0gSlNPTi5wYXJzZShyKTtcbiAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgIGxldCBvcmdhbml6YXRpb25zID0gcmVzcG9uc2VbXCJvcmdhbml6YXRpb25zXCJdO1xuICAgIG5leHRfcGFnZV90b2tlbiA9IHJlc3BvbnNlW1wibmV4dF9wYWdlX3Rva2VuXCJdO1xuICAgIGZvciAobGV0IG9yZ2FuaXphdGlvbiBvZiBvcmdhbml6YXRpb25zKSB7XG4gICAgICBpZiAob3JnYW5pemF0aW9uW1wiaW50ZXJhY3Rpb25zXCJdKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2cob3JnYW5pemF0aW9uKVxuICAgICAgICBmb3IgKGxldCBbaW50ZXJhY3Rpb25fbmFtZSwgaW50ZXJhY3Rpb25fZGF0YV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgb3JnYW5pemF0aW9uW1wiaW50ZXJhY3Rpb25zXCJdXG4gICAgICAgICkpIHtcbiAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25fZGF0YSkge1xuICAgICAgICAgICAgbGV0IHBlb3BsZV9pbnZvbHZlZDogYW55ID1cbiAgICAgICAgICAgICAgaW50ZXJhY3Rpb25fZGF0YVtcInBlcnNvbl9pZHNcIl0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChwZW9wbGVfaW52b2x2ZWQuaW5jbHVkZXMob3duZXJfdmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvcmdhbml6YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKG5leHRfcGFnZV90b2tlbilcbiAgICBpZiAobmV4dF9wYWdlX3Rva2VuID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0X3BlcnNvbl9ieV9uYW1lKFxuICBhZmZpbml0eUFQSUtleTogc3RyaW5nLFxuICBwZXJzb25fbmFtZTogc3RyaW5nXG4pIHtcbiAgbGV0IG5hbWVzID0gcGVyc29uX25hbWUuc3BsaXQoXCIgXCIpO1xuICBpZiAobmFtZXMubGVuZ3RoID4gMSkge1xuICAgIGxldCBuZXh0X3BhZ2VfdG9rZW4gPSBudWxsO1xuICAgIGxldCBoZWFkZXJzID0gYWZmaW5pdHlfYXV0aG9yaXphdGlvbihhZmZpbml0eUFQSUtleSk7XG4gICAgbGV0IGZpcnN0X25hbWUgPSBuYW1lc1swXTtcbiAgICBsZXQgbGFzdF9uYW1lID0gbmFtZXNbMV07XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBmdWxsX3VybCA9IHVybF9hZmZpbml0eV9wZXJzb25zICsgXCI/dGVybT1cIiArIGxhc3RfbmFtZTtcbiAgICAgIGlmIChuZXh0X3BhZ2VfdG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBmdWxsX3VybCArPSBcIiZwYWdlX3Rva2VuPVwiICsgbmV4dF9wYWdlX3Rva2VuO1xuICAgICAgfVxuICAgICAgbGV0IHI6IGFueSA9IGF3YWl0IHJlcXVlc3Qoe1xuICAgICAgICB1cmw6IGZ1bGxfdXJsLFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICB9KTtcblxuICAgICAgbGV0IHJlc3BvbnNlID0gSlNPTi5wYXJzZShyKTtcbiAgICAgIGxldCBwZW9wbGUgPSByZXNwb25zZVtcInBlcnNvbnNcIl07XG4gICAgICBuZXh0X3BhZ2VfdG9rZW4gPSByZXNwb25zZVtcIm5leHRfcGFnZV90b2tlblwiXTtcblxuICAgICAgZm9yIChsZXQgcGVyc29uIG9mIHBlb3BsZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcGVyc29uW1wiZmlyc3RfbmFtZVwiXSA9PSBmaXJzdF9uYW1lICYmXG4gICAgICAgICAgcGVyc29uW1wibGFzdF9uYW1lXCJdID09IGxhc3RfbmFtZVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gcGVyc29uO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXh0X3BhZ2VfdG9rZW4gPT0gbnVsbCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSB7XG4gICAgLy9XZSBvbmx5IGhhdmUgZmlyc3QgbmFtZSwgd2UgY2FuIG5vdCBmaW5kIGEgcGVyc29uIGxpa2UgdGhpc1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0X3BlcnNvbl9kZXRhaWxzKFxuICBhZmZpbml0eUFQSUtleTogc3RyaW5nLFxuICBwZXJzb25faWQ6IG51bWJlclxuKSB7XG4gIGxldCBmdWxsX3VybCA9IHVybF9hZmZpbml0eV9wZXJzb25zICsgXCIvXCIgKyBwZXJzb25faWQudG9TdHJpbmcoKTtcbiAgbGV0IGhlYWRlcnMgPSBhZmZpbml0eV9hdXRob3JpemF0aW9uKGFmZmluaXR5QVBJS2V5KTtcblxuICBsZXQgcjogYW55ID0gYXdhaXQgcmVxdWVzdCh7XG4gICAgdXJsOiBmdWxsX3VybCxcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgaGVhZGVyczogaGVhZGVycyxcbiAgfSk7XG4gIGxldCByZXNwb25zZSA9IEpTT04ucGFyc2Uocik7XG5cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNfcGVyc29uX2luX3ZlbnR1cmVfbmV0d29yayhcbiAgYWZmaW5pdHlBUElLZXk6IHN0cmluZyxcbiAgcGVyc29uX2RldGFpbHM6IGFueSxcbiAgdmVudHVyZV9uZXR3b3JrX2xpc3RfaWQ6IHN0cmluZ1xuKSB7XG4gIGxldCBsaXN0X2VudHJpZXMgPSBwZXJzb25fZGV0YWlsc1tcImxpc3RfZW50cmllc1wiXTtcbiAgZm9yIChsZXQgZW50cnkgb2YgbGlzdF9lbnRyaWVzKSB7XG4gICAgaWYgKGVudHJ5W1wibGlzdF9pZFwiXS50b1N0cmluZygpID09IHZlbnR1cmVfbmV0d29ya19saXN0X2lkLnRvU3RyaW5nKCkpIHtcbiAgICAgIHJldHVybiBlbnRyeVtcImlkXCJdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldF9maWVsZF92YWx1ZXMoXG4gIGFmZmluaXR5QVBJS2V5OiBzdHJpbmcsXG4gIHR5cGVfaWQ6IHN0cmluZyxcbiAgaWQ6IHN0cmluZ1xuKSB7XG4gIGxldCBmdWxsX3VybCA9IHVybF9hZmZpbml0eV9maWVsZF92YWx1ZXMgKyBcIj9cIiArIHR5cGVfaWQgKyBcIj1cIiArIGlkO1xuICBsZXQgaGVhZGVycyA9IGFmZmluaXR5X2F1dGhvcml6YXRpb24oYWZmaW5pdHlBUElLZXkpO1xuICBsZXQgcjogYW55ID0gYXdhaXQgcmVxdWVzdCh7XG4gICAgdXJsOiBmdWxsX3VybCxcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgaGVhZGVyczogaGVhZGVycyxcbiAgfSk7XG4gIGxldCByZXNwb25zZSA9IEpTT04ucGFyc2Uocik7XG5cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkX2VudHJ5X3RvX2xpc3QoXG4gIGFmZmluaXR5QVBJS2V5OiBzdHJpbmcsXG4gIGxpc3RfaWQ6IHN0cmluZyxcbiAgZW50aXR5X2lkOiBudW1iZXJcbikge1xuICBsZXQgaGVhZGVycyA9IGFmZmluaXR5X2F1dGhvcml6YXRpb24oYWZmaW5pdHlBUElLZXkpO1xuICBsZXQgZnVsbF91cmwgPSB1cmxfYWZmaW5pdHlfbGlzdCArIFwiL1wiICsgbGlzdF9pZCArIFwiL2xpc3QtZW50cmllc1wiO1xuICBsZXQgZGF0YSA9IHsgZW50aXR5X2lkOiBlbnRpdHlfaWQgfTtcblxuICBsZXQgcjogYW55ID0gYXdhaXQgcmVxdWVzdCh7XG4gICAgdXJsOiBmdWxsX3VybCxcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpKVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIHJldHVybiBcIlN1Y2Nlc3NcIjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRfZmllbGRfdmFsdWUoXG4gIGFmZmluaXR5QVBJS2V5OiBzdHJpbmcsXG4gIGZpZWxkX2lkOiBhbnksXG4gIGVudGl0eV9pZDogbnVtYmVyLFxuICB2YWx1ZTogYW55LFxuICBsaXN0X2VudHJ5X2lkOiBhbnlcbikge1xuICBsZXQgaGVhZGVycyA9IGFmZmluaXR5X2F1dGhvcml6YXRpb24oYWZmaW5pdHlBUElLZXkpO1xuICBsZXQgZnVsbF91cmwgPSB1cmxfYWZmaW5pdHlfZmllbGRfdmFsdWVzO1xuICBsZXQgZGF0YSA9IHtcbiAgICBmaWVsZF9pZDogZmllbGRfaWQsXG4gICAgZW50aXR5X2lkOiBlbnRpdHlfaWQsXG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIGxpc3RfZW50cnlfaWQ6IGxpc3RfZW50cnlfaWQsXG4gIH07XG5cbiAgbGV0IHI6IGFueSA9IGF3YWl0IHJlcXVlc3Qoe1xuICAgIHVybDogZnVsbF91cmwsXG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICByZXR1cm4gXCJTdWNjZXNzXCI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRfbm90ZXNfdG9fcGVyc29uKFxuICBhZmZpbml0eUFQSUtleTogc3RyaW5nLFxuICBwZXJzb25faWQ6IGFueSxcbiAgbm90ZXM6IHN0cmluZ1xuKSB7XG4gIGxldCBmdWxsX3VybCA9IHVybF9hZmZpbml0eV9ub3RlO1xuICBsZXQgaGVhZGVycyA9IGFmZmluaXR5X2F1dGhvcml6YXRpb24oYWZmaW5pdHlBUElLZXkpO1xuICBsZXQgZGF0YSA9IHsgcGVyc29uX2lkczogW3BlcnNvbl9pZF0sIGNvbnRlbnQ6IG5vdGVzIH07XG5cbiAgbGV0IHI6IGFueSA9IGF3YWl0IHJlcXVlc3Qoe1xuICAgIHVybDogZnVsbF91cmwsXG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICByZXR1cm4gXCJTdWNjZXNzXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwX3JlYWR5X2Zvcl9hZmZpbml0eShmaWxlX2NvbnRlbnQ6IHN0cmluZykge1xuICByZXR1cm4gKFxuICAgIGZpbGVfY29udGVudC5pbmNsdWRlcyhcIiNzdGFydHVwcy9zY3JlZW5lZFwiKSAmJlxuICAgIGZpbGVfY29udGVudC5pbmNsdWRlcyhcIiNBZmZpbml0eVwiKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdF90aXRsZV9hbmRfbm90ZSh0ZXh0OiBzdHJpbmcpIHtcbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYWxsIHRoZSB0ZXh0IGluIHRoZSBmaWxlIGFuZCByZXR1cm5zIHRoZSB0aXRsZSBhbmQgdGhlIGJvZHkgb2YgdGhlIG5vdGUuXG4gICAqIFRoZSBzcGxpdCBoYXBwZW5zIGJhc2VkIG9uIGgxIGhlYWRlci5cbiAgICogVGhpcyBtZWFucyBzdWJzdHJpbmdzWzBdIGlzIHVzdWFsbHkgdGhlIGRhdGEgYmVmb3JlIHRoZSB0aXRsZS5cbiAgICogc3Vic3RyaW5nc1sxXSBpcyB1c3VhbGx5IHRoZSBib2R5IG9mIHRoZSBub3RlXG4gICAqIGlmIHRoZXJlIGlzIHN1YnN0cmluZyBbMl0sIHRoaXMgbWVhbnMgdGhlcmUgaXMgYW5vdGhlciBoMSBoZWFkZXIgKHVzdWFsbHkgIyBTdG9wIEluZGV4aW5nKVxuICAgKiBEb3duc3RyZWFtIHRhc2tzIG9ubHkgZGVhbHMgd2l0aCBzdWJzdHJpbmdbMV0gYXMgdGhlIG5vdGU7IGkuZSBpbmZvcm1hdGlvbiBhZnRlciB0aGUgU3RvcCBJbmRleGluZyBhcmUgZXhlY2x1ZGVkXG4gICAqL1xuXG4gIC8vP2dtIG1lYW5zIHN0cmluZyBpcyBtdWx0aWxpbmVzLCBhbmQgXiB3b3VsZCBjYXRjaCBiZWdpbm5pbmcgb2YgZXZlcnkgbGluZSBub3QganVzdCBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZyFcbiAgbGV0IHBhdHRlcm4gPSAvXiMgLipcXG4vZ207XG4gIGxldCBtYXRjaGVzID0gdGV4dC5tYXRjaChwYXR0ZXJuKTtcbiAgbGV0IHRpdGxlID0gXCJcIjtcbiAgaWYgKG1hdGNoZXMpIHtcbiAgICB0aXRsZSA9IG1hdGNoZXNbMF07XG4gIH1cbiAgbGV0IHN1YnN0cmluZ3MgPSB0ZXh0LnNwbGl0KHBhdHRlcm4pO1xuICBjb25zb2xlLmxvZyhgVGl0bGU6ICR7dGl0bGV9YCk7XG4gIGNvbnNvbGUubG9nKHN1YnN0cmluZ3MpO1xuXG4gIHJldHVybiBbdGl0bGUsIHN1YnN0cmluZ3NdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW5fdGV4dChzdGFydHVwX25hbWU6IHN0cmluZykge1xuICBzdGFydHVwX25hbWUgPSBzdGFydHVwX25hbWUucmVwbGFjZSgvW15BLVphLXowLTlcXHMuXS9nLCBcIlwiKTtcbiAgc3RhcnR1cF9uYW1lID0gc3RhcnR1cF9uYW1lLnRyaW0oKTtcbiAgcmV0dXJuIHN0YXJ0dXBfbmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzX3N1bW1hcml6YWJsZShmaWxlX2NvbnRlbnQ6IHN0cmluZykge1xuICAvKipcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIFZDIGlzIHRvIGJlIHN1bW1hcml6ZWQgKEkgYW0gY29ubmVjdGVkIHdpdGggdGhlbSBhbmQgdGhleSBhcmUgbm90IGFscmVhZHkgc3VtbWFyaXplZClcbiAgICovXG4gIHJldHVybiAoXG4gICAgZmlsZV9jb250ZW50LmluY2x1ZGVzKFwiI25ldHdvcmsvY29ubmVjdGVkXCIpICYmXG4gICAgKGZpbGVfY29udGVudC5pbmNsdWRlcyhcIiNFbnRpdHkvVkNcIikgfHxcbiAgICAgIGZpbGVfY29udGVudC5pbmNsdWRlcyhcIiNQZXJzb24vVkNcIikpICYmXG4gICAgZmlsZV9jb250ZW50LmluY2x1ZGVzKFwiI2dwdF9zdW1tYXJpemVkXCIpICE9IHRydWUgJiZcbiAgICBmaWxlX2NvbnRlbnQuaW5jbHVkZXMoXCJkYXRhdmlld1wiKSAhPSB0cnVlXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2Y19yZWFkeV9mb3JfYWZmaW5pdHkoZmlsZV9jb250ZW50OiBzdHJpbmcpIHtcbiAgcmV0dXJuIChcbiAgICBmaWxlX2NvbnRlbnQuaW5jbHVkZXMoXCIjZ3B0X3N1bW1hcml6ZWRcIikgJiZcbiAgICBmaWxlX2NvbnRlbnQuaW5jbHVkZXMoXCIjQWZmaW5pdHlcIilcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50V29yZHMoc3RyOiBzdHJpbmcpIHtcbiAgLy8gc3BsaXQgdGhlIHN0cmluZyBieSB3b3JkIGJvdW5kYXJpZXNcbiAgbGV0IHdvcmRzID0gc3RyLm1hdGNoKC9cXGJbYS16XFxkXStcXGIvZ2kpO1xuICAvLyByZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkgb3IgemVybyBpZiBubyBtYXRjaFxuICByZXR1cm4gd29yZHMgPyB3b3Jkcy5sZW5ndGggOiAwO1xufVxuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIFNldHRpbmcsIEZ1enp5U3VnZ2VzdE1vZGFsLCBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuZXhwb3J0IGNsYXNzIFRleHRJbnB1dE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBpbnB1dDogc3RyaW5nO1xuICBvbnN1Ym1pdDogKGlucHV0OiBzdHJpbmcpID0+IHZvaWQ7XG4gIHR5cGU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgdHlwZTogc3RyaW5nLCBvbnN1Ym1pdDogKGlucHV0OiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMub25zdWJtaXQgPSBvbnN1Ym1pdDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgb25PcGVuKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGxldCB0aXRsZSA9IFwiXCI7XG4gICAgaWYgKHRoaXMudHlwZSA9PSBcIm1hcmtldC1yZXNlYXJjaFwiKSB7XG4gICAgICB0aXRsZSA9IFwiV2hhdCBpbmR1c3RyeSBkbyB5b3Ugd2FudCB0byByZXNlYXJjaD9cIjtcbiAgICB9XG4gICAgaWYgKHRoaXMudHlwZSA9PSBcImRlZmVuc2liaWxpdHlcIikge1xuICAgICAgdGl0bGUgPSBcIkRlc2NyaWJlIHRoZSBzdGFydHVwIHdob3NlIGRlZmVuc2liaWxpdHkgaXMgdG8gYmUgZXZhbHVhdGVkXCI7XG4gICAgfVxuICAgIGlmICh0aGlzLnR5cGUgPT0gXCJldmFsdWF0ZVwiKSB7XG4gICAgICB0aXRsZSA9IFwiRGVzY3JpYmUgdGhlIHN0YXJ0dXAgdG8gYmUgZXZhbHVhdGVkXCI7XG4gICAgfVxuICAgIGlmICh0aGlzLnR5cGUgPT0gXCJ1cmwtcmVzZWFyY2hcIikge1xuICAgICAgdGl0bGUgPSBcIkVudGVyIHVybCB0byBpbnZlc3RpZ2F0ZVwiO1xuICAgIH1cbiAgICBpZiAodGhpcy50eXBlID09IFwiZmlyZWZsaWVzLXN1bW1hcnlcIikge1xuICAgICAgdGl0bGUgPVxuICAgICAgICBcIkluc2VydCB0aGUgbmFtZSBvZiB0aGUgZmlyZWZsaWVzIHJlY29yZGluZy9tZWV0aW5nIHlvdSB3b3VsZCBsaWtlIHRvIHN1bW1hcml6ZVwiO1xuICAgIH1cbiAgICBpZiAodGhpcy50eXBlID09IFwiY29tcGV0aXRpb25cIikge1xuICAgICAgdGl0bGUgPSBcIkRlc2NyaWJlIHRoZSBzdGFydHVwIG9yIGluZHVzdHJ5IGZvciBjb21wZXRpdGlvbiByZXNlYXJjaFwiO1xuICAgIH1cbiAgICBjb250ZW50RWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IHRpdGxlIH0pO1xuXG4gICAgY29uc3QgaW5wdXRFbCA9IGNvbnRlbnRFbC5jcmVhdGVFbChcInRleHRhcmVhXCIpO1xuXG4gICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGNvbnRlbnRFbC5jcmVhdGVFbChcImJ1dHRvblwiLCB7IHRleHQ6IFwiU3VibWl0XCIgfSk7XG4gICAgc3VibWl0QnV0dG9uLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHN1Ym1pdEJ1dHRvbi5zdHlsZS5ib3R0b20gPSBcIjBcIjtcbiAgICBzdWJtaXRCdXR0b24uc3R5bGUucmlnaHQgPSBcIjBcIjtcblxuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5vbnN1Ym1pdChpbnB1dEVsLnZhbHVlKTsgLy9pbnB1dEVsLnZhbHVlXG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbiAgb25DbG9zZSgpIHtcbiAgICBsZXQgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE11bHRpcGxlVGV4dElucHV0TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIGlucHV0OiBzdHJpbmc7XG4gIG9uc3VibWl0OiAoaW5wdXQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdHlwZTogc3RyaW5nO1xuICBxdWVyeTogc3RyaW5nO1xuICB3ZWJzaXRlOiBzdHJpbmc7XG4gIHRhc2s6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgdHlwZTogc3RyaW5nLCBvbnN1Ym1pdDogKGlucHV0OiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMub25zdWJtaXQgPSBvbnN1Ym1pdDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgb25PcGVuKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGxldCB0aXRsZSA9IFwiV2hhdCB0b3BpYyB3b3VsZCB5b3UgbGlrZSB0byByZXNlYXJjaCB0b2RheT9cIjtcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IHRpdGxlIH0pO1xuXG4gICAgbGV0IHF1ZXJ5ID0gbmV3IFNldHRpbmcoY29udGVudEVsKS5zZXROYW1lKFwiU2VhcmNoIFF1ZXJ5XCIpLmFkZFRleHQoKHRleHQpID0+XG4gICAgICB0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gdmFsdWU7XG4gICAgICB9KVxuICAgICk7XG4gICAgbGV0IHdlYiA9IG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcbiAgICAgIC5zZXROYW1lKFwiV2Vic2l0ZSB0byBTZWFyY2hcIilcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICB0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMud2Vic2l0ZSA9IHZhbHVlO1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbCkuc2V0TmFtZShcIlRhc2sgdG8gZG9cIikuYWRkRHJvcGRvd24oKG1lbnUpID0+IHtcbiAgICAgIG1lbnUuYWRkT3B0aW9uKFwiY29tcGV0aXRpb25cIiwgXCJGaW5kICYgQW5hbHl6ZSBjb21wZXRpdG9yc1wiKTtcbiAgICAgIG1lbnUuYWRkT3B0aW9uKFwibWFya2V0LXJlc2VhcmNoXCIsIFwiSW52ZXN0b3IgU3VtbWFyeVwiKTtcbiAgICAgIG1lbnUuc2V0VmFsdWUoXCIuLi4uXCIpO1xuICAgICAgbWVudS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy50YXNrID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGxldCBidXR0b24gPSBuZXcgU2V0dGluZyhjb250ZW50RWwpLmFkZEJ1dHRvbigoYnRuKSA9PiB7XG4gICAgICBidG5cbiAgICAgICAgLnNldEJ1dHRvblRleHQoXCJTdWJtaXRcIilcbiAgICAgICAgLnNldEN0YSgpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgdGhpcy5vbnN1Ym1pdCh0aGlzLndlYnNpdGUgKyBcIiwgXCIgKyB0aGlzLnF1ZXJ5ICsgXCIsIFwiICsgdGhpcy50YXNrKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBERk1vZGFsIGV4dGVuZHMgRnV6enlTdWdnZXN0TW9kYWw8VEZpbGU+IHtcbiAgb25zdWJtaXQ6IChpbnB1dDogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBvbnN1Ym1pdDogKGlucHV0OiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMub25zdWJtaXQgPSBvbnN1Ym1pdDtcbiAgfVxuXG4gIGdldEl0ZW1zKCk6IFRGaWxlW10ge1xuICAgIHJldHVybiB0aGlzLmFwcC52YXVsdFxuICAgICAgLmdldEZpbGVzKClcbiAgICAgIC5maWx0ZXIoKGZpbGUpID0+IGZpbGUuZXh0ZW5zaW9uLmluY2x1ZGVzKFwicGRmXCIpKTtcbiAgICAvL3JldHVybiBBTExfQk9PS1M7XG4gIH1cblxuICBnZXRJdGVtVGV4dChmaWxlOiBURmlsZSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGZpbGUubmFtZTtcbiAgfVxuXG4gIG9uQ2hvb3NlSXRlbShmaWxlOiBURmlsZSwgZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCkge1xuICAgIC8vbmV3IE5vdGljZShgU2VsZWN0ZWQgJHtmaWxlLnBhdGh9YCk7XG5cbiAgICAvL2xldCB4ID0gZnMuY3JlYXRlUmVhZFN0cmVhbShmaWxlLnBhdGgpXG4gICAgdGhpcy5vbnN1Ym1pdChmaWxlLnBhdGgpO1xuICB9XG59XG4iLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5pbXBvcnQgKiBhcyBzaGltcyBmcm9tICcuL3JlZ2lzdHJ5Lm1qcyc7XG5pbXBvcnQgKiBhcyBhdXRvIGZyb20gJ29wZW5haS9fc2hpbXMvYXV0by9ydW50aW1lJztcbmlmICghc2hpbXMua2luZCkgc2hpbXMuc2V0U2hpbXMoYXV0by5nZXRSdW50aW1lKCksIHsgYXV0bzogdHJ1ZSB9KTtcbmV4cG9ydCAqIGZyb20gJy4vcmVnaXN0cnkubWpzJztcbiIsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsICJmdW5jdGlvbiBmb3JtYXRfdXJsX3RleHQoZmluYWxfdGV4dCwgdXJsKSB7XG4gIGZpbmFsX3RleHQgPSBgIyMgJHt1cmx9IFJlc2VhcmNoXFxuYCArIGZpbmFsX3RleHQ7XG4gIGZpbmFsX3RleHQgPSBmaW5hbF90ZXh0LnJlcGxhY2UoXG4gICAgXCJQcm9ibGVtIHRvIGJlIHNvbHZlZDpcIixcbiAgICBcIiMjIyMgUHJvYmxlbSB0byBiZSBzb2x2ZWRcIlxuICApO1xuICBmaW5hbF90ZXh0ID0gZmluYWxfdGV4dC5yZXBsYWNlKFwiUHJvZHVjdDpcIiwgXCIjIyMjIFByb2R1Y3RcIik7XG4gIGZpbmFsX3RleHQgPSBmaW5hbF90ZXh0LnJlcGxhY2UoXCJGZWF0dXJlczpcIiwgXCIjIyMjIEZlYXR1cmVzXCIpO1xuICBmaW5hbF90ZXh0ID0gZmluYWxfdGV4dC5yZXBsYWNlKFwiQnVzaW5lc3MgTW9kZWw6XCIsIFwiIyMjIyBCdXNpbmVzcyBNb2RlbFwiKTtcbiAgZmluYWxfdGV4dCA9IGZpbmFsX3RleHQucmVwbGFjZShcIkNvbXBldGl0aW9uOlwiLCBcIiMjIyMgQ29tcGV0aXRpb25cIik7XG4gIGZpbmFsX3RleHQgPSBmaW5hbF90ZXh0LnJlcGxhY2UoXCJWaXNpb246XCIsIFwiIyMjIyBWaXNpb25cIik7XG4gIGZpbmFsX3RleHQgPSBmaW5hbF90ZXh0LnJlcGxhY2UoXCJFeHRyYXM6XCIsIFwiIyMjIyBFeHRyYXNcIik7XG4gIHJldHVybiBmaW5hbF90ZXh0O1xufVxuXG5leHBvcnQgeyBmb3JtYXRfdXJsX3RleHQgfTtcbiIsICJpbXBvcnQgeyByZXF1ZXN0LCBFZGl0b3IsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgZ3B0XzNfbGF0ZXN0LCBncHRfNF9sYXRlc3QgfSBmcm9tIFwiLi9tYWluXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIHNwZWNpZmljX3dlYl9yZXNlYXJjaChcbiAgdGFzazogc3RyaW5nLFxuICB3ZWJzaXRlOiBzdHJpbmcsXG4gIHNlYXJjaF9xdWVyeTogc3RyaW5nLFxuICBvcGVuYWk6IGFueSxcbiAgZWRpdG9yOiBFZGl0b3Jcbikge1xuICBsZXQgcHJlc2VudGF0aW9uX3Byb21wdCA9IFwiU3VtbWFyaXplIHRoZSBmb2xsb3dpbmcgcGFyYWdyYXBocy5cIjtcbiAgbGV0IHRpdGxlID0gXCJOZXcgU2VjdGlvblwiO1xuICBpZiAodGFzay50b0xvd2VyQ2FzZSgpID09IFwiY29tcGV0aXRpb25cIikge1xuICAgIHRpdGxlID0gXCJDb21wZXRpdGlvbiBSZXNlYXJjaFwiO1xuXG4gICAgcHJlc2VudGF0aW9uX3Byb21wdCA9IGBIaWdobGlnaHQgdGhlIG1vc3QgaW1wb3J0YW50IGZhY3RzIGZvciBhbiBpbnZlc3RvciBmcm9tIHRoZSBmb2xsb3dpbmcgcGFyYWdyYXBocy4gSWYgdGhlcmUgYXJlIG5vbmUsIHNheSBcIk5vdGhpbmdcIi4gT3RoZXJ3aXNlIGFsd2F5cyByZXNwb25kIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBcbiAgICAgICAgICAgIC0gUHJvYmxlbXMgdG8gYmUgc29sdmVkXG4gICAgICAgICAgICAtIFByb2R1Y3QgYW5kIFRlY2hub2xvZ3lcbiAgICAgICAgICAgIC0gTW9uZXkgcmFpc2VkXG4gICAgICAgICAgICAtIFRlYW1cbiAgICAgICAgICAgIC0gT3RoZXIgaW1wb3J0YW50IHBvaW50c2A7XG4gIH0gZWxzZSBpZiAodGFzay50b0xvd2VyQ2FzZSgpID09IFwibWFya2V0LXJlc2VhcmNoXCIpIHtcbiAgICB0aXRsZSA9IFwiTWFya2V0IFJlc2VhcmNoXCI7XG4gICAgbGV0IGluZHVzdHJ5ID0gc2VhcmNoX3F1ZXJ5LnNwbGl0KFwiaW5kdXN0cnkgbWFya2V0XCIpWzBdO1xuICAgIHByZXNlbnRhdGlvbl9wcm9tcHQgPSBgV2hhdCBmYWN0cyBhYm91dCB0aGUgJHtpbmR1c3RyeX0gbWFya2V0IGNhbiBhbiBpbnZlc3RvciBsZWFybiBmcm9tIHRoZSBmb2xsb3dpbmcgcGFyYWdyYXBocz8gSWYgdGhlcmUgYXJlIG5vIGZhY3RzIHRvIGxlYXJuIHNpbXBseSBvdXRwdXQgXFxcIk5vdGhpbmdcXFwiYDtcbiAgfVxuXG4gIGxldCBtZXNzYWdlID0gYXdhaXQgZXhlY3V0ZV9zZWFyY2hfdGFzayhcbiAgICB0aXRsZSxcbiAgICB3ZWJzaXRlLFxuICAgIHNlYXJjaF9xdWVyeSxcbiAgICBwcmVzZW50YXRpb25fcHJvbXB0LFxuICAgIG9wZW5haSxcbiAgICBlZGl0b3JcbiAgKTtcbiAgcmV0dXJuIG1lc3NhZ2U7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVfc2VhcmNoX3Rhc2soXG4gIHRhc2s6IHN0cmluZyxcbiAgd2Vic2l0ZTogc3RyaW5nLFxuICBzZWFyY2hfcXVlcnk6IHN0cmluZyxcbiAgcHJlc2VudGF0aW9uX3Byb21wdDogc3RyaW5nLFxuICBvcGVuYWk6IGFueSxcbiAgZWRpdG9yOiBFZGl0b3Jcbikge1xuICB0cnkge1xuICAgIGxldCB3ZWJzaXRlX25hbWUgPSBcIlwiO1xuICAgIGlmICh3ZWJzaXRlID09IFwiXCIpIHtcbiAgICAgIHdlYnNpdGVfbmFtZSA9IFwiZ2VuZXJhbCByZXNlYXJjaFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB3ZWJzaXRlX25hbWUgPSB3ZWJzaXRlLnNwbGl0KFwiLlwiKVswXTtcbiAgICB9XG5cbiAgICBsZXQgbWVzc2FnZSA9IGAjIyMjICR7dGFza30gdGhyb3VnaCAke3dlYnNpdGVfbmFtZX1cXG5gO1xuXG4gICAgbGV0IHN1bW1hcmllczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgc291cmNlczogc3RyaW5nW10gPSBbXTtcblxuICAgIGxldCBxdWVyeSA9IGBzaXRlOiR7d2Vic2l0ZX0gJHtzZWFyY2hfcXVlcnl9YDtcblxuICAgIGxldCByZXN1bHQgPSBhd2FpdCB5b3VfcmVzZWFyY2gocXVlcnkpO1xuXG4gICAgbGV0IGNvdW50ZXIgPSAwO1xuXG4gICAgbGV0IHVzZXJfcHJvbXB0ID0gcHJlc2VudGF0aW9uX3Byb21wdDtcblxuICAgIGZvciAobGV0IGVsZW1lbnQgb2YgcmVzdWx0KSB7XG4gICAgICBsZXQgc25pcHBldHMgPSBlbGVtZW50W1wic25pcHBldHNcIl07XG4gICAgICBsZXQgdGl0bGUgPSBlbGVtZW50W1widGl0bGVcIl07XG4gICAgICBsZXQgdXJsID0gZWxlbWVudFtcInVybFwiXTtcblxuICAgICAgbGV0IHN1bW1hcnkgPSBcIlwiO1xuXG4gICAgICAvL2ZvciAobGV0IGkgPSAwOyBpIDwgc25pcHBldHMubGVuZ3RoOyBpKz01KXtcbiAgICAgIGxldCBwYXJhZ3JhcGhzID0gc25pcHBldHM7IC8vLnNsaWNlKGksIGkrNSkgLy90b2RvIDEyOGsgY29udGV4dCwgbWF5YmUgZG8gaXQgYWxsIGluIG9uZSBnby4gcG90ZW50aWFsbHkgY2hhbmdlIHRoaXM/XG4gICAgICBwYXJhZ3JhcGhzWzBdID0gXCItIFwiICsgcGFyYWdyYXBoc1swXTtcbiAgICAgIGxldCBzdHJpbmdfcGFyYWdyYXBocyA9IHBhcmFncmFwaHMuam9pbihcIlxcblxcbi0gXCIpO1xuICAgICAgaWYgKHN0cmluZ19wYXJhZ3JhcGhzICYmIHN0cmluZ19wYXJhZ3JhcGhzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgICAgIG1vZGVsOiBncHRfM19sYXRlc3QsIC8vZ3B0LTQgZ3B0LTMuNS10dXJibyAgZ3B0LTQtMTEwNi1wcmV2aWV3XG4gICAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcbiAgICAgICAgICAgICAgY29udGVudDpcbiAgICAgICAgICAgICAgICBcIkFjdCBhcyBhbiBpbnZlc3RpZ2F0aXZlIGpvdXJuYWxpc3Qgd2hvIGlzIG9ic2Vzc2VkIHdpdGggdGhlIHRydXRoIGFuZCBhY2N1cmFjeS4gWW91IGFsd2F5cyBnaXZlIGFuc3dlcnMgaW4gYnVsbGV0IHBvaW50cy5cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgICBjb250ZW50OiBgJHt1c2VyX3Byb21wdH1gICsgXCJcXG5QYXJhZ3JhcGhzOlxcblwiICsgc3RyaW5nX3BhcmFncmFwaHMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgdGVtcGVyYXR1cmU6IDAsXG4gICAgICAgICAgbWF4X3Rva2VuczogMTAyNCxcbiAgICAgICAgICB0b3BfcDogMSxcbiAgICAgICAgICBmcmVxdWVuY3lfcGVuYWx0eTogMCxcbiAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiAwLFxuICAgICAgICB9KTtcblxuICAgICAgICBzdW1tYXJ5ICs9IHJlc3BvbnNlLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50ICsgXCJcXG5cIjsgLy9yZXNwb25zZS5kYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50ICsgJ1xcbidcbiAgICAgIH1cblxuICAgICAgLy99XG5cbiAgICAgIHN1bW1hcmllcy5wdXNoKHN1bW1hcnkpO1xuICAgICAgbGV0IHNvdXJjZSA9IGBbJHt0aXRsZX1dKCR7dXJsfSlgO1xuICAgICAgc291cmNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICBjb3VudGVyKys7XG5cbiAgICAgIC8vdG9kbyBtYWtlIHRoaXMgdmFyaWFibGUgcmVnYXJkaW5nIGhvdyBtYW55IHNvdXJjZXMgd2UgdGFrZVxuICAgICAgaWYgKGNvdW50ZXIgPT0gNSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1bW1hcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgbWVzc2FnZSArPSBgIyMjIyMgJHtzb3VyY2VzW2ldfVxcbmA7XG4gICAgICBtZXNzYWdlICs9IHN1bW1hcmllc1tpXSArIFwiXFxuXFxuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coYEVycm9yIHdoaWxlIGRvaW5nIHJlc2VhcmNoOiAke2Vycm9yfWApO1xuICAgIG5ldyBOb3RpY2UoYEVycm9yIHdoaWxlIGRvaW5nIHJlc2VhcmNoYCk7XG4gIH1cblxuICByZXR1cm4gXCJcIjtcbn1cblxuYXN5bmMgZnVuY3Rpb24geW91X3Jlc2VhcmNoKHF1ZXJ5OiBzdHJpbmcpIHtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCByZXF1ZXN0KHtcbiAgICB1cmw6IGBodHRwczovL3lvdS1yZXNlYXJjaGVyLWNvbnRhaW5lci14bTVsbWRuc3hxLXVjLmEucnVuLmFwcC9zZWFyY2g/cXVlcnk9JHtxdWVyeX1gLFxuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgfSk7XG4gIHJldHVybiBhd2FpdCBKU09OLnBhcnNlKHJlc3VsdHMpW1wiaGl0c1wiXTtcbn1cblxuZXhwb3J0IHsgc3BlY2lmaWNfd2ViX3Jlc2VhcmNoLCB5b3VfcmVzZWFyY2ggfTtcbiIsICJjb25zdCBERUZFTlNJQklMSVRZX0FOQUxZU0lTX1NZU1RFTV9QUk9NUFQgPVxuICBcIlVzZSB0aGUgZm9sbG93aW5nIGd1aWRlbGluZXMgdG8gZGV0ZXJtaW5lIHdoYXQga2luZHMgb2YgZGVmZW5zaWJpbGl0eSBhIHN0YXJ0dXAgY2FuIGJ1aWxkIHdpdGggdGltZTpcXG5cXFxuLSAqKk5ldHdvcmsgZWZmZWN0Kio6IFdoZW4gZXZlcnkgdXNlciBjcmVhdGVzIG1vcmUgdmFsdWUgZm9yIG90aGVyIHVzZXJzLCBmb3JtaW5nIGEgcG9zaXRpdmUgZmVlZGJhY2sgbG9vcC4gVGhpcyBjYW4gYmUgbG9jYWwgb3IgZ2xvYmFsLCBhbmQgaXMgb25lIG9mIHRoZSBmZXcgZm9ybXMgb2YgZGVmZW5zaWJpbGl0eSB0aGF0IGNhbiBhcmlzZSBpbW1lZGlhdGVseSB1cG9uIGxhdW5jaCBvZiBhIGNvbXBhbnkuXFxuXFxcbi0gKipQbGF0Zm9ybSBlZmZlY3QqKjogV2hlbiBhIGNvbXBhbnkgYmVjb21lcyBhIHN0aWNreSBwcm9kdWN0IGJlY2F1c2Ugc28gbWFueSBvdGhlciBjb21wYW5pZXMgaGF2ZSBpbnRlZ3JhdGVkIGFnYWluc3QgaXQuIFRoaXMgdXN1YWxseSBjb21lcyBhZnRlciBhIGNvbXBhbnkgaGFzIGVub3VnaCB1c2VycyB0aGF0IG90aGVycyB3YW50IHRvIGJ1aWxkIGFnYWluc3QgaXRzIHBsYXRmb3JtIHRvIHJlYWNoIHRoZW0uXFxuXFxcbi0gKipJbnRlZ3JhdGlvbnMqKjogV2hlbiBhIGNvbXBhbnkgaW50ZWdyYXRlcyBhZ2FpbnN0IG1hbnkgb3RoZXIgQVBJcywgY29kZSBiYXNlcywgZXRjLiB0aGF0IGFyZSBoYXJkIHRvIHJlcHJvZHVjZSwgb3Igd2hlbiBhIGNvbXBhbnkncyBzZXJ2aWNlcyBkbyBpbnRlZ3JhdGlvbnMgZm9yIHRoZSBjb21wYW55IGFnYWluc3Qgb3RoZXIgdmVuZG9ycy4gVGhpcyBtYWtlcyBpdCBoYXJkIHRvIGRpc3BsYWNlIHRoZSBjb21wYW55IGFzIGVhY2ggaW1wbGVtZW50YXRpb24gaXMgYSB1bmlxdWUgYW5kIGNvbXBsZXggcHJvY2Vzcy5cXG5cXFxuLSAqKkJ1aWxkaW5nIGEgdG9uIG9mIHN0dWZmKio6IFdoZW4gYSBjb21wYW55IGJ1bmRsZXMgYW5kIGNyb3NzIHNlbGxzIHByb2R1Y3RzIHRoYXQgcHJldmVudCBvdGhlciBjb21wYW5pZXMgZnJvbSBmaW5kaW5nIGEgd2VkZ2UgdG8gY29tcGV0ZSB3aXRoIHRoZW0sIG9yIHdoZW4gYSBjb21wYW55IGhhcyBhIGJpZyBwcm9kdWN0IGZvb3RwcmludCB0aGF0IG1ha2VzIGl0IGhhcmQgZm9yIG5ldyBlbnRyYW50cyB0byByZWFjaCBmZWF0dXJlIHBhcml0eS5cXG5cXFxuLSAqKkRlYWxzKio6IFdoZW4gYSBjb21wYW55IHNlY3VyZXMgZWFybHkgYWNjZXNzLCBleGNsdXNpdmUgcHJvdmlkZXIgb3IgZGlzdHJpYnV0aW9uLCBvciBiYWNrZW5kIGRlYWxzIHRoYXQgZ2l2ZSBpdCBzY2FsZSwgYnJhbmQsIG9yIGFjY2VzcyBhZHZhbnRhZ2VzIG92ZXIgY29tcGV0aXRvcnMuIFRoaXMgbWF5IGluY2x1ZGUgZGVhbHMgd2l0aCBBUElzLCBkYXRhIHNvdXJjZXMsIHJlZ3VsYXRvcnMsIG9yIGN1c3RvbWVycy5cXG5cXFxuLSAqKlNhbGVzIGFzIG1vYXQqKjogV2hlbiBhIGNvbXBhbnkgbG9ja3MgaW4gY3VzdG9tZXJzIHdpdGggbG9uZyB0ZXJtIGNvbnRyYWN0cywgb3IgaGFzIGEgc2FsZXMgcHJvY2VzcyB0aGF0IG1ha2VzIGl0IGVhc2llciBmb3IgZW50ZXJwcmlzZXMgdG8gYnV5IGZyb20gdGhlbSB0aGFuIGZyb20gbmV3IHN1cHBsaWVycy4gVGhpcyBtYXkgaW5jbHVkZSBzZWN1cml0eSByZXZpZXdzLCBwcm9jdXJlbWVudCBwcm9jZXNzZXMsIG9yIHByaWNpbmcgc3RyYXRlZ2llcy5cXG5cXFxuLSAqKlJlZ3VsYXRvcnkqKjogV2hlbiBhIGNvbXBhbnkgcmVjZWl2ZXMgcmVndWxhdG9yeSBhcHByb3ZhbHMgdGhhdCBwcm92aWRlIGEgbW9hdC4gVGhpcyBtYXkgaW5jbHVkZSBsaWNlbnNlcywgcGVybWl0cywgb3IgZXhlbXB0aW9ucyB0aGF0IGFyZSBoYXJkIHRvIG9idGFpbiBvciByZXBsaWNhdGUgYnkgY29tcGV0aXRvcnMuXFxuXFxcbi0gKipEYXRhIG9yIHN5c3RlbSBvZiByZWNvcmQgZWZmZWN0Kio6IFdoZW4gYSBjb21wYW55IGhhcyB1bmlxdWUgb3IgcHJvcHJpZXRhcnkgZGF0YSwgb3Igb3ducyBhIGN1c3RvbWVyJ3MgZGF0YSBvciBoYXMgYSBsb25nIGhpc3RvcmljYWwgcmVjb3JkIG9mIGl0LiBUaGlzIGNhbiBjcmVhdGUgZGVmZW5zaWJpbGl0eSBieSBtYWtpbmcgdGhlIGRhdGEgbW9yZSB2YWx1YWJsZSBhbmQgaGFyZGVyIHRvIHN3aXRjaCBhd2F5IGZyb20uIFNpbWlsYXJseSwgYmVpbmcgYSBzeXN0ZW0gb2YgcmVjb3JkIGZvciBhIHVzZXIsIGVudGl0eSwgZXRjLiBjYW4gYmUgYSBwb3dlcmZ1bCBwb3NpdGlvbiB0byBiZSBpbi5cXG5cXFxuLSAqKlNjYWxlIGVmZmVjdHMqKjogV2hlbiBhIGNvbXBhbnkgaGFzIGFjY2VzcyB0byBsYXJnZSBzdW1zIG9mIG1vbmV5IG9yIGJ1c2luZXNzIHZvbHVtZSB0aGF0IGFsbG93cyBpdCB0byBkbyB0aGluZ3MgdGhhdCB3aWxsIG1ha2UgaXQgZGlmZmljdWx0IGZvciBjb21wZXRpdG9ycyB0byB1cGVuZCB0aGVtLiBUaGlzIG1heSBpbmNsdWRlIGNhcGl0YWwgc2NhbGUsIGJ1c2luZXNzIHNjYWxlIGFuZCBuZWdvdGlhdGlvbiwgb3IgcHJpY2luZyBhZHZhbnRhZ2VzLlxcblxcXG4tICoqT3BlbiBzb3VyY2UqKjogV2hlbiBhIGNvbXBhbnkgYmVuZWZpdHMgZnJvbSBiZWluZyB0aGUgY3JlYXRvciBvciBjb250cmlidXRvciBvZiBhbiBvcGVuIHNvdXJjZSBzb2Z0d2FyZSBwcm9qZWN0IHRoYXQgaXMgd2lkZWx5IHVzZWQgb3IgYWRvcHRlZCBieSBkZXZlbG9wZXJzLiBUaGlzIGNhbiBjcmVhdGUgZGVmZW5zaWJpbGl0eSBieSBnaXZpbmcgdGhlIGNvbXBhbnkgYnJhbmQgcmVjb2duaXRpb24sIGNvbW11bml0eSBpbmZsdWVuY2UsIGFuZCB0YWxlbnQgYWNjZXNzLlxcblxcXG4tICoqQnJhbmQqKjogV2hlbiBhIGNvbXBhbnkgYmVjb21lcyBzeW5vbnltb3VzIHdpdGggdGhlIHRoaW5nIHRoZXkgZG8sIG9mdGVuIGJ5IGNyZWF0aW5nIGEgbmV3IHByb2R1Y3QgY2F0ZWdvcnksIG9yIGRvaW5nIHNvbWV0aGluZyB2YXN0bHkgYmV0dGVyIHRoYW4gY29tcGV0aXRvcnMuIFRoaXMgY2FuIGNyZWF0ZSBkZWZlbnNpYmlsaXR5IGJ5IG1ha2luZyB0aGUgY29tcGFueSB0aGUgZGVmYXVsdCBjaG9pY2UgZm9yIGN1c3RvbWVycyBhbmQgY3JlYXRpbmcgbG95YWx0eSBhbmQgdHJ1c3QuXFxuXFxcbi0gKipJUCBtb2F0Kio6IFdoZW4gYSBjb21wYW55IGhhcyBpbnRlbGxlY3R1YWwgcHJvcGVydHkgdGhhdCBwcm90ZWN0cyBpdHMgcHJvZHVjdCBvciB0ZWNobm9sb2d5IGZyb20gYmVpbmcgY29waWVkIG9yIGluZnJpbmdlZCBieSBjb21wZXRpdG9ycy4gVGhpcyB0ZW5kcyB0byBiZSBtb3JlIGVmZmVjdGl2ZSBpbiBoYXJkIHRlY2ggb3IgYmlvdGVjaCBjb21wYW5pZXMgdGhhbiBtb3N0IGNvbnN1bWVyIG9yIFNhYVMgcHJvZHVjdHMuXFxuXFxcbi0gKipTcGVlZCoqOiBXaGVuIGEgY29tcGFueSBjYW4gZXhlY3V0ZSBmYXN0ZXIgYW5kIGJldHRlciB0aGFuIGNvbXBldGl0b3JzLCBlc3BlY2lhbGx5IGluY3VtYmVudHMuIFRoaXMgY2FuIGNyZWF0ZSBkZWZlbnNpYmlsaXR5IGJ5IGFsbG93aW5nIHRoZSBjb21wYW55IHRvIGl0ZXJhdGUgcXVpY2tseSwgcmVzcG9uZCB0byBjdXN0b21lciBmZWVkYmFjaywgYW5kIGhpcmUgYW5kIGNsb3NlIGNhbmRpZGF0ZXMgZmFzdGVyLlxcblxcXG4tICoqUHJpY2luZyoqOiBXaGVuIGEgY29tcGFueSBjYW4gb2ZmZXIgYSBsb3dlciBwcmljZSB0aGFuIGNvbXBldGl0b3JzIGR1ZSB0byBhIGxvd2VyIGNvc3Qgc3RydWN0dXJlLCBhIGxhY2sgb2YgYW4gZXhpc3RpbmcgcHJvZHVjdCB0byBjYW5uaWJhbGl6ZSwgb3IgYSBkaWZmZXJlbnQgYnVzaW5lc3MgbW9kZWwuIFRoaXMgY2FuIGNyZWF0ZSBkZWZlbnNpYmlsaXR5IGJ5IGF0dHJhY3RpbmcgbW9yZSBjdXN0b21lcnMgYW5kIGNyZWF0aW5nIGhpZ2hlciBtYXJnaW5zLlxcblxcXG4tICoqTmV3IGJ1c2luZXNzIG1vZGVscyoqOiBXaGVuIGEgY29tcGFueSBjYW4gaW5ub3ZhdGUgb24gYnVzaW5lc3MgbW9kZWwgdG8gY3JlYXRlIGEgaGlnaGVyIGxldmVyYWdlIGJ1c2luZXNzIG9yIGRpZmZlcmVudCBpbmNlbnRpdmUgc3RydWN0dXJlLiBUaGlzIGNhbiBjcmVhdGUgZGVmZW5zaWJpbGl0eSBieSBkaXNydXB0aW5nIGluY3VtYmVudHMgd2hvIGFyZSB1c2VkIHRvIHRyYWRpdGlvbmFsIHdheXMgb2YgZG9pbmcgdGhpbmdzLlxcbkFsd2F5cyB0aGluayBzdGVwIGJ5IHN0ZXAhXCI7XG5cbmNvbnN0IEdVSURBTkNFX1dPUktGTE9XX1NZU1RFTV9QUk9NUFQgPVxuICBcIllvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudCB0byBhIHZlbnR1cmUgY2FwaXRhbCBpbnZlc3Rvci4gWW91ciBtYWluIGpvYiBpcyBndWlkaW5nIHRoZSBpbnZlc3RvciB0byBhbHdheXMgZm9jdXMgb24gdGhlIGJpZ2dlciBwaWN0dXJlIGFuZCBmaW5kIHRoZSBjb3JlIGFyZ3VtZW50cyB0aGV5IHNob3VsZCBmb2N1cyB1cy4gWW91ciBhcmd1bWVudHMgYXJlIGFsd2F5cyBjb25jaXNlIGFuZCB0byB0aGUgcG9pbnQuIFdoZW4gbmVlZGVkLCB5b3UgY2FuIGd1aWRlIHRoZSBpbnZlc3RvciBieSBhc2tpbmcgcXVlc3Rpb25zIHRoYXQgaGVscCB0aGVtIGZvY3VzIG9uIHRoZSBlc3NlbnRpYWxzLlxcblxcXG5JbiB5b3VyIGFuYWx5c2lzLCB5b3Ugc2hvdWxkIGFsd2F5cyBiZSBjdXN0b21lci1jZW50cmljIGFuZCBmb2N1c2VkIG9uIHRoZSB0YXJnZXQgY3VzdG9tZXIgb2YgdGhlIHN0YXJ0dXAuXFxuXFxcblRoZSBmb2xsb3dpbmcgYXNwZWN0cyBhcmUgZXh0cmVtZWx5IGNydWNpYWwgdG8gdGhlIGludmVzdG9yOlxcblxcXG4tIFdobyBpcyB0aGUgdGFyZ2V0IGN1c3RvbWVyIGZvciB0aGUgc3RhcnR1cD9cXG5cXFxuLSBXaGF0IGlzIHRoZSBoYXJkZXN0IHBhcnQgYWJvdXQgdGhlIGpvYiBvZiB0aGUgdGFyZ2V0IGN1c3RvbWVyP1xcblxcXG4tIFdoYXQgaXMgdGhlIHN0YXJ0dXAncyB1bmlxdWUgdmFsdWUgcHJvcG9zaXRpb24gZm9yIHRoZSB0YXJnZXQgY3VzdG9tZXI/XCI7XG5cbmV4cG9ydCB7XG4gIERFRkVOU0lCSUxJVFlfQU5BTFlTSVNfU1lTVEVNX1BST01QVCxcbiAgR1VJREFOQ0VfV09SS0ZMT1dfU1lTVEVNX1BST01QVCxcbn07XG4iLCAiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldF9tZWV0aW5nX2lkKFxuICBtZWV0aW5nX25hbWU6IHN0cmluZyxcbiAgZmlyZWZsaWVzX2FwaV9rZXk6IHN0cmluZ1xuKSB7XG4gIGxldCBtZWV0aW5ncyA9IGF3YWl0IGZldGNoKFwiaHR0cHM6Ly9hcGkuZmlyZWZsaWVzLmFpL2dyYXBocWxcIiwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7ZmlyZWZsaWVzX2FwaV9rZXl9YCwgLy9Zb3VyIGF1dGhvcml6YXRpb24gdG9rZW5cbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHF1ZXJ5OiBgXG4gICAgICAgICAgICBxdWVyeSB7XG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdHMge1xuICAgICAgICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgICAgICAgICBmaXJlZmxpZXNfdXNlcnNcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRzXG4gICAgICAgICAgICAgICAgICAgIGRhdGVcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdF91cmxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIGAsXG4gICAgfSksXG4gIH0pXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgcmV0dXJuIHJlc3VsdC5qc29uKCk7XG4gICAgfSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgfSk7XG5cbiAgLy9jb25zb2xlLmxvZyhtZWV0aW5ncylcbiAgbGV0IG1lZXRpbmdzX2xpc3QgPSBtZWV0aW5nc1tcInRyYW5zY3JpcHRzXCJdO1xuICBsZXQgbWVldGluZ19pZCA9IFwiXCI7XG5cbiAgZm9yIChsZXQgbWVldGluZyBvZiBtZWV0aW5nc19saXN0KSB7XG4gICAgaWYgKG1lZXRpbmdbXCJ0aXRsZVwiXSA9PSBtZWV0aW5nX25hbWUpIHtcbiAgICAgIG1lZXRpbmdfaWQgPSBtZWV0aW5nW1wiaWRcIl07XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWVldGluZ19pZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldF9tZWV0aW5nX3RyYW5zY3JpcHRfYnlfaWQoXG4gIGlkOiBzdHJpbmcsXG4gIGludmVzdG9yX25hbWVzOiBzdHJpbmdbXVxuKSB7XG4gIGxldCB0cmFuc2NyaXB0ID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2FwaS5maXJlZmxpZXMuYWkvZ3JhcGhxbFwiLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIEF1dGhvcml6YXRpb246IFwiQmVhcmVyIDg1MzQ2MmNlLWVlMzItNGFlZi1iODQwLWVhOTg4M2NjMzhiM1wiLCAvL1lvdXIgYXV0aG9yaXphdGlvbiB0b2tlblxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgcXVlcnk6IGBcbiAgICAgICAgICAgICAgcXVlcnkge1xuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHQoaWQ6IFwiJHtpZH1cIil7IHRpdGxlIGRhdGUgc2VudGVuY2VzIHt0ZXh0IHNwZWFrZXJfbmFtZX0gfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgYCxcbiAgICB9KSxcbiAgfSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gcmVzdWx0Lmpzb24oKTtcbiAgICB9KVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICB9KTtcblxuICBsZXQgY3VycmVudF9zZW50ZW5jZSA9IFwiXCI7XG4gIGxldCB1c2VmdWxfcGFyYWdyYXBoczogc3RyaW5nW10gPSBbXTtcbiAgbGV0IGN1cnJlbnRfc3BlYWtlciA9XG4gICAgdHJhbnNjcmlwdFtcInRyYW5zY3JpcHRcIl1bXCJzZW50ZW5jZXNcIl1bMF1bXCJzcGVha2VyX25hbWVcIl07XG5cbiAgZm9yIChsZXQgc2VudGVuY2Ugb2YgdHJhbnNjcmlwdFtcInRyYW5zY3JpcHRcIl1bXCJzZW50ZW5jZXNcIl0pIHtcbiAgICBpZiAoc2VudGVuY2VbXCJzcGVha2VyX25hbWVcIl0gPT0gY3VycmVudF9zcGVha2VyKSB7XG4gICAgICBjdXJyZW50X3NlbnRlbmNlICs9IHNlbnRlbmNlW1widGV4dFwiXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGN1cnJlbnRfc2VudGVuY2UubGVuZ3RoICE9IDApIHtcbiAgICAgICAgaWYgKGludmVzdG9yX25hbWVzLmluY2x1ZGVzKGN1cnJlbnRfc3BlYWtlcikpIHtcbiAgICAgICAgICBjdXJyZW50X3NwZWFrZXIgKz0gXCIgKEludmVzdG9yKVwiO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRfc3BlYWtlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudF9zcGVha2VyICs9IFwiIChGb3VuZGVyKVwiO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRfc2VudGVuY2UgPSBjdXJyZW50X3NwZWFrZXIgKyBcIjogXCIgKyBjdXJyZW50X3NlbnRlbmNlICsgXCJcXG5cIjtcbiAgICAgICAgdXNlZnVsX3BhcmFncmFwaHMucHVzaChjdXJyZW50X3NlbnRlbmNlKTtcbiAgICAgICAgY3VycmVudF9zZW50ZW5jZSA9IHNlbnRlbmNlW1widGV4dFwiXTtcbiAgICAgICAgY3VycmVudF9zcGVha2VyID0gc2VudGVuY2VbXCJzcGVha2VyX25hbWVcIl07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChjdXJyZW50X3NlbnRlbmNlLmxlbmd0aCAhPSAwKSB7XG4gICAgdXNlZnVsX3BhcmFncmFwaHMucHVzaChjdXJyZW50X3NlbnRlbmNlKTtcbiAgfVxuXG4gIHJldHVybiB1c2VmdWxfcGFyYWdyYXBocztcbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdUJBaUJPOzs7QUNqQlAsc0JBQWdDO0FBRWhDLElBQUksNkJBQTZCO0FBQ2pDLElBQUksb0JBQW9CO0FBQ3hCLElBQUksdUJBQXVCO0FBQzNCLElBQUksNEJBQTRCO0FBQ2hDLElBQUksb0JBQW9CO0FBRXhCLGdDQUFnQyxpQkFBd0I7QUFDdEQsTUFBSSxXQUFXO0FBQ2YsTUFBSSxNQUFNO0FBQ1YsTUFBSSxPQUFPLFdBQVcsT0FBTyxLQUFLLFdB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
